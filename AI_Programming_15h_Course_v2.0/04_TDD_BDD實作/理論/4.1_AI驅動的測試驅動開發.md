# 4.1 AI é©…å‹•çš„æ¸¬è©¦é©…å‹•é–‹ç™¼

## ğŸ“‹ å…§å®¹æ¦‚è¿°

æœ¬ç« æ¢è¨å¦‚ä½•ç”¨ AI è¼”åŠ©æ¸¬è©¦é©…å‹•é–‹ç™¼ï¼ˆTDDï¼‰ï¼Œåœ¨ä¸ç ´å£ TDD ç²¾ç¥çš„å‰æä¸‹ï¼Œå¤§å¹…æå‡é–‹ç™¼æ•ˆç‡ã€‚

**é–±è®€æ™‚é–“**ï¼š60 åˆ†é˜
**å¯¦ä½œæ™‚é–“**ï¼š60-90 åˆ†é˜ï¼ˆè·Ÿè‘—ç¯„ä¾‹å¯¦ä½œï¼‰

---

## ğŸ¯ å­¸ç¿’ç›®æ¨™

- ç†è§£ TDD çš„ç´…-ç¶ -é‡æ§‹å¾ªç’°
- æŒæ¡ AI è¼”åŠ© TDD çš„å®Œæ•´å·¥ä½œæµç¨‹
- é«”é©—ã€Œæ¸¬è©¦å…ˆè¡Œã€çš„å¨åŠ›
- å»ºç«‹ TDD æ€ç¶­æ¨¡å¼

---

## ç¬¬ä¸€éƒ¨åˆ†ï¼šTDD æ ¸å¿ƒåŸå‰‡

### ä»€éº¼æ˜¯æ¸¬è©¦é©…å‹•é–‹ç™¼ï¼Ÿ

**å®šç¾©**ï¼š
> TDD æ˜¯ä¸€ç¨®è»Ÿé«”é–‹ç™¼æ–¹æ³•ï¼Œåœ¨å¯«å¯¦ä½œç¨‹å¼ç¢¼ä¹‹å‰ï¼Œå…ˆå¯«æ¸¬è©¦ç¨‹å¼ç¢¼ã€‚

**æ ¸å¿ƒå¾ªç’°**ï¼š
```
ğŸ”´ Redï¼ˆç´…ï¼‰   â†’ å¯«ä¸€å€‹å¤±æ•—çš„æ¸¬è©¦
ğŸŸ¢ Greenï¼ˆç¶ ï¼‰  â†’ å¯«æœ€ç°¡å–®çš„ç¨‹å¼ç¢¼è®“æ¸¬è©¦é€šé
ğŸ”µ Refactorï¼ˆé‡æ§‹ï¼‰ â†’ æ”¹å–„ç¨‹å¼ç¢¼å“è³ªï¼Œä¿æŒæ¸¬è©¦é€šé
```

### ç‚ºä»€éº¼è¦ TDDï¼Ÿ

#### éŒ¯èª¤çš„ç†ç”±

âŒ **ã€Œç‚ºäº†æé«˜æ¸¬è©¦è¦†è“‹ç‡ã€**
- è¦†è“‹ç‡åªæ˜¯å‰¯ç”¢å“ï¼Œä¸æ˜¯ç›®çš„

âŒ **ã€Œå› ç‚ºæ¸¬è©¦å¾ˆé‡è¦ã€**
- æ¸¬è©¦ç¢ºå¯¦é‡è¦ï¼Œä½†é€™ä¸è¶³ä»¥èªªæ˜ç‚ºä»€éº¼è¦ã€Œå…ˆã€å¯«æ¸¬è©¦

âŒ **ã€Œç‚ºäº†æ‰¾ bugã€**
- TDD çš„ä¸»è¦ç›®çš„ä¸æ˜¯æ‰¾ bugï¼Œè€Œæ˜¯è¨­è¨ˆ

#### æ­£ç¢ºçš„ç†ç”±

âœ… **ã€Œæ¸¬è©¦é©…å‹•è¨­è¨ˆã€**
```
å¯«æ¸¬è©¦ â†’ æ€è€ƒä»‹é¢ â†’ ç™¼ç¾è¨­è¨ˆå•é¡Œ â†’ æ”¹é€²è¨­è¨ˆ
```

âœ… **ã€Œå³æ™‚å›é¥‹ã€**
```
æ¯å¹¾åˆ†é˜å°±çŸ¥é“ç¨‹å¼ç¢¼æ˜¯å¦æ­£ç¢º
ä¸éœ€è¦ç­‰åˆ°æ•´å€‹åŠŸèƒ½å®Œæˆæ‰æ¸¬è©¦
```

âœ… **ã€Œé‡æ§‹çš„ä¿è­·ç¶²ã€**
```
æœ‰æ¸¬è©¦ä¿è­· â†’ æ”¾å¿ƒé‡æ§‹ â†’ æŒçºŒæ”¹å–„ç¨‹å¼ç¢¼
æ²’æœ‰æ¸¬è©¦ â†’ å®³æ€•æ”¹ç¨‹å¼ç¢¼ â†’ ç¨‹å¼ç¢¼è…åŒ–
```

âœ… **ã€Œå¯åŸ·è¡Œçš„è¦ç¯„ã€**
```
æ¸¬è©¦ = ç¨‹å¼ç¢¼æ‡‰è©²å¦‚ä½•é‹ä½œçš„è¦ç¯„
æ¸¬è©¦ = æ´»æ–‡æª”ï¼ˆæ°¸é ä¸æœƒéæ™‚ï¼‰
```

---

### TDD çš„ä¸‰å€‹éšæ®µè©³è§£

#### ğŸ”´ ç´…éšæ®µï¼šå¯«å¤±æ•—çš„æ¸¬è©¦

**ç›®çš„**ï¼š
- æ¸…æ¥šå®šç¾©ã€Œä¸‹ä¸€å€‹ã€è¦å¯¦ä½œçš„åŠŸèƒ½
- å»ºç«‹å¯é©—è­‰çš„æˆåŠŸæ¨™æº–
- ç¢ºèªæ¸¬è©¦çœŸçš„æœƒå¤±æ•—ï¼ˆé¿å…å‡é™½æ€§ï¼‰

**åŸå‰‡**ï¼š
1. **åªå¯«ä¸€å€‹æ¸¬è©¦**ï¼ˆä¸è¦ä¸€æ¬¡å¯«å®Œæ‰€æœ‰æ¸¬è©¦ï¼‰
2. **æ¸¬è©¦æ‡‰è©²æ˜ç¢ºä¸”ç°¡å–®**ï¼ˆä¸€å€‹æ¸¬è©¦åªé©—è­‰ä¸€ä»¶äº‹ï¼‰
3. **æ¸¬è©¦åç¨±æè¿°é æœŸè¡Œç‚º**ï¼ˆä¸æ˜¯æè¿°å¯¦ä½œï¼‰
4. **ç¢ºèªæ¸¬è©¦çœŸçš„å¤±æ•—**ï¼ˆåŸ·è¡Œæ¸¬è©¦ï¼Œçœ‹åˆ°ç´…è‰²ï¼‰

**ç¯„ä¾‹**ï¼š
```python
# Good: æè¿°è¡Œç‚ºï¼Œæ¸¬è©¦ç°¡å–®æ˜ç¢º
def test_user_can_create_task_with_title():
    task_manager = TaskManager()
    task = task_manager.create_task("Buy milk")
    assert task.title == "Buy milk"

# Bad: ä¸€æ¬¡æ¸¬è©¦å¤ªå¤šæ±è¥¿
def test_task_manager():
    task_manager = TaskManager()
    task1 = task_manager.create_task("Buy milk")
    task2 = task_manager.create_task("Do homework")
    assert task1.title == "Buy milk"
    assert task2.title == "Do homework"
    assert task_manager.get_all_tasks() == [task1, task2]
    assert task1.is_completed == False
```

#### ğŸŸ¢ ç¶ éšæ®µï¼šè®“æ¸¬è©¦é€šé

**ç›®çš„**ï¼š
- ç”¨æœ€å¿«çš„æ–¹å¼è®“æ¸¬è©¦é€šé
- å…ˆæ±‚èƒ½å‹•ï¼Œå†æ±‚å¥½ï¼ˆé‡æ§‹éšæ®µæœƒæ”¹å–„ï¼‰
- ç´¯ç©é€²åº¦ï¼Œå»ºç«‹ä¿¡å¿ƒ

**åŸå‰‡**ï¼š
1. **ç”¨æœ€ç°¡å–®çš„æ–¹å¼è®“æ¸¬è©¦é€šé**ï¼ˆå¯ä»¥å¯«ã€Œé†œé™‹ã€çš„ç¨‹å¼ç¢¼ï¼‰
2. **ä¸è¦éåº¦è¨­è¨ˆ**ï¼ˆYAGNI - You Aren't Gonna Need Itï¼‰
3. **å¿«é€Ÿé€šéé€™å€‹éšæ®µ**ï¼ˆ5-10 åˆ†é˜å…§å®Œæˆï¼‰
4. **ç¢ºèªæ¸¬è©¦çœŸçš„é€šé**ï¼ˆåŸ·è¡Œæ¸¬è©¦ï¼Œçœ‹åˆ°ç¶ è‰²ï¼‰

**ç¯„ä¾‹**ï¼š

```python
# ç¬¬ä¸€æ¬¡è¿­ä»£ï¼šæœ€ç°¡å–®çš„å¯¦ä½œï¼ˆç”šè‡³å¯ä»¥ hardcodeï¼‰
class TaskManager:
    def create_task(self, title):
        task = Task()
        task.title = "Buy milk"  # å¯«æ­»çš„å€¼ï¼Œä½†æ¸¬è©¦é€šéäº†ï¼
        return task

# ç¬¬äºŒå€‹æ¸¬è©¦æœƒå¼·è¿«ä½ æ”¹é€²
def test_user_can_create_task_with_different_title():
    task_manager = TaskManager()
    task = task_manager.create_task("Do homework")
    assert task.title == "Do homework"  # é€™æœƒå¤±æ•—

# æ”¹é€²å¯¦ä½œ
class TaskManager:
    def create_task(self, title):
        task = Task()
        task.title = title  # ç¾åœ¨æ­£ç¢ºäº†
        return task
```

**ç‚ºä»€éº¼å…è¨±ã€Œé†œé™‹ã€çš„ç¨‹å¼ç¢¼ï¼Ÿ**
- å¿«é€Ÿå¾—åˆ°å›é¥‹ï¼ˆçŸ¥é“æ–¹å‘æ­£ç¢ºï¼‰
- é¿å…éæ—©å„ªåŒ–ï¼ˆä¸çŸ¥é“éœ€æ±‚æœƒå¦‚ä½•æ¼”è®Šï¼‰
- é‡æ§‹éšæ®µæœƒæ”¹å–„ï¼ˆæœ‰æ¸¬è©¦ä¿è­·ï¼‰

#### ğŸ”µ é‡æ§‹éšæ®µï¼šæ”¹å–„ç¨‹å¼ç¢¼

**ç›®çš„**ï¼š
- æ”¹å–„ç¨‹å¼ç¢¼å“è³ª
- æ¶ˆé™¤é‡è¤‡
- æ”¹å–„å‘½åå’Œçµæ§‹
- è®“ç¨‹å¼ç¢¼æ›´æ˜“è®€ã€æ˜“ç¶­è­·

**åŸå‰‡**ï¼š
1. **æ¸¬è©¦å¿…é ˆä¿æŒé€šé**ï¼ˆé‡æ§‹ä¸æ”¹è®Šè¡Œç‚ºï¼‰
2. **å°æ­¥è¿­ä»£**ï¼ˆæ¯æ¬¡æ”¹ä¸€é»é»ï¼‰
3. **ç¶“å¸¸åŸ·è¡Œæ¸¬è©¦**ï¼ˆç¢ºä¿æ²’æœ‰ç ´å£åŠŸèƒ½ï¼‰
4. **è¿½æ±‚ç°¡æ½”**ï¼ˆåˆªé™¤ä¸å¿…è¦çš„ç¨‹å¼ç¢¼ï¼‰

**å¸¸è¦‹é‡æ§‹æ‰‹æ³•**ï¼š

```python
# é‡æ§‹å‰ï¼šé‡è¤‡çš„ç¨‹å¼ç¢¼
class TaskManager:
    def create_task(self, title):
        task = Task()
        task.title = title
        task.is_completed = False
        task.created_at = datetime.now()
        return task

    def create_task_with_priority(self, title, priority):
        task = Task()
        task.title = title
        task.is_completed = False
        task.created_at = datetime.now()
        task.priority = priority
        return task

# é‡æ§‹å¾Œï¼šæå–å…±åŒé‚è¼¯
class TaskManager:
    def create_task(self, title, priority=None):
        task = Task()
        task.title = title
        task.is_completed = False
        task.created_at = datetime.now()
        if priority:
            task.priority = priority
        return task
```

---

## ç¬¬äºŒéƒ¨åˆ†ï¼šç‚ºä»€éº¼ TDD èˆ‡ AI æ˜¯å®Œç¾çµ„åˆ

### å‚³çµ± TDD çš„æŒ‘æˆ°

**æŒ‘æˆ° 1ï¼šå¯«æ¸¬è©¦å¾ˆèŠ±æ™‚é–“**
```
å¯«æ¸¬è©¦éª¨æ¶ â†’ è¨­ç½® fixtures â†’ å¯«æ–·è¨€ â†’ è™•ç†é‚Šç•Œæƒ…æ³
å¯èƒ½éœ€è¦ 30-60 åˆ†é˜
```

**æŒ‘æˆ° 2ï¼šæ¸¬è©¦ç¨‹å¼ç¢¼ä¹Ÿéœ€è¦ç¶­è­·**
```
åŠŸèƒ½è®Šæ›´ â†’ æ¸¬è©¦ä¹Ÿè¦æ”¹ â†’ åˆæ˜¯ä¸€å †æ™‚é–“
```

**æŒ‘æˆ° 3ï¼šæ€ç¶­è½‰æ›å›°é›£**
```
ç¿’æ…£å…ˆå¯«å¯¦ä½œ â†’ å¼·è¿«è‡ªå·±å…ˆå¯«æ¸¬è©¦ â†’ æ„Ÿè¦ºä¸è‡ªç„¶
```

**æŒ‘æˆ° 4ï¼šåˆæœŸé€Ÿåº¦æ…¢**
```
å‰›é–‹å§‹ TDD â†’ æ„Ÿè¦ºæ•ˆç‡å¾ˆä½ â†’ å®¹æ˜“æ”¾æ£„
```

### AI å¦‚ä½•å®Œç¾è§£æ±ºé€™äº›æŒ‘æˆ°

**è§£æ±ºæŒ‘æˆ° 1ï¼šAI ç”Ÿæˆæ¸¬è©¦éª¨æ¶**
```
äººé¡ï¼šæè¿°è¦æ¸¬è©¦çš„è¡Œç‚ºï¼ˆ30 ç§’ï¼‰
â†“
AIï¼šç”Ÿæˆå®Œæ•´æ¸¬è©¦ç¨‹å¼ç¢¼ï¼ˆ5 ç§’ï¼‰
â†“
äººé¡ï¼šæª¢æŸ¥ä¸¦å®Œå–„ï¼ˆ2-3 åˆ†é˜ï¼‰

ç¸½è¨ˆï¼š3-4 åˆ†é˜ï¼ˆåŸæœ¬éœ€è¦ 30 åˆ†é˜ï¼‰
```

**è§£æ±ºæŒ‘æˆ° 2ï¼šAI å”åŠ©ç¶­è­·æ¸¬è©¦**
```
äººé¡ï¼šèªªæ˜åŠŸèƒ½è®Šæ›´
â†“
AIï¼šæ›´æ–°æ¸¬è©¦ç¨‹å¼ç¢¼
â†“
äººé¡ï¼šé©—è­‰æ­£ç¢ºæ€§

ç¶­è­·æ™‚é–“å¾ 30 åˆ†é˜é™åˆ° 5 åˆ†é˜
```

**è§£æ±ºæŒ‘æˆ° 3ï¼šAI å”åŠ©å»ºç«‹ TDD ç¿’æ…£**
```
AI å…ˆç”Ÿæˆæ¸¬è©¦ â†’ äººé¡è‡ªç„¶åœ°éµå¾ª TDD æµç¨‹
ä¸éœ€è¦ã€Œå¼·è¿«ã€è‡ªå·±ï¼Œå·¥å…·æµç¨‹å°±æ˜¯é€™æ¨£è¨­è¨ˆçš„
```

**è§£æ±ºæŒ‘æˆ° 4ï¼šåŠ é€ŸåˆæœŸå­¸ç¿’**
```
çœ‹ AI å¦‚ä½•å¯«æ¸¬è©¦ â†’ å­¸ç¿’æ¸¬è©¦çš„æ¨¡å¼ â†’ å»ºç«‹è‚Œè‚‰è¨˜æ†¶
å¹¾é€±å¾Œå³ä½¿ä¸ç”¨ AI ä¹Ÿèƒ½å¯«å¥½æ¸¬è©¦
```

---

### AI è¼”åŠ© TDD çš„æ ¸å¿ƒåƒ¹å€¼

**åƒ¹å€¼ 1ï¼šä¿æŒ TDD ç²¾ç¥ï¼Œæå‡åŸ·è¡Œæ•ˆç‡**
```
âŒ éŒ¯èª¤æƒ³æ³•ï¼šç”¨ AI ç”Ÿæˆå¯¦ä½œï¼Œè·³éæ¸¬è©¦
âœ… æ­£ç¢ºåšæ³•ï¼šç”¨ AI åŠ é€Ÿæ¸¬è©¦ç·¨å¯«ï¼Œåš´æ ¼éµå¾ª TDD

TDD çš„åƒ¹å€¼ï¼ˆè¨­è¨ˆã€å›é¥‹ã€ä¿è­·ï¼‰å®Œå…¨ä¿ç•™
ä½†åŸ·è¡Œæ•ˆç‡æå‡ 3-5 å€
```

**åƒ¹å€¼ 2ï¼šé™ä½ TDD å­¸ç¿’æ›²ç·š**
```
å‚³çµ±ï¼šè‡ªå·±æ‘¸ç´¢å¦‚ä½•å¯«å¥½æ¸¬è©¦ï¼ˆéœ€è¦ 3-6 å€‹æœˆï¼‰
AI è¼”åŠ©ï¼šçœ‹ AI ç¤ºç¯„ + ä¸æ–·ç·´ç¿’ï¼ˆéœ€è¦ 2-4 é€±ï¼‰

å­¸ç¿’æ™‚é–“ç¸®çŸ­ 80%
```

**åƒ¹å€¼ 3ï¼šæå‡æ¸¬è©¦å“è³ª**
```
AI å¯ä»¥ï¼š
- è‡ªå‹•è€ƒæ…®é‚Šç•Œæƒ…æ³
- ç”Ÿæˆæ›´å…¨é¢çš„æ¸¬è©¦
- æä¾›ä¸åŒçš„æ¸¬è©¦è¦–è§’
- ç™¼ç¾äººé¡å®¹æ˜“å¿½ç•¥çš„æƒ…æ³

æ¸¬è©¦å“è³ªå¾€å¾€æ¯”äººé¡æ‰‹å¯«æ›´å¥½
```

**åƒ¹å€¼ 4ï¼šè®“ TDD è®Šå¾—æœ‰è¶£**
```
å‚³çµ± TDDï¼šå¯«æ¸¬è©¦æ˜¯ã€Œè‹¦å·¥ã€
AI è¼”åŠ© TDDï¼šåƒåœ¨ç©éŠæˆ²

çœ‹åˆ°æ¸¬è©¦å¿«é€Ÿé€šé â†’ ç²å¾—æˆå°±æ„Ÿ â†’ æ›´é¡˜æ„å¯«æ¸¬è©¦
æ­£å‘å¾ªç’°å»ºç«‹
```

---

## ç¬¬ä¸‰éƒ¨åˆ†ï¼šAI è¼”åŠ© TDD å·¥ä½œæµç¨‹

### å®Œæ•´å·¥ä½œæµç¨‹åœ–

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1ï¸âƒ£ äººé¡ï¼šå®šç¾©ä¸‹ä¸€å€‹æ¸¬è©¦å ´æ™¯                        â”‚
â”‚    ã€Œæˆ‘è¦æ¸¬è©¦ç”¨æˆ¶å¯ä»¥å»ºç«‹ä»»å‹™ã€                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2ï¸âƒ£ AIï¼šç”Ÿæˆæ¸¬è©¦éª¨æ¶                               â”‚
â”‚    def test_user_can_create_task(): ...         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3ï¸âƒ£ äººé¡ï¼šæª¢æŸ¥ä¸¦å®Œå–„æ¸¬è©¦é‚è¼¯                        â”‚
â”‚    è£œå……é‚Šç•Œæƒ…æ³ã€æ”¹å–„æ–·è¨€                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 4ï¸âƒ£ åŸ·è¡Œæ¸¬è©¦ â†’ ğŸ”´ REDï¼ˆç¢ºèªæ¸¬è©¦å¤±æ•—ï¼‰               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 5ï¸âƒ£ AIï¼šç”Ÿæˆè®“æ¸¬è©¦é€šéçš„å¯¦ä½œ                        â”‚
â”‚    class TaskManager: ...                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 6ï¸âƒ£ äººé¡ï¼šæª¢æŸ¥å¯¦ä½œçš„æ­£ç¢ºæ€§å’Œç°¡æ½”æ€§                   â”‚
â”‚    ç¢ºä¿æ˜¯ã€Œæœ€ç°¡å–®ã€çš„å¯¦ä½œ                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 7ï¸âƒ£ åŸ·è¡Œæ¸¬è©¦ â†’ ğŸŸ¢ GREENï¼ˆç¢ºèªæ¸¬è©¦é€šéï¼‰             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 8ï¸âƒ£ äººé¡ + AIï¼šå”ä½œé‡æ§‹                            â”‚
â”‚    äººé¡æŒ‡å‡ºé‡æ§‹æ–¹å‘ï¼ŒAI åŸ·è¡Œé‡æ§‹                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 9ï¸âƒ£ åŸ·è¡Œæ‰€æœ‰æ¸¬è©¦ â†’ ğŸŸ¢ ç¢ºèªæ²’æœ‰ç ´å£                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â†“
        å›åˆ°æ­¥é©Ÿ 1ï¸âƒ£ï¼ˆä¸‹ä¸€å€‹åŠŸèƒ½ï¼‰
```

---

### è©³ç´°æ­¥é©Ÿèªªæ˜

#### æ­¥é©Ÿ 1ï¼šäººé¡å®šç¾©æ¸¬è©¦å ´æ™¯

**ä½ è¦åšçš„**ï¼š
- æ€è€ƒã€Œä¸‹ä¸€å€‹ã€æœ€å°çš„åŠŸèƒ½å–®å…ƒ
- ç”¨ä¸€å¥è©±æè¿°è¦æ¸¬è©¦çš„è¡Œç‚º
- ä¸è¦æƒ³å¤ªé ï¼ˆåªå°ˆæ³¨ç•¶ä¸‹é€™ä¸€å€‹æ¸¬è©¦ï¼‰

**èˆ‡ AI çš„å°è©±ç¯„ä¾‹**ï¼š
```
ä½ ï¼šã€Œæˆ‘è¦ç”¨ TDD æ–¹å¼å»ºç«‹ä»»å‹™ç®¡ç†ç³»çµ±ã€‚
     ç¬¬ä¸€å€‹æ¸¬è©¦ï¼šç”¨æˆ¶å¯ä»¥å»ºç«‹ä¸€å€‹ä»»å‹™ï¼Œä¸¦æŒ‡å®šæ¨™é¡Œã€‚
     è«‹å¹«æˆ‘ç”Ÿæˆæ¸¬è©¦ç¨‹å¼ç¢¼ã€‚ã€

ï¼ˆæ¸…æ¥šã€å…·é«”ã€èšç„¦åœ¨ä¸€å€‹è¡Œç‚ºï¼‰
```

#### æ­¥é©Ÿ 2ï¼šAI ç”Ÿæˆæ¸¬è©¦éª¨æ¶

**AI æœƒåšä»€éº¼**ï¼š
```python
# AI ç”Ÿæˆçš„æ¸¬è©¦ç¨‹å¼ç¢¼
import pytest
from task_manager import TaskManager

def test_user_can_create_task_with_title():
    """Test that a user can create a task with a specific title"""
    # Arrange
    task_manager = TaskManager()
    title = "Buy milk"

    # Act
    task = task_manager.create_task(title)

    # Assert
    assert task is not None
    assert task.title == "Buy milk"
    assert isinstance(task.id, str)  # AI å¯èƒ½æœƒè€ƒæ…®æ›´å¤šç´°ç¯€
```

**AI çš„åƒ¹å€¼**ï¼š
- è‡ªå‹•è¨­ç½®æ¸¬è©¦çµæ§‹ï¼ˆArrange-Act-Assertï¼‰
- è€ƒæ…®åŸºæœ¬çš„é‚Šç•Œæƒ…æ³
- ç”Ÿæˆæ¸…æ™°çš„æ¸¬è©¦åç¨±å’Œæ–‡æª”

#### æ­¥é©Ÿ 3ï¼šäººé¡æª¢æŸ¥ä¸¦å®Œå–„

**ä½ è¦åšçš„**ï¼š
```python
# æª¢æŸ¥é» 1ï¼šæ¸¬è©¦é‚è¼¯æ˜¯å¦æ­£ç¢ºï¼Ÿ
assert task.title == "Buy milk"  # âœ“ æ­£ç¢º

# æª¢æŸ¥é» 2ï¼šæ˜¯å¦æ¸¬è©¦å¤ªå¤šï¼Ÿ
assert isinstance(task.id, str)  # ï¼Ÿ é€™å€‹æ¸¬è©¦å¿…è¦å—ï¼Ÿ
# æ±ºå®šï¼šç¬¬ä¸€å€‹æ¸¬è©¦å…ˆå°ˆæ³¨åœ¨ titleï¼Œid ç•™çµ¦ä¸‹ä¸€å€‹æ¸¬è©¦

# æª¢æŸ¥é» 3ï¼šæ˜¯å¦æœ‰éºæ¼ï¼Ÿ
# åŠ ä¸Šï¼šä»»å‹™å»ºç«‹æ™‚æ‡‰è©²æ˜¯ã€Œæœªå®Œæˆã€ç‹€æ…‹
assert task.is_completed == False  # âœ“ è£œå……

# æœ€çµ‚ç‰ˆæœ¬
def test_user_can_create_task_with_title():
    task_manager = TaskManager()
    task = task_manager.create_task("Buy milk")

    assert task.title == "Buy milk"
    assert task.is_completed == False
```

**é—œéµåŸå‰‡**ï¼š
- æ¸¬è©¦æ‡‰è©²ç°¡å–®ä¸”å°ˆæ³¨
- ä¸€å€‹æ¸¬è©¦åªé©—è­‰ä¸€å€‹è¡Œç‚º
- åç¨±æ¸…æ¥šæè¿°é æœŸè¡Œç‚º

#### æ­¥é©Ÿ 4ï¼šåŸ·è¡Œæ¸¬è©¦ - ç¢ºèª RED

**ä½ è¦åšçš„**ï¼š
```bash
$ pytest tests/test_task_manager.py::test_user_can_create_task_with_title

# æ‡‰è©²çœ‹åˆ°
FAILED tests/test_task_manager.py::test_user_can_create_task_with_title
ModuleNotFoundError: No module named 'task_manager'
```

**ç‚ºä»€éº¼é€™ä¸€æ­¥é‡è¦**ï¼š
- ç¢ºèªæ¸¬è©¦çœŸçš„æœƒå¤±æ•—ï¼ˆé¿å…å‡é™½æ€§ï¼‰
- çœ‹åˆ°ç´…è‰²æ˜¯æ­£å¸¸çš„ï¼ˆç”šè‡³æ˜¯ä»¤äººèˆˆå¥®çš„ï¼‰
- å»ºç«‹æ¸…æ¥šçš„ç›®æ¨™ï¼ˆè®“é€™å€‹ç´…è‰²è®Šç¶ è‰²ï¼‰

**å¸¸è¦‹éŒ¯èª¤**ï¼š
```python
# âŒ éŒ¯èª¤ï¼šæ¸¬è©¦å¯«éŒ¯äº†ï¼Œæ°¸é é€šé
def test_user_can_create_task_with_title():
    task_manager = TaskManager()
    task = task_manager.create_task("Buy milk")
    assert True  # é€™å€‹æ¸¬è©¦æ°¸é é€šéï¼

# âœ“ æ­£ç¢ºï¼šæœ‰å¯¦è³ªçš„é©—è­‰
def test_user_can_create_task_with_title():
    task_manager = TaskManager()
    task = task_manager.create_task("Buy milk")
    assert task.title == "Buy milk"  # çœŸæ­£çš„é©—è­‰
```

#### æ­¥é©Ÿ 5ï¼šAI ç”Ÿæˆå¯¦ä½œ

**èˆ‡ AI çš„å°è©±**ï¼š
```
ä½ ï¼šã€Œç¾åœ¨æˆ‘æœ‰ä¸€å€‹å¤±æ•—çš„æ¸¬è©¦ï¼ˆè²¼ä¸Šæ¸¬è©¦ç¨‹å¼ç¢¼ï¼‰ã€‚
     è«‹å¹«æˆ‘å¯¦ä½œ TaskManager å’Œ Task é¡åˆ¥ï¼Œ
     ç”¨ã€æœ€ç°¡å–®ã€çš„æ–¹å¼è®“æ¸¬è©¦é€šéã€‚ã€

AIï¼šã€Œå¥½çš„ï¼Œé€™æ˜¯æœ€ç°¡å¯¦ä½œï¼šã€
```

```python
# AI ç”Ÿæˆçš„å¯¦ä½œ
class Task:
    def __init__(self, title):
        self.title = title
        self.is_completed = False

class TaskManager:
    def create_task(self, title):
        return Task(title)
```

**AI çš„åƒ¹å€¼**ï¼š
- å¿«é€Ÿç”ŸæˆåŸºæœ¬å¯¦ä½œï¼ˆç¯€çœæ‰“å­—æ™‚é–“ï¼‰
- é€šå¸¸æœƒç”¢ç”Ÿç°¡æ½”çš„ç¨‹å¼ç¢¼
- å¯ä»¥è™•ç†åŸºæœ¬çš„é‚Šç•Œæƒ…æ³

#### æ­¥é©Ÿ 6ï¼šäººé¡æª¢æŸ¥å¯¦ä½œ

**ä½ è¦æª¢æŸ¥çš„**ï¼š

**æª¢æŸ¥é» 1ï¼šæ˜¯å¦çœŸçš„ã€Œæœ€ç°¡å–®ã€ï¼Ÿ**
```python
# âŒ éåº¦è¨­è¨ˆ
class TaskManager:
    def __init__(self):
        self.tasks = []
        self.id_counter = 0

    def create_task(self, title):
        self.id_counter += 1
        task = Task(str(self.id_counter), title)
        self.tasks.append(task)
        return task

# å•ï¼šæ¸¬è©¦æœ‰è¦æ±‚å„²å­˜ä»»å‹™å—ï¼Ÿæ²’æœ‰ã€‚
# å•ï¼šæ¸¬è©¦æœ‰è¦æ±‚ ID å—ï¼Ÿæ²’æœ‰ã€‚
# çµè«–ï¼šéåº¦è¨­è¨ˆäº†ï¼Œé•å YAGNI åŸå‰‡

# âœ“ æœ€ç°¡å¯¦ä½œ
class TaskManager:
    def create_task(self, title):
        return Task(title)
```

**æª¢æŸ¥é» 2ï¼šç¨‹å¼ç¢¼æ˜¯å¦æ¸…æ™°ï¼Ÿ**
```python
# âŒ å‘½åä¸æ¸…
class TaskManager:
    def ct(self, t):  # ä»€éº¼é¬¼ï¼Ÿ
        return Task(t)

# âœ“ æ¸…æ™°çš„å‘½å
class TaskManager:
    def create_task(self, title):
        return Task(title)
```

**æª¢æŸ¥é» 3ï¼šæœ‰æ²’æœ‰æ˜é¡¯çš„å•é¡Œï¼Ÿ**
```python
# âŒ æ²’æœ‰è™•ç† None
class Task:
    def __init__(self, title):
        self.title = title  # title æ˜¯ None æœƒæ€æ¨£ï¼Ÿ

# âœ“ åŠ ä¸ŠåŸºæœ¬é©—è­‰ï¼ˆå¦‚æœéœ€è¦ï¼‰
class Task:
    def __init__(self, title):
        if not title:
            raise ValueError("Title cannot be empty")
        self.title = title
```

ä½†æ³¨æ„ï¼š**åªæœ‰åœ¨æ¸¬è©¦è¦æ±‚æ™‚æ‰åŠ é©—è­‰**ï¼
å¦‚æœæ¸¬è©¦æ²’æœ‰æ¸¬è©¦ç©ºæ¨™é¡Œçš„æƒ…æ³ï¼Œå°±ä¸è¦åŠ é€™å€‹é©—è­‰ï¼ˆYAGNIï¼‰ã€‚

#### æ­¥é©Ÿ 7ï¼šåŸ·è¡Œæ¸¬è©¦ - ç¢ºèª GREEN

**ä½ è¦åšçš„**ï¼š
```bash
$ pytest tests/test_task_manager.py::test_user_can_create_task_with_title

# æ‡‰è©²çœ‹åˆ°
PASSED tests/test_task_manager.py::test_user_can_create_task_with_title âœ“
```

**é€™ä¸€åˆ»çš„æ„Ÿå—**ï¼š
- ğŸ‰ æˆå°±æ„Ÿï¼ˆå¾ç´…è®Šç¶ ï¼‰
- ğŸ’ª ä¿¡å¿ƒï¼ˆçŸ¥é“é€™éƒ¨åˆ†åŠŸèƒ½æ˜¯æ­£ç¢ºçš„ï¼‰
- ğŸš€ å‹•åŠ›ï¼ˆæƒ³ç¹¼çºŒä¸‹ä¸€å€‹æ¸¬è©¦ï¼‰

**å¦‚æœæ¸¬è©¦æ²’é€šé**ï¼š
1. æª¢æŸ¥å¯¦ä½œé‚è¼¯
2. æª¢æŸ¥æ¸¬è©¦é‚è¼¯
3. èˆ‡ AI è¨è«–å•é¡Œåœ¨å“ªè£¡
4. ä¿®æ­£å¾Œå†æ¬¡åŸ·è¡Œ

#### æ­¥é©Ÿ 8ï¼šå”ä½œé‡æ§‹

**ä½ è¦åšçš„**ï¼š

**é‡æ§‹æ™‚æ©Ÿ 1ï¼šçœ‹åˆ°é‡è¤‡ç¨‹å¼ç¢¼**
```python
# å¯«äº†å¹¾å€‹æ¸¬è©¦å¾Œï¼Œç™¼ç¾é‡è¤‡
def test_create_task():
    task_manager = TaskManager()  # é‡è¤‡
    task = task_manager.create_task("Task 1")
    assert task.title == "Task 1"

def test_complete_task():
    task_manager = TaskManager()  # é‡è¤‡
    task = task_manager.create_task("Task 1")
    task_manager.complete_task(task.id)
    assert task.is_completed

# å° AI èªªï¼š
ã€Œæˆ‘æ³¨æ„åˆ°æ¯å€‹æ¸¬è©¦éƒ½åœ¨å»ºç«‹ TaskManagerã€‚
 è«‹å¹«æˆ‘é‡æ§‹ï¼Œä½¿ç”¨ pytest fixtureã€‚ã€

# AI ç”Ÿæˆ
@pytest.fixture
def task_manager():
    return TaskManager()

def test_create_task(task_manager):
    task = task_manager.create_task("Task 1")
    assert task.title == "Task 1"
```

**é‡æ§‹æ™‚æ©Ÿ 2ï¼šç¨‹å¼ç¢¼ä¸å¤ æ¸…æ™°**
```python
# å¯¦ä½œè®Šè¤‡é›œäº†
class TaskManager:
    def create_task(self, title, priority=None, due_date=None):
        task = Task(title)
        if priority:
            task.priority = priority
        if due_date:
            task.due_date = due_date
        if not hasattr(self, 'tasks'):
            self.tasks = []
        self.tasks.append(task)
        return task

# å° AI èªªï¼š
ã€Œé€™å€‹æ–¹æ³•åšå¤ªå¤šäº‹äº†ï¼Œè«‹å¹«æˆ‘é‡æ§‹ï¼š
 1. æå–ä»»å‹™åˆå§‹åŒ–é‚è¼¯
 2. æå–ä»»å‹™å„²å­˜é‚è¼¯ã€

# AI ç”Ÿæˆ
class TaskManager:
    def __init__(self):
        self.tasks = []

    def create_task(self, title, priority=None, due_date=None):
        task = self._initialize_task(title, priority, due_date)
        self._store_task(task)
        return task

    def _initialize_task(self, title, priority, due_date):
        task = Task(title)
        if priority:
            task.priority = priority
        if due_date:
            task.due_date = due_date
        return task

    def _store_task(self, task):
        self.tasks.append(task)
```

**é‡æ§‹æ™‚æ©Ÿ 3ï¼šç™¼ç¾è¨­è¨ˆå•é¡Œ**
```python
# æ¸¬è©¦æ­ç¤ºäº†è¨­è¨ˆå•é¡Œ
def test_get_completed_tasks():
    task_manager = TaskManager()
    task1 = task_manager.create_task("Task 1")
    task2 = task_manager.create_task("Task 2")
    task_manager.complete_task(task1.id)

    # é€™è¡Œç¨‹å¼ç¢¼çœ‹èµ·ä¾†å¾ˆé†œ
    completed = [t for t in task_manager.tasks if t.is_completed]
    assert len(completed) == 1

# å° AI èªªï¼š
ã€ŒTaskManager æ‡‰è©²æä¾›ä¸€å€‹æ–¹æ³•ä¾†å–å¾—å·²å®Œæˆçš„ä»»å‹™ã€‚
 è«‹åŠ ä¸Š get_completed_tasks() æ–¹æ³•ã€‚ã€

# AI ç”Ÿæˆ
class TaskManager:
    def get_completed_tasks(self):
        return [task for task in self.tasks if task.is_completed]

# æ¸¬è©¦è®Šç°¡æ½”äº†
def test_get_completed_tasks(task_manager):
    task1 = task_manager.create_task("Task 1")
    task2 = task_manager.create_task("Task 2")
    task_manager.complete_task(task1.id)

    completed = task_manager.get_completed_tasks()
    assert len(completed) == 1
    assert completed[0] == task1
```

#### æ­¥é©Ÿ 9ï¼šåŸ·è¡Œæ‰€æœ‰æ¸¬è©¦

**ä½ è¦åšçš„**ï¼š
```bash
$ pytest tests/

# æ‡‰è©²çœ‹åˆ°æ‰€æœ‰æ¸¬è©¦é€šé
======================== test session starts ========================
tests/test_task_manager.py ............                      [100%]
======================== 12 passed in 0.23s =========================
```

**é€™ä¸€æ­¥çš„æ„ç¾©**ï¼š
- ç¢ºä¿é‡æ§‹æ²’æœ‰ç ´å£ç¾æœ‰åŠŸèƒ½
- å»ºç«‹ä¿¡å¿ƒï¼ˆæ‰€æœ‰åŠŸèƒ½éƒ½é‚„æ­£å¸¸ï¼‰
- å¯ä»¥å®‰å¿ƒç¹¼çºŒä¸‹ä¸€å€‹åŠŸèƒ½

**å¦‚æœæœ‰æ¸¬è©¦å¤±æ•—**ï¼š
1. ä¸è¦æ…Œå¼µï¼ˆé€™å°±æ˜¯æ¸¬è©¦çš„åƒ¹å€¼ï¼‰
2. æŸ¥çœ‹å¤±æ•—çš„æ¸¬è©¦
3. å›é€€å‰›æ‰çš„é‡æ§‹
4. æ›´å°å¿ƒåœ°é‡æ§‹
5. å†æ¬¡åŸ·è¡Œæ¸¬è©¦

---

## ç¬¬å››éƒ¨åˆ†ï¼šå®Œæ•´ç¯„ä¾‹ - TDD æ§‹å»ºä»»å‹™ç®¡ç†ç³»çµ±

### æƒ…å¢ƒè¨­å®š

**éœ€æ±‚**ï¼š
å»ºç«‹ä¸€å€‹ç°¡å–®çš„ä»»å‹™ç®¡ç†ç³»çµ±ï¼Œæ”¯æ´ï¼š
1. å»ºç«‹ä»»å‹™ï¼ˆæ¨™é¡Œï¼‰
2. æ¨™è¨˜ä»»å‹™å®Œæˆ
3. å–å¾—æ‰€æœ‰ä»»å‹™
4. å–å¾—å·²å®Œæˆçš„ä»»å‹™

**æ™‚é–“ä¼°è¨ˆ**ï¼š60-90 åˆ†é˜

---

### ç¬¬ä¸€å€‹å¾ªç’°ï¼šå»ºç«‹ä»»å‹™

#### ğŸ”´ RED - å¯«æ¸¬è©¦

```python
# tests/test_task_manager.py
import pytest
from task_manager import TaskManager

def test_user_can_create_task_with_title():
    """ç”¨æˆ¶å¯ä»¥å»ºç«‹ä¸€å€‹æœ‰æ¨™é¡Œçš„ä»»å‹™"""
    # Arrange
    task_manager = TaskManager()

    # Act
    task = task_manager.create_task("Buy milk")

    # Assert
    assert task.title == "Buy milk"
    assert task.is_completed == False
```

**åŸ·è¡Œæ¸¬è©¦**ï¼š
```bash
$ pytest tests/test_task_manager.py -v

FAILED - ModuleNotFoundError: No module named 'task_manager'
```

âœ“ æ¸¬è©¦å¤±æ•—äº†ï¼ˆé æœŸä¸­ï¼‰

#### ğŸŸ¢ GREEN - å¯¦ä½œ

```python
# task_manager.py
class Task:
    def __init__(self, title):
        self.title = title
        self.is_completed = False

class TaskManager:
    def create_task(self, title):
        return Task(title)
```

**åŸ·è¡Œæ¸¬è©¦**ï¼š
```bash
$ pytest tests/test_task_manager.py -v

PASSED âœ“
```

#### ğŸ”µ REFACTOR - é‡æ§‹

ç›®å‰ç¨‹å¼ç¢¼å¾ˆç°¡å–®ï¼Œæš«ä¸éœ€è¦é‡æ§‹ã€‚

---

### ç¬¬äºŒå€‹å¾ªç’°ï¼šä»»å‹™éœ€è¦å”¯ä¸€ ID

#### ğŸ”´ RED - å¯«æ¸¬è©¦

```python
def test_created_tasks_have_unique_ids():
    """æ¯å€‹ä»»å‹™éƒ½æœ‰å”¯ä¸€çš„ ID"""
    task_manager = TaskManager()

    task1 = task_manager.create_task("Task 1")
    task2 = task_manager.create_task("Task 2")

    assert task1.id != task2.id
    assert isinstance(task1.id, str)
```

**åŸ·è¡Œæ¸¬è©¦**ï¼š
```bash
FAILED - AttributeError: 'Task' object has no attribute 'id'
```

#### ğŸŸ¢ GREEN - å¯¦ä½œ

```python
import uuid

class Task:
    def __init__(self, title):
        self.id = str(uuid.uuid4())
        self.title = title
        self.is_completed = False

class TaskManager:
    def create_task(self, title):
        return Task(title)
```

**åŸ·è¡Œæ¸¬è©¦**ï¼š
```bash
$ pytest tests/test_task_manager.py -v

PASSED âœ“âœ“  # å…©å€‹æ¸¬è©¦éƒ½é€šé
```

#### ğŸ”µ REFACTOR - é‡æ§‹

ç›®å‰ç¨‹å¼ç¢¼ä¾ç„¶ç°¡æ½”ï¼Œç„¡éœ€é‡æ§‹ã€‚

---

### ç¬¬ä¸‰å€‹å¾ªç’°ï¼šæ¨™è¨˜ä»»å‹™å®Œæˆ

#### ğŸ”´ RED - å¯«æ¸¬è©¦

```python
def test_user_can_mark_task_as_completed():
    """ç”¨æˆ¶å¯ä»¥æ¨™è¨˜ä»»å‹™ç‚ºå·²å®Œæˆ"""
    task_manager = TaskManager()
    task = task_manager.create_task("Buy milk")

    task_manager.complete_task(task.id)

    assert task.is_completed == True
```

**åŸ·è¡Œæ¸¬è©¦**ï¼š
```bash
FAILED - AttributeError: 'TaskManager' object has no attribute 'complete_task'
```

#### ğŸŸ¢ GREEN - å¯¦ä½œ

```python
class TaskManager:
    def __init__(self):
        self.tasks = []

    def create_task(self, title):
        task = Task(title)
        self.tasks.append(task)  # éœ€è¦å„²å­˜ä»»å‹™
        return task

    def complete_task(self, task_id):
        task = self._find_task(task_id)
        if task:
            task.is_completed = True

    def _find_task(self, task_id):
        for task in self.tasks:
            if task.id == task_id:
                return task
        return None
```

**åŸ·è¡Œæ¸¬è©¦**ï¼š
```bash
$ pytest tests/test_task_manager.py -v

PASSED âœ“âœ“âœ“  # ä¸‰å€‹æ¸¬è©¦éƒ½é€šé
```

#### ğŸ”µ REFACTOR - é‡æ§‹

çœ‹åˆ°æ¸¬è©¦é–‹å§‹é‡è¤‡å»ºç«‹ `TaskManager`ï¼Œæå– fixtureï¼š

```python
# tests/test_task_manager.py
import pytest
from task_manager import TaskManager

@pytest.fixture
def task_manager():
    return TaskManager()

def test_user_can_create_task_with_title(task_manager):
    task = task_manager.create_task("Buy milk")
    assert task.title == "Buy milk"
    assert task.is_completed == False

def test_created_tasks_have_unique_ids(task_manager):
    task1 = task_manager.create_task("Task 1")
    task2 = task_manager.create_task("Task 2")
    assert task1.id != task2.id

def test_user_can_mark_task_as_completed(task_manager):
    task = task_manager.create_task("Buy milk")
    task_manager.complete_task(task.id)
    assert task.is_completed == True
```

**åŸ·è¡Œæ¸¬è©¦**ï¼š
```bash
$ pytest tests/test_task_manager.py -v

PASSED âœ“âœ“âœ“  # é‡æ§‹å¾Œä¾ç„¶é€šé
```

---

### ç¬¬å››å€‹å¾ªç’°ï¼šå–å¾—æ‰€æœ‰ä»»å‹™

#### ğŸ”´ RED - å¯«æ¸¬è©¦

```python
def test_can_get_all_tasks(task_manager):
    """å¯ä»¥å–å¾—æ‰€æœ‰ä»»å‹™"""
    task1 = task_manager.create_task("Task 1")
    task2 = task_manager.create_task("Task 2")

    all_tasks = task_manager.get_all_tasks()

    assert len(all_tasks) == 2
    assert task1 in all_tasks
    assert task2 in all_tasks
```

**åŸ·è¡Œæ¸¬è©¦**ï¼š
```bash
FAILED - AttributeError: 'TaskManager' object has no attribute 'get_all_tasks'
```

#### ğŸŸ¢ GREEN - å¯¦ä½œ

```python
class TaskManager:
    # ... å…¶ä»–æ–¹æ³•

    def get_all_tasks(self):
        return self.tasks.copy()  # è¿”å›å‰¯æœ¬ï¼Œé¿å…å¤–éƒ¨ä¿®æ”¹
```

**åŸ·è¡Œæ¸¬è©¦**ï¼š
```bash
$ pytest tests/test_task_manager.py -v

PASSED âœ“âœ“âœ“âœ“
```

#### ğŸ”µ REFACTOR - é‡æ§‹

ç¨‹å¼ç¢¼ç°¡æ½”ï¼Œç„¡éœ€é‡æ§‹ã€‚

---

### ç¬¬äº”å€‹å¾ªç’°ï¼šå–å¾—å·²å®Œæˆçš„ä»»å‹™

#### ğŸ”´ RED - å¯«æ¸¬è©¦

```python
def test_can_get_completed_tasks(task_manager):
    """å¯ä»¥å–å¾—å·²å®Œæˆçš„ä»»å‹™"""
    task1 = task_manager.create_task("Task 1")
    task2 = task_manager.create_task("Task 2")
    task3 = task_manager.create_task("Task 3")

    task_manager.complete_task(task1.id)
    task_manager.complete_task(task3.id)

    completed = task_manager.get_completed_tasks()

    assert len(completed) == 2
    assert task1 in completed
    assert task3 in completed
    assert task2 not in completed
```

**åŸ·è¡Œæ¸¬è©¦**ï¼š
```bash
FAILED - AttributeError: 'TaskManager' object has no attribute 'get_completed_tasks'
```

#### ğŸŸ¢ GREEN - å¯¦ä½œ

```python
class TaskManager:
    # ... å…¶ä»–æ–¹æ³•

    def get_completed_tasks(self):
        return [task for task in self.tasks if task.is_completed]
```

**åŸ·è¡Œæ¸¬è©¦**ï¼š
```bash
$ pytest tests/test_task_manager.py -v

PASSED âœ“âœ“âœ“âœ“âœ“  # æ‰€æœ‰æ¸¬è©¦é€šéï¼
```

#### ğŸ”µ REFACTOR - é‡æ§‹

å¯ä»¥æå–ä¸€å€‹é€šç”¨çš„éæ¿¾æ–¹æ³•ï¼š

```python
class TaskManager:
    # ... å…¶ä»–æ–¹æ³•

    def get_completed_tasks(self):
        return self._filter_tasks(lambda task: task.is_completed)

    def get_pending_tasks(self):  # é †ä¾¿åŠ ä¸Šé€™å€‹
        return self._filter_tasks(lambda task: not task.is_completed)

    def _filter_tasks(self, predicate):
        return [task for task in self.tasks if predicate(task)]
```

**åŸ·è¡Œæ‰€æœ‰æ¸¬è©¦**ï¼š
```bash
$ pytest tests/test_task_manager.py -v

PASSED âœ“âœ“âœ“âœ“âœ“  # é‡æ§‹å¾Œä¾ç„¶é€šé
```

---

### å®Œæ•´ç¨‹å¼ç¢¼

#### task_manager.pyï¼ˆæœ€çµ‚ç‰ˆæœ¬ï¼‰

```python
import uuid

class Task:
    """ä»£è¡¨ä¸€å€‹ä»»å‹™"""
    def __init__(self, title):
        self.id = str(uuid.uuid4())
        self.title = title
        self.is_completed = False

class TaskManager:
    """ç®¡ç†ä»»å‹™çš„é¡åˆ¥"""
    def __init__(self):
        self.tasks = []

    def create_task(self, title):
        """å»ºç«‹ä¸€å€‹æ–°ä»»å‹™"""
        task = Task(title)
        self.tasks.append(task)
        return task

    def complete_task(self, task_id):
        """æ¨™è¨˜ä»»å‹™ç‚ºå·²å®Œæˆ"""
        task = self._find_task(task_id)
        if task:
            task.is_completed = True

    def get_all_tasks(self):
        """å–å¾—æ‰€æœ‰ä»»å‹™"""
        return self.tasks.copy()

    def get_completed_tasks(self):
        """å–å¾—å·²å®Œæˆçš„ä»»å‹™"""
        return self._filter_tasks(lambda task: task.is_completed)

    def get_pending_tasks(self):
        """å–å¾—æœªå®Œæˆçš„ä»»å‹™"""
        return self._filter_tasks(lambda task: not task.is_completed)

    def _find_task(self, task_id):
        """æ‰¾åˆ°æŒ‡å®š ID çš„ä»»å‹™"""
        for task in self.tasks:
            if task.id == task_id:
                return task
        return None

    def _filter_tasks(self, predicate):
        """æ ¹æ“šæ¢ä»¶éæ¿¾ä»»å‹™"""
        return [task for task in self.tasks if predicate(task)]
```

#### test_task_manager.pyï¼ˆå®Œæ•´æ¸¬è©¦ï¼‰

```python
import pytest
from task_manager import TaskManager

@pytest.fixture
def task_manager():
    return TaskManager()

def test_user_can_create_task_with_title(task_manager):
    """ç”¨æˆ¶å¯ä»¥å»ºç«‹ä¸€å€‹æœ‰æ¨™é¡Œçš„ä»»å‹™"""
    task = task_manager.create_task("Buy milk")
    assert task.title == "Buy milk"
    assert task.is_completed == False

def test_created_tasks_have_unique_ids(task_manager):
    """æ¯å€‹ä»»å‹™éƒ½æœ‰å”¯ä¸€çš„ ID"""
    task1 = task_manager.create_task("Task 1")
    task2 = task_manager.create_task("Task 2")
    assert task1.id != task2.id
    assert isinstance(task1.id, str)

def test_user_can_mark_task_as_completed(task_manager):
    """ç”¨æˆ¶å¯ä»¥æ¨™è¨˜ä»»å‹™ç‚ºå·²å®Œæˆ"""
    task = task_manager.create_task("Buy milk")
    task_manager.complete_task(task.id)
    assert task.is_completed == True

def test_can_get_all_tasks(task_manager):
    """å¯ä»¥å–å¾—æ‰€æœ‰ä»»å‹™"""
    task1 = task_manager.create_task("Task 1")
    task2 = task_manager.create_task("Task 2")
    all_tasks = task_manager.get_all_tasks()
    assert len(all_tasks) == 2
    assert task1 in all_tasks
    assert task2 in all_tasks

def test_can_get_completed_tasks(task_manager):
    """å¯ä»¥å–å¾—å·²å®Œæˆçš„ä»»å‹™"""
    task1 = task_manager.create_task("Task 1")
    task2 = task_manager.create_task("Task 2")
    task3 = task_manager.create_task("Task 3")

    task_manager.complete_task(task1.id)
    task_manager.complete_task(task3.id)

    completed = task_manager.get_completed_tasks()
    assert len(completed) == 2
    assert task1 in completed
    assert task3 in completed
    assert task2 not in completed

def test_can_get_pending_tasks(task_manager):
    """å¯ä»¥å–å¾—æœªå®Œæˆçš„ä»»å‹™"""
    task1 = task_manager.create_task("Task 1")
    task2 = task_manager.create_task("Task 2")

    task_manager.complete_task(task1.id)

    pending = task_manager.get_pending_tasks()
    assert len(pending) == 1
    assert task2 in pending
    assert task1 not in pending
```

---

## ç¬¬äº”éƒ¨åˆ†ï¼šTDD å¸¸è¦‹é™·é˜±èˆ‡è§£æ±ºæ–¹æ¡ˆ

### é™·é˜± 1ï¼šä¸€æ¬¡å¯«å¤ªå¤šæ¸¬è©¦

**å•é¡Œ**ï¼š
```python
# âŒ éŒ¯èª¤ï¼šä¸€æ¬¡å¯« 10 å€‹æ¸¬è©¦
def test_create_task(): ...
def test_complete_task(): ...
def test_delete_task(): ...
def test_update_task(): ...
def test_get_tasks(): ...
def test_filter_tasks(): ...
# ... é‚„æœ‰ 4 å€‹

# ç„¶å¾Œé–‹å§‹å¯¦ä½œï¼Œç™¼ç¾ï¼š
# - ä¸çŸ¥é“å¾å“ªè£¡é–‹å§‹
# - è¨­è¨ˆå¯èƒ½éœ€è¦å¤§å¹…èª¿æ•´
# - æ‰€æœ‰æ¸¬è©¦éƒ½è¦æ”¹
```

**è§£æ±ºæ–¹æ¡ˆ**ï¼š
```python
# âœ“ æ­£ç¢ºï¼šä¸€æ¬¡åªå¯«ä¸€å€‹æ¸¬è©¦
def test_create_task(): ...

# å¯¦ä½œè®“å®ƒé€šé

# å†å¯«ä¸‹ä¸€å€‹
def test_complete_task(): ...

# å¯¦ä½œè®“å®ƒé€šé

# æŒçºŒé€™å€‹å¾ªç’°
```

**ç‚ºä»€éº¼**ï¼š
- è¨­è¨ˆæœƒéš¨è‘—æ¸¬è©¦æ¼”åŒ–
- æ—©æœŸçš„å‡è¨­å¯èƒ½æ˜¯éŒ¯çš„
- å°æ­¥è¿­ä»£æ›´å®¹æ˜“èª¿æ•´æ–¹å‘

---

### é™·é˜± 2ï¼šæ¸¬è©¦å¯¦ä½œç´°ç¯€è€Œéè¡Œç‚º

**å•é¡Œ**ï¼š
```python
# âŒ éŒ¯èª¤ï¼šæ¸¬è©¦å¯¦ä½œç´°ç¯€
def test_task_manager_uses_list_to_store_tasks():
    task_manager = TaskManager()
    assert isinstance(task_manager.tasks, list)

def test_task_manager_increments_counter():
    task_manager = TaskManager()
    task_manager.create_task("Task 1")
    assert task_manager._counter == 1
```

**ç‚ºä»€éº¼é€™ä¸å¥½**ï¼š
- é‡æ§‹æ™‚æ¸¬è©¦æœƒå£æ‰
- é™åˆ¶äº†å¯¦ä½œçš„éˆæ´»æ€§
- æ¸¬è©¦æ²’æœ‰çœŸæ­£çš„æ¥­å‹™åƒ¹å€¼

**è§£æ±ºæ–¹æ¡ˆ**ï¼š
```python
# âœ“ æ­£ç¢ºï¼šæ¸¬è©¦è¡Œç‚º
def test_can_retrieve_created_tasks():
    task_manager = TaskManager()
    task = task_manager.create_task("Task 1")

    all_tasks = task_manager.get_all_tasks()
    assert task in all_tasks

def test_each_task_has_unique_identifier():
    task_manager = TaskManager()
    task1 = task_manager.create_task("Task 1")
    task2 = task_manager.create_task("Task 2")

    assert task1.id != task2.id
```

**ç‚ºä»€éº¼é€™æ›´å¥½**ï¼š
- æ¸¬è©¦çš„æ˜¯ã€Œåšä»€éº¼ã€è€Œéã€Œæ€éº¼åšã€
- é‡æ§‹æ™‚æ¸¬è©¦ä¾ç„¶æœ‰æ•ˆ
- æ¸¬è©¦æœ‰çœŸå¯¦çš„æ¥­å‹™åƒ¹å€¼

---

### é™·é˜± 3ï¼šéæ—©å„ªåŒ–

**å•é¡Œ**ï¼š
```python
# âŒ éŒ¯èª¤ï¼šç¬¬ä¸€å€‹æ¸¬è©¦å°±è€ƒæ…®æ•ˆèƒ½
def test_create_task():
    task_manager = TaskManager()
    task = task_manager.create_task("Task 1")
    assert task.title == "Task 1"

# å¯¦ä½œæ™‚éåº¦è¨­è¨ˆ
class TaskManager:
    def __init__(self):
        self.tasks = {}  # ç”¨ dict å› ç‚ºã€ŒæŸ¥æ‰¾æ›´å¿«ã€
        self.task_index = {}  # å»ºç«‹ç´¢å¼•å› ç‚ºã€Œå¯èƒ½éœ€è¦å¿«é€ŸæŸ¥æ‰¾ã€
        self._cache = LRUCache(100)  # åŠ ä¸Šå¿«å–å› ç‚ºã€Œæ•ˆèƒ½ã€

    def create_task(self, title):
        # 50 è¡Œè¤‡é›œçš„ç¨‹å¼ç¢¼...
        pass
```

**ç‚ºä»€éº¼é€™ä¸å¥½**ï¼š
- æ¸¬è©¦åªéœ€è¦æœ€ç°¡å–®çš„å¯¦ä½œ
- è¤‡é›œçš„ç¨‹å¼ç¢¼é›£ä»¥ç¶­è­·
- å¯èƒ½æ°¸é ä¸éœ€è¦é€™äº›å„ªåŒ–

**è§£æ±ºæ–¹æ¡ˆ**ï¼š
```python
# âœ“ æ­£ç¢ºï¼šæœ€ç°¡å¯¦ä½œ
class TaskManager:
    def __init__(self):
        self.tasks = []  # ç°¡å–®çš„ list å°±å¤ äº†

    def create_task(self, title):
        task = Task(title)
        self.tasks.append(task)
        return task

# ç­‰åˆ°çœŸçš„éœ€è¦æ™‚å†å„ªåŒ–
# TDD çš„ç¬¬ä¸€åŸå‰‡ï¼šMake it work, make it right, make it fast
```

---

### é™·é˜± 4ï¼šè·³éé‡æ§‹éšæ®µ

**å•é¡Œ**ï¼š
```python
# å¹¾å€‹å¾ªç’°å¾Œï¼Œç¨‹å¼ç¢¼è®Šæˆé€™æ¨£ï¼š
class TaskManager:
    def create_task(self, title):
        task = Task(title)
        self.tasks.append(task)
        return task

    def create_task_with_priority(self, title, priority):
        task = Task(title)
        task.priority = priority  # é‡è¤‡
        self.tasks.append(task)  # é‡è¤‡
        return task

    def create_task_with_due_date(self, title, due_date):
        task = Task(title)
        task.due_date = due_date  # é‡è¤‡
        self.tasks.append(task)  # é‡è¤‡
        return task

# å› ç‚ºã€Œæ¸¬è©¦é€šéäº†ã€ï¼Œå°±ä¸é‡æ§‹
```

**ç‚ºä»€éº¼é€™ä¸å¥½**ï¼š
- ç¨‹å¼ç¢¼é‡è¤‡ï¼ˆDRY åŸå‰‡ï¼‰
- é›£ä»¥ç¶­è­·ï¼ˆä¸€å€‹ bug è¦ä¿®ä¸‰å€‹åœ°æ–¹ï¼‰
- æŠ€è¡“å‚µå‹™ç´¯ç©

**è§£æ±ºæ–¹æ¡ˆ**ï¼š
```python
# âœ“ æ­£ç¢ºï¼šç«‹å³é‡æ§‹
class TaskManager:
    def create_task(self, title, priority=None, due_date=None):
        task = Task(title)
        if priority:
            task.priority = priority
        if due_date:
            task.due_date = due_date
        self.tasks.append(task)
        return task

# æˆ–è€…æ›´é€²ä¸€æ­¥
class TaskManager:
    def create_task(self, title, **kwargs):
        task = Task(title)
        for key, value in kwargs.items():
            setattr(task, key, value)
        self.tasks.append(task)
        return task
```

---

### é™·é˜± 5ï¼šç‚ºäº†è¦†è“‹ç‡è€Œæ¸¬è©¦

**å•é¡Œ**ï¼š
```python
# âŒ éŒ¯èª¤ï¼šç„¡æ„ç¾©çš„æ¸¬è©¦
def test_task_has_title_attribute():
    task = Task("Buy milk")
    assert hasattr(task, 'title')

def test_task_manager_can_be_instantiated():
    task_manager = TaskManager()
    assert task_manager is not None

def test_task_title_is_string():
    task = Task("Buy milk")
    assert isinstance(task.title, str)
```

**ç‚ºä»€éº¼é€™ä¸å¥½**ï¼š
- æ²’æœ‰æ¸¬è©¦çœŸæ­£çš„æ¥­å‹™é‚è¼¯
- æ¸¬è©¦æ²’æœ‰ä¿è­·ä½œç”¨
- æµªè²»æ™‚é–“ç¶­è­·ç„¡ç”¨çš„æ¸¬è©¦

**è§£æ±ºæ–¹æ¡ˆ**ï¼š
```python
# âœ“ æ­£ç¢ºï¼šæ¸¬è©¦æœ‰æ„ç¾©çš„è¡Œç‚º
def test_user_can_create_task_with_title():
    task_manager = TaskManager()
    task = task_manager.create_task("Buy milk")
    assert task.title == "Buy milk"

def test_task_title_cannot_be_empty():
    task_manager = TaskManager()
    with pytest.raises(ValueError):
        task_manager.create_task("")

def test_task_title_is_trimmed():
    task_manager = TaskManager()
    task = task_manager.create_task("  Buy milk  ")
    assert task.title == "Buy milk"
```

---

## ç¬¬å…­éƒ¨åˆ†ï¼šAI è¼”åŠ© TDD çš„æœ€ä½³å¯¦è¸

### å¯¦è¸ 1ï¼šæ¸…æ¥šå‘Šè¨´ AI ä½ åœ¨åš TDD

**å¥½çš„æç¤º**ï¼š
```
ã€Œæˆ‘è¦ç”¨ TDD æ–¹å¼é–‹ç™¼ä»»å‹™ç®¡ç†ç³»çµ±ã€‚

ç¬¬ä¸€å€‹æ¸¬è©¦ï¼šç”¨æˆ¶å¯ä»¥å»ºç«‹ä»»å‹™ä¸¦æŒ‡å®šæ¨™é¡Œã€‚
è«‹ç”Ÿæˆæ¸¬è©¦ç¨‹å¼ç¢¼ï¼Œä½¿ç”¨ pytest æ¡†æ¶ã€‚

è¨˜ä½ï¼š
1. æ¸¬è©¦åç¨±è¦æ¸…æ¥šæè¿°è¡Œç‚º
2. ä½¿ç”¨ Arrange-Act-Assert çµæ§‹
3. ä¸€å€‹æ¸¬è©¦åªé©—è­‰ä¸€å€‹è¡Œç‚ºã€
```

**ç‚ºä»€éº¼é€™æ¨£å¥½**ï¼š
- AI çŸ¥é“ä½ çš„é–‹ç™¼æ–¹å¼
- AI æœƒç”Ÿæˆç¬¦åˆ TDD é¢¨æ ¼çš„æ¸¬è©¦
- æ˜ç¢ºçš„æœŸæœ›æ¸›å°‘ä¾†å›æºé€š

---

### å¯¦è¸ 2ï¼šè®“ AI ç”Ÿæˆã€Œæœ€ç°¡ã€å¯¦ä½œ

**å¥½çš„æç¤º**ï¼š
```
ã€Œç¾åœ¨æˆ‘æœ‰é€™å€‹å¤±æ•—çš„æ¸¬è©¦ï¼š
[è²¼ä¸Šæ¸¬è©¦ç¨‹å¼ç¢¼]

è«‹å¯¦ä½œ TaskManager é¡åˆ¥ï¼Œç”¨ã€æœ€ç°¡å–®ã€çš„æ–¹å¼è®“æ¸¬è©¦é€šéã€‚

è¨˜ä½ï¼š
1. ä¸è¦éåº¦è¨­è¨ˆ
2. åªå¯¦ä½œæ¸¬è©¦è¦æ±‚çš„åŠŸèƒ½
3. ä¸è¦æ·»åŠ æ¸¬è©¦æ²’è¦æ±‚çš„åŠŸèƒ½ã€
```

**ç‚ºä»€éº¼é€™æ¨£å¥½**ï¼š
- å¼·èª¿ã€Œæœ€ç°¡ã€æœƒè®“ AI é¿å…éåº¦è¨­è¨ˆ
- æ˜ç¢ºé™åˆ¶ç¯„åœ
- ä¿æŒ TDD çš„ç²¾ç¥

---

### å¯¦è¸ 3ï¼šèˆ‡ AI è¨è«–è¨­è¨ˆæ±ºç­–

**å¥½çš„å°è©±**ï¼š
```
ä½ ï¼šã€Œæˆ‘åœ¨æƒ³ complete_task() æ–¹æ³•ï¼Œ
     æœ‰å…©ç¨®è¨­è¨ˆï¼š
     1. complete_task(task_id)
     2. task.complete()

     ä½ è¦ºå¾—å“ªå€‹æ›´å¥½ï¼Ÿç‚ºä»€éº¼ï¼Ÿã€

AIï¼šã€Œæˆ‘å»ºè­°ç”¨ complete_task(task_id)ï¼ŒåŸå› ï¼š
     1. å°è£æ›´å¥½ï¼ˆTaskManager æ§åˆ¶ç‹€æ…‹è®Šæ›´ï¼‰
     2. ä¾¿æ–¼æ·»åŠ é©—è­‰é‚è¼¯
     3. ä¾¿æ–¼è¨˜éŒ„æ­·å²ï¼ˆæœªä¾†å¯èƒ½éœ€è¦ï¼‰

     ä½†å¦‚æœä»»å‹™æ˜¯å®Œå…¨ç¨ç«‹çš„å¯¦é«”ï¼Œ
     task.complete() ä¹Ÿæ˜¯åˆç†çš„è¨­è¨ˆã€‚ã€

ä½ ï¼šã€Œå¥½çš„ï¼Œæˆ‘æ¡ç”¨ç¬¬ä¸€ç¨®è¨­è¨ˆã€‚è«‹å¹«æˆ‘å¯¦ä½œã€‚ã€
```

**ç‚ºä»€éº¼é€™æ¨£å¥½**ï¼š
- AI å¯ä»¥æä¾›ä¸åŒçš„è¦–è§’
- è¨è«–å¹«åŠ©ä½ ç†è§£è¨­è¨ˆæ¬Šè¡¡
- æœ€çµ‚æ±ºç­–æ¬Šåœ¨ä½ æ‰‹ä¸Š

---

### å¯¦è¸ 4ï¼šç”¨ AI æª¢æŸ¥æ¸¬è©¦å“è³ª

**å¥½çš„æç¤º**ï¼š
```
ã€Œè«‹æª¢æŸ¥æˆ‘çš„æ¸¬è©¦ç¨‹å¼ç¢¼ï¼š
[è²¼ä¸Šæ¸¬è©¦ç¨‹å¼ç¢¼]

æª¢æŸ¥é€™äº›æ–¹é¢ï¼š
1. æ¸¬è©¦æ˜¯å¦æ¸…æ™°ä¸”æ˜“è®€ï¼Ÿ
2. æ˜¯å¦æ¸¬è©¦äº†è¡Œç‚ºè€Œéå¯¦ä½œç´°ç¯€ï¼Ÿ
3. æ˜¯å¦æœ‰éºæ¼çš„é‚Šç•Œæƒ…æ³ï¼Ÿ
4. æ¸¬è©¦åç¨±æ˜¯å¦æè¿°æ€§å¼·ï¼Ÿ
5. æ˜¯å¦æœ‰ä¸å¿…è¦çš„é‡è¤‡ï¼Ÿ

è«‹çµ¦æˆ‘å…·é«”çš„æ”¹é€²å»ºè­°ã€‚ã€
```

**AI å¯èƒ½çš„å›æ‡‰**ï¼š
```
ã€Œä½ çš„æ¸¬è©¦æ•´é«”ä¸éŒ¯ï¼Œä½†æœ‰å¹¾å€‹æ”¹é€²å»ºè­°ï¼š

1. test_create_task() å¯ä»¥æ›´å…·é«”ï¼š
   æ”¹åç‚º test_user_can_create_task_with_title()

2. ç¼ºå°‘é‚Šç•Œæƒ…æ³æ¸¬è©¦ï¼š
   - ç©ºæ¨™é¡Œæ‡‰è©²æ€éº¼è™•ç†ï¼Ÿ
   - è¶…é•·æ¨™é¡Œæ‡‰è©²æ€éº¼è™•ç†ï¼Ÿ

3. é‡è¤‡çš„è¨­ç½®å¯ä»¥æå–ï¼š
   å»ºè­°ä½¿ç”¨ pytest fixture

4. æ–·è¨€å¯ä»¥æ›´åš´æ ¼ï¼š
   é™¤äº†æª¢æŸ¥ titleï¼Œä¹Ÿæª¢æŸ¥ is_completed çš„åˆå§‹å€¼ã€
```

---

### å¯¦è¸ 5ï¼šè®“ AI å”åŠ©é‡æ§‹

**å¥½çš„æç¤º**ï¼š
```
ã€Œæˆ‘çš„ TaskManager é¡åˆ¥è®Šè¤‡é›œäº†ï¼š
[è²¼ä¸Šç¨‹å¼ç¢¼]

æˆ‘æƒ³é‡æ§‹å®ƒï¼Œç›®æ¨™ï¼š
1. æå–é‡è¤‡çš„é‚è¼¯
2. æ”¹å–„æ–¹æ³•å‘½å
3. åˆ†é›¢é—œæ³¨é»

è«‹å»ºè­°é‡æ§‹æ­¥é©Ÿï¼Œä¸¦å¹«æˆ‘é€æ­¥å¯¦ä½œã€‚
è¨˜ä½ï¼šæ¯æ¬¡é‡æ§‹å¾Œæ¸¬è©¦éƒ½è¦é€šéã€‚ã€
```

**AI æœƒçµ¦å‡ºæ¼¸é€²å¼çš„é‡æ§‹æ­¥é©Ÿ**ï¼š
```
ã€Œå¥½çš„ï¼Œæˆ‘å»ºè­°åˆ†ä¸‰æ­¥é‡æ§‹ï¼š

æ­¥é©Ÿ 1ï¼šæå–ä»»å‹™æŸ¥æ‰¾é‚è¼¯
[ç¨‹å¼ç¢¼]
â†’ åŸ·è¡Œæ¸¬è©¦ç¢ºèªé€šé

æ­¥é©Ÿ 2ï¼šæå–ä»»å‹™éæ¿¾é‚è¼¯
[ç¨‹å¼ç¢¼]
â†’ åŸ·è¡Œæ¸¬è©¦ç¢ºèªé€šé

æ­¥é©Ÿ 3ï¼šæ”¹å–„æ–¹æ³•å‘½å
[ç¨‹å¼ç¢¼]
â†’ åŸ·è¡Œæ¸¬è©¦ç¢ºèªé€šéã€
```

---

## ğŸ¯ ç¸½çµ

### TDD çš„æ ¸å¿ƒåƒ¹å€¼

1. **æ¸¬è©¦é©…å‹•è¨­è¨ˆ**ï¼šæ¸¬è©¦è¿«ä½¿ä½ æ€è€ƒä»‹é¢å’Œè¨­è¨ˆ
2. **å³æ™‚å›é¥‹**ï¼šå¹¾åˆ†é˜å…§çŸ¥é“ç¨‹å¼ç¢¼æ˜¯å¦æ­£ç¢º
3. **é‡æ§‹ä¿è­·**ï¼šæ¸¬è©¦è®“ä½ æ•¢æ”¾å¿ƒæ”¹ç¨‹å¼ç¢¼
4. **æ´»æ–‡æª”**ï¼šæ¸¬è©¦æ°¸é åæ˜ æœ€æ–°çš„è¡Œç‚º

### AI è¼”åŠ© TDD çš„å¨åŠ›

1. **é€Ÿåº¦æå‡ 3-5 å€**ï¼šAI è™•ç†é‡è¤‡æ€§å·¥ä½œ
2. **å“è³ªæå‡**ï¼šAI æé†’é‚Šç•Œæƒ…æ³
3. **å­¸ç¿’åŠ é€Ÿ**ï¼šçœ‹ AI ç¤ºç¯„æœ€ä½³å¯¦è¸
4. **é™ä½é–€æª»**ï¼šæ–°æ‰‹ä¹Ÿèƒ½å¿«é€Ÿä¸Šæ‰‹ TDD

### é—œéµåŸå‰‡ï¼ˆå‹™å¿…è¨˜ä½ï¼‰

1. **æ¸¬è©¦å…ˆè¡Œ**ï¼šæ°¸é å…ˆå¯«æ¸¬è©¦
2. **å°æ­¥è¿­ä»£**ï¼šä¸€æ¬¡åªåšä¸€ä»¶äº‹
3. **æŒçºŒé‡æ§‹**ï¼šä¿æŒç¨‹å¼ç¢¼ä¹¾æ·¨
4. **äººé¡æŠŠé—œ**ï¼šAI åŠ é€Ÿï¼Œäººé¡åˆ¤æ–·

---

## ğŸ“š å»¶ä¼¸é–±è®€

- **Kent Beck - Test Driven Development: By Example**
- **Martin Fowler - Refactoring: Improving the Design of Existing Code**
- **Robert C. Martin - Clean Code**

---

## ğŸ”— ä¸‹ä¸€æ­¥

å®Œæˆæœ¬ç« å¾Œï¼Œç¹¼çºŒå­¸ç¿’ï¼š

â¡ï¸ **4.2 è¡Œç‚ºé©…å‹•é–‹ç™¼èˆ‡ Gherkin**
- å¾ä½¿ç”¨è€…è§’åº¦å¯«æ¸¬è©¦
- Gherkin èªæ³•é€Ÿæˆ
- BDD èˆ‡ TDD çš„å”åŒä½¿ç”¨

**å¯¦ä½œå»ºè­°**ï¼š
åœ¨é€²å…¥ä¸‹ä¸€ç« å‰ï¼Œå…ˆå®Œæˆä¸€å€‹å®Œæ•´çš„ TDD ç·´ç¿’ï¼š
- é¸æ“‡æƒ…å¢ƒé¡Œåº«ä¸­çš„ä¸€é¡Œ
- åš´æ ¼éµå¾ªç´…-ç¶ -é‡æ§‹å¾ªç’°
- é«”é©—å®Œæ•´çš„ TDD æµç¨‹
- å»ºç«‹è‚Œè‚‰è¨˜æ†¶

---

**TDD æ˜¯ä¸€ç¨®ç¿’æ…£ï¼Œä¸æ˜¯æŠ€è¡“ã€‚**
**é–‹å§‹ç·´ç¿’ï¼Œè®“å®ƒæˆç‚ºä½ çš„è‡ªç„¶åæ‡‰ï¼**
