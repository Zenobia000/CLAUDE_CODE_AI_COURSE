# 模組 4 記憶卡庫

## 📋 記憶卡架構

本記憶卡庫包含 100+ 張情境式記憶卡，涵蓋 TDD/BDD 的核心概念與實踐。

**設計原則**：
- ❌ 不是「定義式」記憶卡（死記硬背）
- ✅ 而是「情境式」記憶卡（問題解決）

---

## 🎯 記憶卡類別

### 類別 1：TDD 核心概念（20 張）

#### 紅-綠-重構循環

**卡片 01**：
```
【情境】你正在開發新功能，手邊有設計文件。
你應該先做什麼？

A. 先寫實作程式碼
B. 先寫測試程式碼
C. 先畫 UML 圖
D. 先跟 PM 確認需求

【答案】B

【說明】
TDD 的核心是「測試先行」：
1. 先寫測試（定義預期行為）
2. 執行測試（看到紅色）
3. 寫實作（讓測試通過）
4. 重構（改善程式碼）

【記憶點】
Test → Red → Code → Green → Refactor
```

**卡片 02**：
```
【情境】你寫了一個測試，但測試立刻通過了。
這表示什麼？

A. 太棒了，功能已經完成
B. 測試可能寫錯了
C. 實作已經存在
D. B 或 C

【答案】D

【說明】
TDD 要求先看到紅色（測試失敗）：
- 如果測試立刻通過，可能測試寫錯（假陽性）
- 或者實作已存在（不是 TDD 流程）

確認測試會失敗，才能確保測試真的在測試東西

【記憶點】
必須先看到紅色，才能確保測試有效
```

---

### 類別 2：BDD 與 Gherkin（25 張）

**卡片 21**：
```
【情境】PM 說「用戶應該能登入系統」
你要寫 Gherkin 規範，應該怎麼寫？

A. Given 用戶在登入頁面
   When 用戶輸入帳號密碼
   Then 登入成功

B. Given 用戶已註冊
   When 用戶輸入正確的帳號密碼
   Then 用戶應該成功登入系統

C. Given POST /api/login
   When payload contains email and password
   Then response status 200

【答案】B

【說明】
好的 Gherkin：
- 用業務語言（不是技術細節）
- 明確前置條件（已註冊）
- 清楚動作和結果
- 非技術人員能理解

A 缺少前置條件
C 太技術化（API 細節）

【記憶點】
業務語言 + Given-When-Then + 非技術人員能懂
```

**卡片 22**：
```
【情境】你寫了一個 Gherkin 場景，包含 10 個 When 步驟。
這個場景有什麼問題？

A. 沒問題，涵蓋完整流程
B. 應該拆成多個場景
C. When 太多，測試會很慢
D. B 和 C

【答案】B

【說明】
好的 BDD 場景：
- 一個場景測試一個行為
- 通常只有一個 When（主要動作）
- 多個 When 表示應該拆成多個場景

10 個 When → 至少拆成 3-5 個場景

【記憶點】
一個場景 = 一個行為 = 一個 When
```

---

### 類別 3：測試策略（20 張）

**卡片 41**：
```
【情境】你的專案有 100 個測試
執行時間：5 分鐘

這代表什麼？

A. 正常，100 個測試本來就要這麼久
B. 太慢了，應該優化
C. 要看測試類型
D. 應該減少測試數量

【答案】C

【說明】
測試執行時間取決於類型：

單元測試（70 個）：應該 < 1 秒
整合測試（20 個）：1-30 秒
E2E 測試（10 個）：1-5 分鐘

如果 100 個全是單元測試 → 太慢
如果有 E2E 測試 → 可接受

【記憶點】
單元測試應該快如閃電（毫秒級）
```

**卡片 42**：
```
【情境】你需要測試「用戶結帳」功能
有 3 個測試層級，應該如何分配？

A. 單元 33%, 整合 33%, E2E 33%
B. 單元 50%, 整合 30%, E2E 20%
C. 單元 70%, 整合 20%, E2E 10%
D. 全部寫 E2E（最接近真實）

【答案】C

【說明】
測試金字塔 70-20-10：

單元測試（70%）：
- 價格計算邏輯
- 優惠規則
- 庫存檢查

整合測試（20%）：
- 訂單服務 + 資料庫
- 付款閘道整合

E2E 測試（10%）：
- 完整的結帳流程

【記憶點】
70-20-10 金字塔，不要倒金字塔
```

---

### 類別 4：AI 輔助測試（20 張）

**卡片 61**：
```
【情境】你請 AI 生成測試，AI 給了你測試程式碼。
你應該直接使用嗎？

A. 是，AI 生成的都正確
B. 否，必須檢查
C. 只需要檢查語法
D. 只需要檢查能否執行

【答案】B

【說明】
AI 生成測試必須檢查：
1. 測試邏輯是否正確？
2. 斷言是否足夠嚴格？
3. 有無遺漏邊界情況？
4. 測試是否真的會失敗？

AI 是工具，人類負責判斷

【記憶點】
AI 加速生成，人類把關邏輯
```

**卡片 62**：
```
【情境】你用 TDD 開發，AI 在哪個階段最有幫助？

A. 紅階段（生成測試）
B. 綠階段（生成實作）
C. 重構階段（改善程式碼）
D. 所有階段

【答案】D

【說明】
AI 在 TDD 各階段的應用：

紅階段：生成測試骨架，建議邊界情況
綠階段：生成最簡實作
重構階段：建議重構方向，執行重構

但每個階段人類都要驗證

【記憶點】
AI 輔助每個階段，但不取代思考
```

---

### 類別 5：常見錯誤診斷（15 張）

**卡片 81**：
```
【情境】你的測試通過了，但實際執行程式碼時出錯。
可能是什麼問題？

A. 測試寫錯了
B. 測試沒有真正驗證
C. 測試覆蓋不足
D. 以上皆可能

【答案】D

【說明】
常見原因：

1. 測試寫錯：
   assert True  # 永遠通過

2. 測試沒真正驗證：
   assert result  # 只檢查 truthy

3. 覆蓋不足：
   沒測試邊界情況

【記憶點】
測試通過 ≠ 程式碼正確
要寫有意義的測試
```

**卡片 82**：
```
【情境】你的測試套件有 500 個測試
但每次有人改程式碼，就有 50 個測試失敗。
這代表什麼問題？

A. 測試太脆弱（fragile tests）
B. 測試彼此相依
C. 測試實作細節而非行為
D. 可能是 A、B 或 C

【答案】D

【說明】
脆弱測試的原因：

1. 測試實作細節：
   改實作方式 → 測試壞掉

2. 測試彼此相依：
   改一個 → 連鎖失敗

3. 過度耦合：
   測試太多內部細節

解決：測試行為，不測試實作

【記憶點】
測試應該穩定，改實作不應該壞測試
```

---

## 📖 使用建議

### 學習節奏

**第 1 週**：
- 每天 10 張卡片
- 重點：TDD 核心概念（類別 1）
- 搭配理論 4.1

**第 2 週**：
- 每天 15 張卡片
- 重點：BDD 與 Gherkin（類別 2）
- 搭配理論 4.2 和實作練習

**第 3 週**：
- 每天 10 張卡片
- 重點：測試策略（類別 3）
- 搭配理論 4.3

**第 4 週**：
- 每天 15 張卡片
- 重點：AI 輔助 + 錯誤診斷（類別 4、5）
- 複習所有卡片

### 複習策略

使用間隔重複（Spaced Repetition）：
```
第 1 次學習 → 當天複習
              ↓
            1 天後複習
              ↓
            3 天後複習
              ↓
            1 週後複習
              ↓
            2 週後複習
              ↓
            1 個月後複習
```

---

## 🎯 檢測你的掌握度

### 初級（20-40 張熟練）
- [ ] 理解 TDD 紅-綠-重構循環
- [ ] 能撰寫基本 Gherkin 規範
- [ ] 知道測試金字塔概念

### 中級（40-70 張熟練）
- [ ] 能在專案中應用 TDD
- [ ] 能撰寫完整的 BDD 場景
- [ ] 理解不同測試層級的權衡

### 高級（70+ 張熟練）
- [ ] TDD/BDD 成為自然習慣
- [ ] 能設計測試策略
- [ ] 能指導他人使用 TDD/BDD

---

## 💡 記憶技巧

### 技巧 1：故事記憶法
不要死記定義，將概念編成故事：

**例子**：
```
紅-綠-重構 = 交通號誌

紅燈（Red）：停下來，寫測試
綠燈（Green）：通行，寫實作
黃燈（Refactor）：慢下來，整理程式碼
```

### 技巧 2：實踐記憶法
每學一個概念，立即實踐：

```
看到卡片「測試先行」
  ↓
立即寫一個簡單的測試
  ↓
體驗完整流程
  ↓
概念深深刻在腦海
```

### 技巧 3：教學記憶法
最好的學習是教學：

```
學會一個概念
  ↓
跟同事/朋友解釋
  ↓
他們的問題幫你發現盲點
  ↓
理解更深入
```

---

## 📱 數位記憶卡

推薦使用 Anki 應用程式：

**匯入方式**：
1. 下載 Anki（https://apps.ankiweb.net/）
2. 匯入 `.apkg` 檔案
3. 每天複習

**自訂設定**：
```
新卡片/天：10-20 張
複習卡片/天：50-100 張
間隔修飾係數：250%（較慢遺忘）
```

---

**記憶卡是工具，實踐是王道！**
**每天 10-15 分鐘，持續 4 週，TDD/BDD 概念內化！**
