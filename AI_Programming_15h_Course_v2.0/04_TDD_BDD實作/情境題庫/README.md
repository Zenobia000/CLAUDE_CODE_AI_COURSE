# 模組 4 情境題庫

## 📋 題庫概述

本題庫包含 20 個 TDD/BDD 實戰情境，涵蓋三個難度級別。

**總題數**：20 題
- **基礎級**：8 題（30-45 分鐘/題）
- **組合級**：10 題（1-2.5 小時/題）
- **複雜級**：2 題（8-15 小時/專案）

---

## 🎯 學習路徑

### 路徑 A：TDD 專注路線（推薦新手）

```
第 1 天：基礎級 B01-B04（TDD 基礎）
    ↓
第 2 天：基礎級 B05-B06（TDD 進階）
    ↓
第 3-5 天：組合級 C02, C04, C06（TDD 完整專案）
    ↓
第 2 週：複雜級 E01（企業級 TDD）
```

### 路徑 B：BDD 專注路線

```
第 1 天：基礎級 B07-B08（BDD 基礎）
    ↓
第 2 天：組合級 C01, C03（BDD 實戰）
    ↓
第 3-5 天：組合級 C05, C07, C09（BDD 複雜場景）
    ↓
第 2 週：複雜級 E02（Legacy 系統 BDD 改造）
```

### 路徑 C：綜合路線（推薦有經驗者）

```
第 1 天：基礎級全部 8 題
    ↓
第 2-7 天：組合級精選（C01-C05）
    ↓
第 2-3 週：兩個複雜級專案
```

---

## 📚 基礎級情境（8 題）

### TDD 基礎（6 題）

#### B01：TDD 構建用戶註冊功能 ⭐
- **時間**：30-40 分鐘
- **重點**：紅-綠-重構循環
- **技術**：Python + pytest
- **學習目標**：
  - 體驗完整的 TDD 流程
  - 理解測試先行的價值
  - 掌握小步迭代

#### B02：TDD 實作密碼驗證器
- **時間**：35-45 分鐘
- **重點**：測試驅動設計
- **技術**：Python + pytest
- **學習目標**：
  - 多個驗證規則的測試
  - 邊界情況的處理
  - 清晰的錯誤訊息

#### B03：TDD 開發計算器
- **時間**：30-40 分鐘
- **重點**：基本 TDD 實踐
- **技術**：JavaScript + Jest 或 Python + pytest
- **學習目標**：
  - 基本運算的測試
  - 錯誤處理（除以零）
  - 測試命名規範

#### B04：TDD 構建待辦清單
- **時間**：40-50 分鐘
- **重點**：CRUD 操作的 TDD
- **技術**：Python + pytest
- **學習目標**：
  - 建立、讀取、更新、刪除
  - 狀態管理
  - 資料持久化（記憶體）

#### B05：TDD 實作購物車
- **時間**：45-60 分鐘
- **重點**：複雜業務邏輯
- **技術**：Python + pytest
- **學習目標**：
  - 商品數量管理
  - 價格計算
  - 折扣邏輯

#### B06：TDD 開發文字分析器
- **時間**：35-45 分鐘
- **重點**：演算法 TDD
- **技術**：Python + pytest
- **學習目標**：
  - 字數統計
  - 詞頻分析
  - 邊界情況處理

### BDD 基礎（2 題）

#### B07：BDD 用戶登入流程
- **時間**：40-50 分鐘
- **重點**：Gherkin 語法入門
- **技術**：Python + pytest-bdd
- **學習目標**：
  - 撰寫 Given-When-Then
  - 從規範到測試
  - 業務語言描述

#### B08：BDD 商品搜尋功能
- **時間**：45-55 分鐘
- **重點**：多場景 BDD
- **技術**：Python + pytest-bdd
- **學習目標**：
  - 多個測試場景
  - Scenario Outline
  - 資料驅動測試

---

## 🔧 組合級情境（10 題）

### BDD 驗收測試（5 題）

#### C01：BDD 電商結帳流程 ⭐
- **時間**：1.5-2 小時
- **重點**：完整的 BDD 實作
- **技術**：Python + pytest-bdd
- **學習目標**：
  - 複雜的業務流程
  - 多步驟場景
  - 錯誤路徑處理

#### C03：BDD 預約系統
- **時間**：1.5-2 小時
- **重點**：時間相關的 BDD
- **技術**：Python + pytest-bdd
- **學習目標**：
  - 時間範圍驗證
  - 衝突檢測
  - 狀態轉換

#### C05：BDD 權限管理系統
- **時間**：2-2.5 小時
- **重點**：RBAC 的 BDD
- **技術**：Python + pytest-bdd
- **學習目標**：
  - 角色權限驗證
  - 多層級權限
  - 安全性測試

#### C07：BDD 多步驟表單
- **時間**：1.5-2 小時
- **重點**：向導式流程
- **技術**：Python + pytest-bdd
- **學習目標**：
  - 多步驟流程
  - 資料驗證
  - 狀態保存

#### C09：BDD 通知系統
- **時間**：1.5-2 小時
- **重點**：異步行為的 BDD
- **技術**：Python + pytest-bdd
- **學習目標**：
  - 多通道通知
  - 模板系統
  - 偏好設定

### TDD 完整模組（5 題）

#### C02：TDD 任務管理系統
- **時間**：2-2.5 小時
- **重點**：完整的 TDD 專案
- **技術**：Python + pytest
- **學習目標**：
  - 多功能模組
  - 測試組織
  - 重構實踐

#### C04：TDD 部落格系統
- **時間**：2-3 小時
- **重點**：CRUD + 關聯
- **技術**：Python + pytest
- **學習目標**：
  - 文章管理
  - 評論系統
  - 分類標籤

#### C06：TDD 庫存管理
- **時間**：2-2.5 小時
- **重點**：交易邏輯
- **技術**：Python + pytest
- **學習目標**：
  - 庫存增減
  - 並發處理
  - 歷史記錄

#### C08：TDD API 客戶端
- **時間**：1.5-2 小時
- **重點**：外部 API 測試
- **技術**：Python + pytest + responses
- **學習目標**：
  - Mock 外部 API
  - 錯誤處理
  - 重試邏輯

#### C10：TDD 報表生成器
- **時間**：2-2.5 小時
- **重點**：資料處理和格式化
- **技術**：Python + pytest
- **學習目標**：
  - 資料聚合
  - 多種輸出格式
  - 效能考量

---

## 🚀 複雜級情境（2 題）

### E01：企業級專案 TDD 實踐
- **時間**：12-15 小時
- **類型**：多週專案
- **技術棧**：Python + pytest + SQLAlchemy + FastAPI
- **專案範圍**：
  - 完整的任務管理系統
  - 用戶認證授權
  - RESTful API
  - 資料庫整合
  - CI/CD pipeline

**階段安排**：
```
第 1-2 天：核心領域模型（TDD）
第 3-4 天：資料庫層（整合測試）
第 5-6 天：API 層（API 測試）
第 7 天：E2E 測試與部署
```

**學習目標**：
- 大型專案的 TDD 實踐
- 測試金字塔完整應用
- 測試策略設計
- 持續重構
- 團隊協作模式

**交付物**：
- 完整的測試套件（300+ 測試）
- 可部署的應用
- 技術文檔
- 測試報告

---

### E02：Legacy 系統 BDD 改造
- **時間**：10-12 小時
- **類型**：重構專案
- **技術棧**：Python + pytest-bdd
- **專案範圍**：
  - 為 Legacy 系統補充 BDD 測試
  - 重構關鍵模組
  - 建立活文檔

**階段安排**：
```
第 1-2 天：理解現有系統，撰寫 Gherkin 規範
第 3-4 天：建立 Characterization Tests
第 5-6 天：重構核心模組
第 7 天：完善文檔與驗證
```

**學習目標**：
- Legacy 系統測試策略
- 安全重構技巧
- BDD 作為活文檔
- 測試覆蓋率提升

**交付物**：
- 完整的 Gherkin 規範
- 重構後的程式碼
- 測試覆蓋報告
- 重構日誌

---

## 🎯 情境選擇建議

### 如果你想學習...

**TDD 基礎**：
→ 從 B01-B06 開始
→ 嚴格遵循紅-綠-重構
→ 專注在測試先行

**BDD 實踐**：
→ 從 B07-B08 開始
→ 練習撰寫 Gherkin
→ 體驗規範驅動開發

**完整專案經驗**：
→ 完成任一組合級題目（C01-C10）
→ 體驗真實專案的挑戰
→ 練習測試策略設計

**企業級實踐**：
→ 挑戰複雜級專案（E01 或 E02）
→ 應用所有學到的技巧
→ 建立可展示的作品集

---

## 📊 評量標準

### 基礎級評量
- [ ] 所有測試通過
- [ ] 測試覆蓋率 ≥ 80%
- [ ] 遵循 TDD/BDD 流程
- [ ] 程式碼清晰易讀

### 組合級評量
- [ ] 所有測試通過
- [ ] 測試覆蓋率 ≥ 85%
- [ ] 測試組織良好
- [ ] 適當的重構
- [ ] 清晰的提交歷史

### 複雜級評量
- [ ] 所有測試通過
- [ ] 測試覆蓋率 ≥ 90%
- [ ] 完整的測試金字塔
- [ ] 高品質的程式碼
- [ ] 完善的文檔
- [ ] CI/CD 整合
- [ ] 可部署的應用

---

## 💡 學習建議

### 做題策略

**第一遍：嚴格遵循流程**
- 不要跳步驟
- 測試真的要先寫
- 每個循環都要完整

**第二遍：提升速度**
- 熟悉工具和流程
- 減少思考時間
- 建立肌肉記憶

**第三遍：追求品質**
- 優化測試設計
- 改善程式碼品質
- 提升測試效率

### 常見陷阱

**陷阱 1：跳過測試直接實作**
→ 違反 TDD 精神，失去練習機會

**陷阱 2：測試寫得太複雜**
→ 測試應該簡單直接

**陷阱 3：過度設計**
→ 遵循 YAGNI，只實作測試要求的

**陷阱 4：不重構**
→ 重構階段同樣重要

---

## 🔗 相關資源

### 工具安裝

**Python 環境**：
```bash
# 安裝 pytest
pip install pytest pytest-cov

# 安裝 pytest-bdd
pip install pytest-bdd

# 安裝其他工具
pip install faker hypothesis
```

**JavaScript 環境**：
```bash
# 安裝 Jest
npm install --save-dev jest

# 安裝 Cucumber
npm install --save-dev @cucumber/cucumber
```

### 推薦資源
- [pytest 文檔](https://docs.pytest.org/)
- [pytest-bdd 文檔](https://pytest-bdd.readthedocs.io/)
- [Gherkin 語法參考](https://cucumber.io/docs/gherkin/reference/)

---

## 📈 學習追蹤

使用以下檢查清單追蹤你的進度：

### 基礎級進度
- [ ] B01：TDD 構建用戶註冊功能
- [ ] B02：TDD 實作密碼驗證器
- [ ] B03：TDD 開發計算器
- [ ] B04：TDD 構建待辦清單
- [ ] B05：TDD 實作購物車
- [ ] B06：TDD 開發文字分析器
- [ ] B07：BDD 用戶登入流程
- [ ] B08：BDD 商品搜尋功能

### 組合級進度
- [ ] C01：BDD 電商結帳流程
- [ ] C02：TDD 任務管理系統
- [ ] C03-C10：其他組合級題目

### 複雜級進度
- [ ] E01：企業級專案 TDD 實踐
- [ ] E02：Legacy 系統 BDD 改造

---

**開始你的 TDD/BDD 之旅！**
**記住：重要的不是完成多少題，而是真正內化 TDD/BDD 思維！**
