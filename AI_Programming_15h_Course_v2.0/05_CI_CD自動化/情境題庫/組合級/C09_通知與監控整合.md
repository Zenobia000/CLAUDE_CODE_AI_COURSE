# C09ï¼šé€šçŸ¥èˆ‡ç›£æ§æ•´åˆ â­

## ğŸ“‹ æƒ…å¢ƒè³‡è¨Š

**é›£åº¦ç­‰ç´š**ï¼šâ­â­ çµ„åˆç´š
**é ä¼°æ™‚é–“**ï¼š1-1.5 å°æ™‚
**æ ¸å¿ƒæŠ€èƒ½**ï¼šé€šçŸ¥æ•´åˆã€ç›£æ§å„€è¡¨æ¿ã€å‘Šè­¦è¦å‰‡ã€äº‹ä»¶è¿½è¹¤
**å‰ç½®çŸ¥è­˜**ï¼šåŸºç¤ç´š B01-B06

---

## ğŸ¯ æƒ…å¢ƒèƒŒæ™¯

åœ˜éšŠåœ¨æ·±å¤œç™¼ç¾ç”Ÿç”¢ç’°å¢ƒæ•…éšœ,ä½†æ²’æœ‰äººæ”¶åˆ°å‘Šè­¦ã€‚ä½ çš„ä»»å‹™æ˜¯å»ºç«‹å®Œæ•´çš„é€šçŸ¥èˆ‡ç›£æ§ç³»çµ±ã€‚

**ç›®æ¨™**ï¼š
- æ‰€æœ‰é—œéµäº‹ä»¶é€šçŸ¥
- å¤±æ•— 5 åˆ†é˜å…§å‘Šè­¦
- å®Œæ•´çš„éƒ¨ç½²è¿½è¹¤
- å„€è¡¨æ¿å³æ™‚æ›´æ–°

---

## ğŸ¬ éšæ®µå±•é–‹

### éšæ®µ 1ï¼šSlack é€šçŸ¥æ•´åˆï¼ˆ20 åˆ†é˜ï¼‰

**Rich Slack Notifications**ï¼ˆ`.github/workflows/notify.yml`ï¼‰ï¼š
```yaml
name: Notifications

on:
  workflow_run:
    workflows: ["CI", "Deploy"]
    types: [completed]

jobs:
  notify:
    runs-on: ubuntu-latest

    steps:
      - name: Send Slack notification
        uses: 8398a7/action-slack@v3
        with:
          status: ${{ github.event.workflow_run.conclusion }}
          custom_payload: |
            {
              "blocks": [
                {
                  "type": "header",
                  "text": {
                    "type": "plain_text",
                    "text": "${{ github.event.workflow_run.name }} - ${{ github.event.workflow_run.conclusion }}"
                  }
                },
                {
                  "type": "section",
                  "fields": [
                    {
                      "type": "mrkdwn",
                      "text": "*Repository:*\n${{ github.repository }}"
                    },
                    {
                      "type": "mrkdwn",
                      "text": "*Branch:*\n${{ github.event.workflow_run.head_branch }}"
                    },
                    {
                      "type": "mrkdwn",
                      "text": "*Commit:*\n<${{ github.event.workflow_run.head_commit.url }}|${{ github.event.workflow_run.head_commit.id }}>"
                    },
                    {
                      "type": "mrkdwn",
                      "text": "*Duration:*\n${{ github.event.workflow_run.updated_at - github.event.workflow_run.created_at }}s"
                    }
                  ]
                },
                {
                  "type": "actions",
                  "elements": [
                    {
                      "type": "button",
                      "text": {
                        "type": "plain_text",
                        "text": "View Logs"
                      },
                      "url": "${{ github.event.workflow_run.html_url }}"
                    }
                  ]
                }
              ]
            }
        env:
          SLACK_WEBHOOK_URL: ${{ secrets.SLACK_WEBHOOK }}
```

**æª¢æŸ¥é» 1**ï¼š
- [ ] Slack é€šçŸ¥ç™¼é€æˆåŠŸ
- [ ] åŒ…å«æ‰€æœ‰é—œéµè³‡è¨Š
- [ ] é€£çµå¯é»æ“Š
- [ ] æ ¼å¼ç¾è§€

---

### éšæ®µ 2ï¼šéƒ¨ç½²å„€è¡¨æ¿ï¼ˆ20 åˆ†é˜ï¼‰

**GitHub Pages Dashboard**ï¼ˆ`scripts/generate_dashboard.py`ï¼‰ï¼š
```python
import json
from datetime import datetime
from github import Github

def generate_dashboard():
    g = Github(os.getenv('GITHUB_TOKEN'))
    repo = g.get_repo('owner/repo')
    
    # ç²å–æœ€è¿‘éƒ¨ç½²
    deployments = list(repo.get_deployments()[:10])
    
    html = f"""
    <!DOCTYPE html>
    <html>
    <head>
        <title>Deployment Dashboard</title>
        <meta http-equiv="refresh" content="60">
        <style>
            body {{ font-family: Arial; background: #1e1e1e; color: #fff; }}
            .deployment {{ border: 1px solid #444; margin: 10px; padding: 15px; }}
            .success {{ border-left: 5px solid #4caf50; }}
            .failure {{ border-left: 5px solid #f44336; }}
        </style>
    </head>
    <body>
        <h1>ğŸš€ Deployment Dashboard</h1>
        <p>Last updated: {datetime.now().strftime('%Y-%m-%d %H:%M:%S')}</p>
    """
    
    for deploy in deployments:
        status_class = 'success' if deploy.statuses[0].state == 'success' else 'failure'
        html += f"""
        <div class="deployment {status_class}">
            <h3>{deploy.environment}</h3>
            <p>Version: {deploy.ref}</p>
            <p>Status: {deploy.statuses[0].state}</p>
            <p>Time: {deploy.created_at}</p>
        </div>
        """
    
    html += "</body></html>"
    
    with open('dashboard.html', 'w') as f:
        f.write(html)

generate_dashboard()
```

**æª¢æŸ¥é» 2**ï¼š
- [ ] å„€è¡¨æ¿è‡ªå‹•ç”Ÿæˆ
- [ ] é¡¯ç¤ºæœ€è¿‘éƒ¨ç½²
- [ ] è‡ªå‹•æ›´æ–°
- [ ] ç‹€æ…‹ä¸€ç›®äº†ç„¶

---

### éšæ®µ 3ï¼šå‘Šè­¦è¦å‰‡ï¼ˆ15 åˆ†é˜ï¼‰

**Prometheus å‘Šè­¦è¦å‰‡**ï¼ˆ`alerts.yml`ï¼‰ï¼š
```yaml
groups:
  - name: deployment_alerts
    rules:
      - alert: DeploymentFailed
        expr: deployment_status{status="failed"} == 1
        for: 5m
        labels:
          severity: critical
        annotations:
          summary: "Deployment failed for {{ $labels.environment }}"
          
      - alert: HighErrorRate
        expr: rate(http_requests_total{status=~"5.."}[5m]) > 0.05
        for: 5m
        labels:
          severity: warning
        annotations:
          summary: "High error rate detected"
```

**æª¢æŸ¥é» 3**ï¼š
- [ ] å‘Šè­¦è¦å‰‡é…ç½®å®Œæˆ
- [ ] æ¸¬è©¦è§¸ç™¼æˆåŠŸ
- [ ] é€šçŸ¥æ¸ é“æš¢é€š
- [ ] å‘Šè­¦åˆ†ç´šæ­£ç¢º

---

### éšæ®µ 4ï¼šäº‹ä»¶è¿½è¹¤ï¼ˆ10 åˆ†é˜ï¼‰

**Sentry æ•´åˆ**ï¼š
```yaml
- name: Report to Sentry
  if: failure()
  run: |
    curl -X POST https://sentry.io/api/0/projects/your-project/events/ \
      -H "Authorization: Bearer ${{ secrets.SENTRY_TOKEN }}" \
      -H "Content-Type: application/json" \
      -d '{
        "message": "Deployment failed",
        "level": "error",
        "tags": {
          "environment": "production",
          "version": "${{ github.sha }}"
        }
      }'
```

**æª¢æŸ¥é» 4**ï¼š
- [ ] äº‹ä»¶æ­£ç¢ºä¸Šå ±
- [ ] åŒ…å«ä¸Šä¸‹æ–‡è³‡è¨Š
- [ ] å¯è¿½è¹¤
- [ ] å¯åˆ†æè¶¨å‹¢

---

## ğŸ¯ å­¸ç¿’æª¢æŸ¥é»

- [ ] å®Œæ•´é€šçŸ¥ç³»çµ±
- [ ] å³æ™‚ç›£æ§å„€è¡¨æ¿
- [ ] åˆ†ç´šå‘Šè­¦æ©Ÿåˆ¶
- [ ] äº‹ä»¶è¿½è¹¤å®Œæ•´

---

## ğŸ’¡ å»¶ä¼¸æŒ‘æˆ°

### æŒ‘æˆ° 1ï¼šè‡ªå®šç¾©ç›£æ§æŒ‡æ¨™
- æ¥­å‹™æŒ‡æ¨™ç›£æ§
- è‡ªè¨‚ Prometheus exporter

### æŒ‘æˆ° 2ï¼šAI ç•°å¸¸æª¢æ¸¬
- ä½¿ç”¨æ©Ÿå™¨å­¸ç¿’æª¢æ¸¬ç•°å¸¸
- è‡ªå‹•èª¿æ•´å‘Šè­¦é–¾å€¼

---

## ğŸ“š åƒè€ƒè³‡æº

- [Slack API](https://api.slack.com/)
- [Prometheus](https://prometheus.io/)
- [Sentry](https://sentry.io/)

---

**ä¸‹ä¸€æ­¥**ï¼šå®Œæˆå¾ŒæŒ‘æˆ° **C10ï¼šå›é€€èˆ‡ç½é›£æ¢å¾©**ï¼
