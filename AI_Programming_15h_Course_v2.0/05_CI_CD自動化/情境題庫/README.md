# 模組 5 情境題庫：CI/CD 自動化整合

## 📚 題庫概覽

本題庫包含 **18 個實戰情境題**，涵蓋 CI/CD 管線建立、安全掃描、部署策略的完整學習路徑。

**總題數分布**：
- **基礎級（Level 1）**：6 題（15-30 分鐘/題）
- **組合級（Level 2）**：10 題（1-2 小時/題）
- **複雜級（Level 3）**：2 題（3-5 小時/題）

---

## 🎯 學習路徑建議

### 路徑 1：快速上手（3-4 小時）

適合：想快速掌握 CI/CD 基本流程的學員

```
B01 建立基礎測試管線（30 分鐘）
  ↓
B02 配置程式碼品質檢查（20 分鐘）
  ↓
B03 整合靜態分析（30 分鐘）
  ↓
C01 安全掃描管線建立（2 小時）⭐

完成後：能為專案建立基本的 CI/CD 管線
```

### 路徑 2：全面學習（10-12 小時）

適合：想深入掌握 CI/CD 完整技能的學員

```
基礎級 6 題（2 小時）
  ↓
組合級 4 題（6 小時）
  - C01 安全掃描管線
  - C03 前端專案完整管線
  - C04 後端 API 完整管線
  - C06 容器化應用管線
  ↓
複雜級 1 題（4 小時）
  - E01 企業級 DevOps 管線

完成後：能獨立設計和實作企業級 CI/CD 系統
```

### 路徑 3：專項強化

**強化安全掃描**（4 小時）：
```
B03 + B05 + C01 + C10
```

**強化容器化部署**（4 小時）：
```
B04 + B06 + C06 + C10
```

**強化多環境管理**（4 小時）：
```
B06 + C02 + C07 + C10
```

---

## 📋 題目清單

### 基礎級（Level 1）：單一功能實作

> 目標：掌握 CI/CD 的基本組件
> 時長：15-30 分鐘/題
> 難度：⭐

| 編號 | 題目名稱 | 核心技能 | 預估時間 | 狀態 |
|------|---------|---------|---------|------|
| B01 | 建立基礎測試管線 | GitHub Actions、pytest | 30 分鐘 | ⭐ 完整示範 |
| B02 | 配置程式碼品質檢查 | Linting、Black、Flake8 | 20 分鐘 | 📝 題目架構 |
| B03 | 整合靜態分析 | CodeQL 設定 | 30 分鐘 | 📝 題目架構 |
| B04 | 建立 Docker 構建流程 | Docker build、multi-stage | 25 分鐘 | 📝 題目架構 |
| B05 | 配置依賴掃描 | Snyk/Dependabot | 20 分鐘 | 📝 題目架構 |
| B06 | 建立簡易部署流程 | 部署到測試環境 | 25 分鐘 | 📝 題目架構 |

**基礎級學習目標**：
- [ ] 理解 GitHub Actions 的基本結構
- [ ] 能配置基本的測試和檢查
- [ ] 掌握單一功能的 workflow 編寫
- [ ] 學會查看和除錯 workflow 日誌

---

### 組合級（Level 2）：完整管線建立

> 目標：整合多個 CI/CD 組件，建立生產級管線
> 時長：1-2 小時/題
> 難度：⭐⭐

| 編號 | 題目名稱 | 整合技能 | 預估時間 | 狀態 |
|------|---------|---------|---------|------|
| C01 | 安全掃描管線建立 | CodeQL + Snyk + Trivy | 2 小時 | ⭐ 完整示範 |
| C02 | 多環境部署策略 | dev/staging/prod 環境 | 1.5 小時 | 📝 題目架構 |
| C03 | 前端專案完整管線 | React + Jest + Cypress | 2 小時 | 📝 題目架構 |
| C04 | 後端 API 完整管線 | FastAPI + pytest + 安全掃描 | 2 小時 | 📝 題目架構 |
| C05 | Monorepo 管線設計 | 變更偵測 + 並行測試 | 2 小時 | 📝 題目架構 |
| C06 | 容器化應用管線 | Docker + Kubernetes 部署 | 2 小時 | 📝 題目架構 |
| C07 | 資料庫遷移自動化 | Alembic + 遷移驗證 | 1.5 小時 | 📝 題目架構 |
| C08 | 效能測試整合 | Load testing + 閾值檢查 | 1.5 小時 | 📝 題目架構 |
| C09 | 通知與監控整合 | Slack/Discord + 指標追蹤 | 1 小時 | 📝 題目架構 |
| C10 | 回退與災難恢復 | 自動回退 + 備份驗證 | 2 小時 | 📝 題目架構 |

**組合級學習目標**：
- [ ] 能整合測試、掃描、部署為完整管線
- [ ] 掌握多環境管理策略
- [ ] 實作自動化回退機制
- [ ] 建立監控和告警系統

---

### 複雜級（Level 3）：企業級系統設計

> 目標：設計和實作企業級 CI/CD 架構
> 時長：3-5 小時/題
> 難度：⭐⭐⭐

| 編號 | 題目名稱 | 系統設計 | 預估時間 | 狀態 |
|------|---------|---------|---------|------|
| E01 | 企業級完整 DevOps 管線 | 完整 SDLC 自動化 | 5 小時 | 📝 題目架構 |
| E02 | 微服務架構 CI/CD | 多服務編排 + 金絲雀部署 | 4 小時 | 📝 題目架構 |

**複雜級學習目標**：
- [ ] 設計符合企業需求的 CI/CD 架構
- [ ] 實作多服務協調和編排
- [ ] 建立完整的安全治理策略
- [ ] 優化管線效能和成本

---

## 🎓 情境題結構說明

每個情境題包含以下部分：

### 1. 情境背景
真實的業務場景或問題描述

### 2. 任務目標
明確的可驗證目標

### 3. 起始條件
專案初始狀態、可用工具

### 4. 學習檢查點
自我檢驗的關鍵里程碑

### 5. 參考解答
完整的實作方案 + 詳細說明

### 6. 延伸挑戰
進階優化方向

---

## 🔥 快速開始

### 第一次練習建議

**推薦題目**：B01 建立基礎測試管線

**原因**：
- ✅ 最基礎，容易上手
- ✅ 涵蓋核心概念
- ✅ 30 分鐘內可完成
- ✅ 立即看到成效

**快速路徑**：
```bash
1. 閱讀 B01 情境描述（5 分鐘）
2. 用 Claude 生成 workflow（5 分鐘）
3. 建立並測試 workflow（15 分鐘）
4. 觀察執行結果（5 分鐘）
```

---

## 📊 題目難度對照

```
基礎級（B01-B06）：
├─ 知識需求：理論 5.1 的基本概念
├─ 技能需求：會用 Claude 生成配置
└─ 成功標準：workflow 能成功執行

組合級（C01-C10）：
├─ 知識需求：理論 5.1 + 5.2
├─ 技能需求：理解並修改生成的配置
└─ 成功標準：管線完整且穩定

複雜級（E01-E02）：
├─ 知識需求：理論 5.1 + 5.2 + 5.3
├─ 技能需求：獨立設計架構
└─ 成功標準：符合企業級要求
```

---

## 🛠️ 完成題目所需工具

### 必備工具
- ✅ GitHub 帳號（免費）
- ✅ Git 基礎操作
- ✅ Claude Code 或 Claude（生成 workflow）
- ✅ 文字編輯器（VS Code 等）

### 選用工具（特定題目需要）
- Docker（B04, C06）
- Kubernetes（C06, E02）
- Snyk 帳號（B05, C01）
- PostgreSQL（C07）

---

## 📈 學習進度追蹤

### 自我評量標準

**基礎級通過標準**：
- [ ] workflow 能成功執行
- [ ] 理解每個 step 的作用
- [ ] 能閱讀 workflow 日誌
- [ ] 能修復簡單的錯誤

**組合級通過標準**：
- [ ] 管線整合至少 3 個組件
- [ ] 能處理環境變數和 secrets
- [ ] 設定了 PR 保護規則
- [ ] 能除錯複雜的 workflow 問題

**複雜級通過標準**：
- [ ] 設計符合需求的完整架構
- [ ] 考慮了效能和成本優化
- [ ] 實作了監控和告警
- [ ] 撰寫了完整的文件

---

## 💡 學習技巧

### 技巧 1：用 AI 加速學習

```
❌ 不要：試圖從零手寫所有 workflow
✅ 要做：用 Claude 生成範本，理解並優化

節省時間：80%
學習效果：更好（專注理解而非語法）
```

### 技巧 2：小步迭代

```
第 1 版：最簡單版本（只測試）
  ↓ 確認能跑
第 2 版：加入 linting
  ↓ 確認能跑
第 3 版：加入安全掃描
  ↓ 確認能跑
第 4 版：優化效能

不要一次做完！
```

### 技巧 3：從錯誤中學習

```
workflow 失敗是正常的！

每次失敗：
1. 閱讀錯誤訊息
2. 理解失敗原因
3. 用 Claude 分析日誌
4. 修復並重試

失敗 5 次 = 學到 5 件事
```

### 技巧 4：參考但不抄襲

```
✅ 好的做法：
1. 先自己嘗試
2. 卡住時參考解答
3. 理解原理後改寫
4. 客製化到自己專案

❌ 錯誤做法：
1. 直接複製解答
2. 不理解就使用
3. 出問題不知如何修
```

---

## 🔗 相關資源

### 課程理論
- **5.1 GitHub Actions 整合**：`理論/5.1_GitHub_Actions整合.md`
- **5.2 安全掃描與自動修復**：`理論/5.2_安全掃描與自動修復.md`
- **5.3 自動化部署策略**：`理論/5.3_自動化部署策略.md`

### 實作練習
- **練習 1：FastAPI 專案 CI/CD**：`實作/練習1_FastAPI專案CI_CD/`
- **練習 2：安全掃描自動化**：`實作/練習2_安全掃描自動化/`

### 範例配置
- **Workflow 範本庫**：`範例配置/workflow_templates/`

### 記憶卡
- **Anki 記憶卡**：`記憶卡庫/模組5_CI_CD基礎.apkg`

---

## 🆘 遇到問題？

### 常見問題 FAQ

**Q1：workflow 執行失敗，看不懂錯誤訊息**
```
A：複製錯誤日誌，問 Claude：
   「我的 GitHub Actions workflow 失敗了，錯誤訊息如下：
    [貼上日誌]
    請幫我分析原因並提供修復方案。」
```

**Q2：不確定該用哪個 Action**
```
A：前往 GitHub Actions Marketplace 搜尋：
   https://github.com/marketplace?type=actions

   或問 Claude：
   「我需要在 workflow 中執行 X，有推薦的 Action 嗎？」
```

**Q3：workflow 執行太慢**
```
A：參考理論 5.1 的「優化效能」章節
   - 使用快取
   - 並行執行
   - 減少不必要的步驟
```

**Q4：Secret 怎麼設定？**
```
A：
1. 前往 GitHub 專案設定
2. Settings → Secrets and variables → Actions
3. New repository secret
4. 輸入名稱和值
```

---

## 📅 練習計畫建議

### Week 1：基礎建立
```
Day 1-2：完成 B01-B03（測試 + 品質檢查）
Day 3-4：完成 B04-B06（Docker + 掃描 + 部署）
Day 5：  回顧與總結
```

### Week 2：整合應用
```
Day 1：  完成 C01（安全掃描管線）
Day 2：  完成 C03 或 C04（前端或後端管線）
Day 3：  完成 C06（容器化管線）
Day 4：  完成 C10（回退機制）
Day 5：  應用到實際專案
```

### Week 3：進階挑戰
```
Day 1-3：完成 E01（企業級管線）
Day 4-5：優化和文件撰寫
```

---

## 🎯 學習成果驗證

完成題庫後，你應該能夠：

### ✅ 基本能力
- 為任意專案建立基礎 CI/CD 管線（15 分鐘內）
- 配置自動化測試和程式碼品質檢查
- 整合基本的安全掃描

### ✅ 進階能力
- 設計多層次安全掃描策略
- 實作多環境部署流程
- 建立自動回退機制
- 優化管線效能和成本

### ✅ 專家能力
- 設計企業級 CI/CD 架構
- 實作微服務協調和編排
- 建立完整的監控和治理體系
- 指導團隊建立 DevOps 文化

---

**準備好了嗎？** 從 `基礎級/B01_建立基礎測試管線.md` 開始你的 CI/CD 之旅！
