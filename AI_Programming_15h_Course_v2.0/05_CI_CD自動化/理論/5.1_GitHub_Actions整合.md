# 5.1 GitHub Actions æ•´åˆï¼šAI æ™‚ä»£çš„è‡ªå‹•åŒ–ç®¡ç·š

## ğŸ“š æœ¬ç« æ¦‚è¿°

**å­¸ç¿’æ™‚é•·**ï¼š45 åˆ†é˜

**æ ¸å¿ƒç›®æ¨™**ï¼š
- ç†è§£ CI/CD çš„æ ¸å¿ƒåƒ¹å€¼
- æŒæ¡ GitHub Actions åŸºæœ¬æ¶æ§‹
- å­¸æœƒç”¨ AI ç”Ÿæˆå’Œå„ªåŒ– workflow
- å»ºç«‹å¯é‹è¡Œçš„è‡ªå‹•åŒ–æ¸¬è©¦ç®¡ç·š

**Linux é¡æ¯”**ï¼š
> GitHub Actions å°±åƒ cron + systemd + shell script çš„çµ„åˆï¼š
> - **cron**ï¼šå®šæ™‚æˆ–äº‹ä»¶è§¸ç™¼
> - **systemd**ï¼šç®¡ç†æœå‹™çš„ç”Ÿå‘½é€±æœŸ
> - **shell script**ï¼šå®šç¾©å…·é«”è¦åŸ·è¡Œçš„ä»»å‹™

---

## 1. CI/CD åŸºç¤ï¼šç‚ºä»€éº¼æˆ‘å€‘éœ€è¦è‡ªå‹•åŒ–ï¼Ÿ

### 1.1 å‚³çµ±é–‹ç™¼æµç¨‹çš„ç—›é»

**å ´æ™¯ï¼šæ²’æœ‰ CI/CD çš„æ—¥å¸¸**

```
é€±äº”ä¸‹åˆ 5:30 PM

é–‹ç™¼è€… Aï¼šã€Œæˆ‘çš„åŠŸèƒ½é–‹ç™¼å®Œäº†ï¼Œæº–å‚™åˆä½µåˆ° mainï¼ã€
[æ‰‹å‹•åŸ·è¡Œæ¸¬è©¦]
é–‹ç™¼è€… Aï¼šã€Œæ¸¬è©¦éƒ½éäº†ï¼Œpushï¼ã€

é€±äº”ä¸‹åˆ 6:00 PM
[ç”Ÿç”¢ç’°å¢ƒå´©æ½°]

é–‹ç™¼è€… Bï¼šã€Œèª° push äº†ï¼Ÿæˆ‘çš„åŠŸèƒ½å£äº†ï¼ã€
é–‹ç™¼è€… Cï¼šã€Œè³‡æ–™åº«é€£ç·šå¤±æ•—ï¼ã€

èª¿æŸ¥çµæœï¼š
- é–‹ç™¼è€… A åªåœ¨æœ¬æ©Ÿæ¸¬è©¦ï¼Œç’°å¢ƒä¸åŒ
- å¿˜è¨˜åŸ·è¡Œæ•´åˆæ¸¬è©¦
- æ²’æœ‰æª¢æŸ¥å®‰å…¨æ¼æ´
- æ²’æœ‰ linting æª¢æŸ¥

é€±æœ«æ³¡æ¹¯ï¼ŒåŠ ç­ä¿®å¾©...
```

**å•é¡Œç¸½çµ**ï¼š
1. âŒ ä¾è³´äººå·¥è¨˜æ†¶åŸ·è¡Œæ¸¬è©¦
2. âŒ ç’°å¢ƒä¸ä¸€è‡´ï¼ˆ"åœ¨æˆ‘é›»è…¦ä¸Šå¯ä»¥"ï¼‰
3. âŒ æ²’æœ‰æ¨™æº–åŒ–æµç¨‹
4. âŒ éŒ¯èª¤ç™¼ç¾å¤ªæ™šï¼ˆç”Ÿç”¢ç’°å¢ƒæ‰ç™¼ç¾ï¼‰

### 1.2 CI/CD çš„è§£æ±ºæ–¹æ¡ˆ

**CI (Continuous Integration) - æŒçºŒæ•´åˆ**ï¼š
```
æ¯æ¬¡ç¨‹å¼ç¢¼è®Šæ›´æ™‚ï¼Œè‡ªå‹•ï¼š
1. åŸ·è¡Œæ‰€æœ‰æ¸¬è©¦
2. æª¢æŸ¥ç¨‹å¼ç¢¼å“è³ª
3. æƒæå®‰å…¨æ¼æ´
4. å»ºç«‹å¯éƒ¨ç½²çš„ç”¢ç‰©

â†’ å¿«é€Ÿç™¼ç¾å•é¡Œï¼ŒåŠæ—©ä¿®å¾©
```

**CD (Continuous Deployment/Delivery) - æŒçºŒéƒ¨ç½²**ï¼š
```
æ¸¬è©¦é€šéå¾Œï¼Œè‡ªå‹•ï¼š
1. éƒ¨ç½²åˆ°æ¸¬è©¦ç’°å¢ƒ
2. åŸ·è¡Œæ•´åˆæ¸¬è©¦
3. éƒ¨ç½²åˆ°ç”Ÿç”¢ç’°å¢ƒï¼ˆæˆ–ç­‰å¾…äººå·¥æ‰¹å‡†ï¼‰

â†’ å¿«é€Ÿäº¤ä»˜åƒ¹å€¼ï¼Œé™ä½éƒ¨ç½²é¢¨éšª
```

**æœ‰ CI/CD çš„æµç¨‹**ï¼š
```
é€±äº”ä¸‹åˆ 5:30 PM

é–‹ç™¼è€… Aï¼šæäº¤ Pull Request
[GitHub Actions è‡ªå‹•åŸ·è¡Œ]
  âœ… å–®å…ƒæ¸¬è©¦é€šé
  âœ… æ•´åˆæ¸¬è©¦é€šé
  âœ… ç¨‹å¼ç¢¼å“è³ªæª¢æŸ¥é€šé
  âŒ å®‰å…¨æƒæç™¼ç¾ SQL æ³¨å…¥æ¼æ´

[PR è¢«è‡ªå‹•é˜»æ­¢åˆä½µ]
é€šçŸ¥ï¼šã€Œç™¼ç¾å®‰å…¨å•é¡Œï¼Œè«‹ä¿®å¾©å¾Œå†åˆä½µã€

é–‹ç™¼è€… Aï¼šä¿®å¾©æ¼æ´ï¼Œé‡æ–°æäº¤
[æ‰€æœ‰æª¢æŸ¥é€šé âœ…]

åˆä½µ â†’ è‡ªå‹•éƒ¨ç½² â†’ é€±æœ«å®‰å¿ƒåº¦é
```

### 1.3 åœ¨ AI æ™‚ä»£ï¼ŒCI/CD æ›´åŠ é‡è¦

**æ ¸å¿ƒäº‹å¯¦**ï¼ˆä¾†è‡ªèª²ç¨‹è³‡æ–™ï¼‰ï¼š
- **40%** çš„ AI ç”Ÿæˆä»£ç¢¼åŒ…å«å®‰å…¨å•é¡Œ
- **Code Churn ç¿»å€**ï¼šAI åŠ é€Ÿé–‹ç™¼ï¼Œä½†ä¹Ÿå¢åŠ è¿”å·¥
- **ä¿¡ä»»åº¦æ‚–è«–**ï¼š80% ä½¿ç”¨ AIï¼Œåªæœ‰ 29% ä¿¡ä»»

**CI/CD æ˜¯ AI æ™‚ä»£çš„å®‰å…¨ç¶²**ï¼š

```
æ²’æœ‰ CI/CDï¼š
AI ç”Ÿæˆä»£ç¢¼ â†’ ç›´æ¥åˆä½µ â†’ 40% æ©Ÿç‡æœ‰å•é¡Œ â†’ ç”Ÿç”¢äº‹æ•…

æœ‰ CI/CDï¼š
AI ç”Ÿæˆä»£ç¢¼ â†’ è‡ªå‹•æƒæ â†’ ç™¼ç¾å•é¡Œ â†’ AI è¼”åŠ©ä¿®å¾© â†’ é‡æ–°é©—è­‰ â†’ å®‰å…¨åˆä½µ
```

---

## 2. GitHub Actions æ ¸å¿ƒæ¦‚å¿µ

### 2.1 åŸºæœ¬æ¶æ§‹ï¼šWorkflowã€Jobsã€Steps

**æ¦‚å¿µçµæ§‹**ï¼š

```yaml
# .github/workflows/test.yml

name: Test Pipeline                    # Workflow åç¨±

on: [push, pull_request]              # è§¸ç™¼æ¢ä»¶ï¼ˆTriggerï¼‰

jobs:                                  # å·¥ä½œæ¸…å–®
  test:                               # Job 1: æ¸¬è©¦
    runs-on: ubuntu-latest            # åŸ·è¡Œç’°å¢ƒ
    steps:                            # æ­¥é©Ÿæ¸…å–®
      - uses: actions/checkout@v4     # Step 1: æª¢å‡ºä»£ç¢¼
      - name: Run tests               # Step 2: åŸ·è¡Œæ¸¬è©¦
        run: pytest

  lint:                               # Job 2: Linting
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: Run linter
        run: flake8 .
```

**Linux é¡æ¯”**ï¼š

```bash
# workflow â‰ˆ å®Œæ•´çš„è‡ªå‹•åŒ–è…³æœ¬
# job      â‰ˆ å‡½å¼æˆ–å­ä»»å‹™
# step     â‰ˆ å–®ä¸€æŒ‡ä»¤

# é¡ä¼¼é€™æ¨£çš„ shell scriptï¼š
#!/bin/bash

# Job 1: test
test_job() {
    git clone repo
    pytest
}

# Job 2: lint
lint_job() {
    git clone repo
    flake8 .
}

# Trigger: on push
if [ "$EVENT" = "push" ]; then
    test_job &  # ä¸¦è¡ŒåŸ·è¡Œ
    lint_job &
    wait
fi
```

### 2.2 æ ¸å¿ƒå…ƒç´ è©³è§£

#### 2.2.1 Triggerï¼ˆè§¸ç™¼å™¨ï¼‰

**å¸¸ç”¨è§¸ç™¼äº‹ä»¶**ï¼š

```yaml
# 1. Push äº‹ä»¶
on:
  push:
    branches:
      - main              # åªåœ¨ main åˆ†æ”¯
      - 'release/**'      # æ‰€æœ‰ release åˆ†æ”¯
    paths:
      - 'src/**'          # åªåœ¨ src ç›®éŒ„è®Šæ›´æ™‚

# 2. Pull Request äº‹ä»¶
on:
  pull_request:
    types: [opened, synchronize, reopened]

# 3. å®šæ™‚åŸ·è¡Œï¼ˆcronï¼‰
on:
  schedule:
    - cron: '0 2 * * *'   # æ¯å¤©å‡Œæ™¨ 2 é»

# 4. æ‰‹å‹•è§¸ç™¼
on:
  workflow_dispatch:
    inputs:
      environment:
        description: 'Deployment environment'
        required: true
        default: 'staging'

# 5. å¤šå€‹è§¸ç™¼æ¢ä»¶
on:
  push:
    branches: [main]
  pull_request:
    branches: [main]
  schedule:
    - cron: '0 2 * * *'
```

#### 2.2.2 Jobsï¼ˆå·¥ä½œï¼‰

**Jobs çš„ç‰¹æ€§**ï¼š
- é è¨­**ä¸¦è¡ŒåŸ·è¡Œ**ï¼ˆåŠ å¿«é€Ÿåº¦ï¼‰
- å¯ä»¥è¨­å®š**ä¾è³´é—œä¿‚**ï¼ˆéœ€è¦é †åºæ™‚ï¼‰
- åœ¨**ç¨ç«‹çš„ç’°å¢ƒ**ä¸­åŸ·è¡Œï¼ˆäº’ä¸å½±éŸ¿ï¼‰

```yaml
jobs:
  # Job 1: å»ºç«‹
  build:
    runs-on: ubuntu-latest
    steps:
      - run: npm run build

  # Job 2: æ¸¬è©¦ï¼ˆä¾è³´ buildï¼‰
  test:
    needs: build          # ç­‰å¾… build å®Œæˆ
    runs-on: ubuntu-latest
    steps:
      - run: npm test

  # Job 3: éƒ¨ç½²ï¼ˆä¾è³´ testï¼‰
  deploy:
    needs: test
    runs-on: ubuntu-latest
    steps:
      - run: npm run deploy
```

**åŸ·è¡Œæµç¨‹**ï¼š
```
build (é–‹å§‹)
  â†“
build (å®Œæˆ) â†’ test (é–‹å§‹)
                  â†“
              test (å®Œæˆ) â†’ deploy (é–‹å§‹)
                               â†“
                           deploy (å®Œæˆ)
```

**ä¸¦è¡Œ vs é †åºåŸ·è¡Œ**ï¼š

```yaml
# ä¸¦è¡ŒåŸ·è¡Œï¼ˆé è¨­ï¼‰
jobs:
  test-backend:
    runs-on: ubuntu-latest
    steps: [...]

  test-frontend:
    runs-on: ubuntu-latest
    steps: [...]

  lint:
    runs-on: ubuntu-latest
    steps: [...]

# é€™ä¸‰å€‹ jobs æœƒåŒæ™‚åŸ·è¡Œï¼Œç¯€çœæ™‚é–“
```

#### 2.2.3 Stepsï¼ˆæ­¥é©Ÿï¼‰

Steps æ˜¯ job ä¸­çš„å…·é«”æ“ä½œï¼Œæœ‰å…©ç¨®å½¢å¼ï¼š

**1. ä½¿ç”¨ç¾æˆçš„ Actionï¼ˆusesï¼‰**ï¼š

```yaml
steps:
  # æª¢å‡ºä»£ç¢¼ï¼ˆå¿…å‚™ï¼‰
  - uses: actions/checkout@v4

  # è¨­ç½® Python ç’°å¢ƒ
  - uses: actions/setup-python@v4
    with:
      python-version: '3.11'

  # å¿«å–ä¾è³´
  - uses: actions/cache@v3
    with:
      path: ~/.cache/pip
      key: ${{ runner.os }}-pip-${{ hashFiles('requirements.txt') }}
```

**2. åŸ·è¡Œå‘½ä»¤ï¼ˆrunï¼‰**ï¼š

```yaml
steps:
  - name: Install dependencies
    run: |
      pip install -r requirements.txt
      pip install pytest pytest-cov

  - name: Run tests
    run: pytest --cov=. --cov-report=xml

  - name: Check coverage
    run: |
      coverage report
      if [ $(coverage report | grep TOTAL | awk '{print $4}' | sed 's/%//') -lt 80 ]; then
        echo "Coverage below 80%"
        exit 1
      fi
```

### 2.3 åŸ·è¡Œç’°å¢ƒï¼ˆRunnersï¼‰

**å¸¸ç”¨åŸ·è¡Œç’°å¢ƒ**ï¼š

```yaml
jobs:
  test:
    runs-on: ubuntu-latest      # Ubuntu Linuxï¼ˆæœ€å¸¸ç”¨ï¼‰
    # runs-on: macos-latest     # macOS
    # runs-on: windows-latest   # Windows
```

**è‡ªæ¶ Runnerï¼ˆSelf-hostedï¼‰**ï¼š

```yaml
jobs:
  deploy:
    runs-on: self-hosted        # ä½¿ç”¨è‡ªå·±çš„ä¼ºæœå™¨
    steps: [...]
```

**ä½¿ç”¨æ™‚æ©Ÿ**ï¼š
- âœ… **GitHub-hosted**ï¼šé©åˆå¤§å¤šæ•¸æƒ…æ³ï¼Œå…è²»é¡åº¦å……è¶³
- âœ… **Self-hosted**ï¼šéœ€è¦ç‰¹æ®Šç¡¬é«”ã€å…§éƒ¨ç¶²è·¯ã€æˆ–æˆæœ¬å„ªåŒ–

---

## 3. å¯¦æˆ°ï¼šå»ºç«‹ç¬¬ä¸€å€‹ Workflow

### 3.1 æƒ…å¢ƒï¼šç‚º Python FastAPI å°ˆæ¡ˆå»ºç«‹æ¸¬è©¦ç®¡ç·š

**å°ˆæ¡ˆçµæ§‹**ï¼š

```
my-fastapi-project/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ main.py
â”‚   â””â”€â”€ models.py
â”œâ”€â”€ tests/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â””â”€â”€ test_main.py
â”œâ”€â”€ requirements.txt
â””â”€â”€ .github/
    â””â”€â”€ workflows/
        â””â”€â”€ test.yml
```

### 3.2 ç”¨ AI ç”Ÿæˆ Workflowï¼ˆæ¨è–¦æ–¹å¼ï¼‰

**æç¤ºè©ç¯„æœ¬**ï¼š

```
æˆ‘æœ‰ä¸€å€‹ Python FastAPI å°ˆæ¡ˆï¼Œçµæ§‹å¦‚ä¸‹ï¼š
- ä¸»ç¨‹å¼ï¼šapp/main.py
- æ¸¬è©¦ï¼štests/test_main.py
- ä¾è³´ï¼šrequirements.txtï¼ˆåŒ…å« fastapiã€pytestã€pytest-covï¼‰

è«‹å¹«æˆ‘å»ºç«‹ä¸€å€‹ GitHub Actions workflowï¼Œè¦æ±‚ï¼š
1. åœ¨æ¯æ¬¡ push å’Œ pull request æ™‚è§¸ç™¼
2. ä½¿ç”¨ Python 3.11
3. å®‰è£ä¾è³´
4. åŸ·è¡Œ pytest æ¸¬è©¦
5. ç”¢ç”Ÿæ¸¬è©¦è¦†è“‹ç‡å ±å‘Š
6. å¦‚æœè¦†è“‹ç‡ä½æ–¼ 80%ï¼Œè®“ workflow å¤±æ•—

è«‹æä¾›å®Œæ•´çš„ .github/workflows/test.yml é…ç½®ã€‚
```

**Claude ç”Ÿæˆçš„é…ç½®**ï¼ˆç¯„ä¾‹ï¼‰ï¼š

```yaml
name: Test

on:
  push:
    branches: [main, develop]
  pull_request:
    branches: [main]

jobs:
  test:
    runs-on: ubuntu-latest

    steps:
    - name: Checkout code
      uses: actions/checkout@v4

    - name: Set up Python
      uses: actions/setup-python@v4
      with:
        python-version: '3.11'

    - name: Cache dependencies
      uses: actions/cache@v3
      with:
        path: ~/.cache/pip
        key: ${{ runner.os }}-pip-${{ hashFiles('requirements.txt') }}
        restore-keys: |
          ${{ runner.os }}-pip-

    - name: Install dependencies
      run: |
        python -m pip install --upgrade pip
        pip install -r requirements.txt

    - name: Run tests with coverage
      run: |
        pytest --cov=app --cov-report=term --cov-report=xml

    - name: Check coverage threshold
      run: |
        coverage report --fail-under=80

    - name: Upload coverage to Codecov
      uses: codecov/codecov-action@v3
      with:
        file: ./coverage.xml
        fail_ci_if_error: true
```

### 3.3 ç†è§£ç”Ÿæˆçš„é…ç½®

**é€æ­¥è§£æ**ï¼š

```yaml
# 1. Workflow å‘½å
name: Test                           # åœ¨ GitHub UI é¡¯ç¤ºçš„åç¨±

# 2. è§¸ç™¼æ¢ä»¶
on:
  push:
    branches: [main, develop]        # main å’Œ develop åˆ†æ”¯çš„ push
  pull_request:
    branches: [main]                 # å° main çš„ PR

# 3. å®šç¾© Job
jobs:
  test:                              # Job ID
    runs-on: ubuntu-latest           # Ubuntu ç’°å¢ƒ

    steps:
    # Step 1: æª¢å‡ºä»£ç¢¼ï¼ˆå¿…å‚™æ­¥é©Ÿï¼‰
    - name: Checkout code
      uses: actions/checkout@v4      # ä½¿ç”¨å®˜æ–¹ checkout action

    # Step 2: è¨­ç½® Python ç’°å¢ƒ
    - name: Set up Python
      uses: actions/setup-python@v4  # å®˜æ–¹ Python setup action
      with:
        python-version: '3.11'       # æŒ‡å®šç‰ˆæœ¬

    # Step 3: å¿«å–ä¾è³´ï¼ˆåŠ é€Ÿå¾ŒçºŒåŸ·è¡Œï¼‰
    - name: Cache dependencies
      uses: actions/cache@v3
      with:
        path: ~/.cache/pip           # å¿«å–è·¯å¾‘
        key: ${{ runner.os }}-pip-${{ hashFiles('requirements.txt') }}
        # key åŒ…å« OS å’Œ requirements.txt çš„ hash
        # å¦‚æœ requirements.txt æ”¹è®Šï¼Œkey æœƒä¸åŒï¼Œå¿«å–å¤±æ•ˆ

    # Step 4: å®‰è£ä¾è³´
    - name: Install dependencies
      run: |                         # åŸ·è¡Œå¤šè¡Œå‘½ä»¤
        python -m pip install --upgrade pip
        pip install -r requirements.txt

    # Step 5: åŸ·è¡Œæ¸¬è©¦
    - name: Run tests with coverage
      run: |
        pytest --cov=app --cov-report=term --cov-report=xml

    # Step 6: æª¢æŸ¥è¦†è“‹ç‡
    - name: Check coverage threshold
      run: |
        coverage report --fail-under=80
        # å¦‚æœè¦†è“‹ç‡ < 80%ï¼Œexit code é 0ï¼Œworkflow å¤±æ•—

    # Step 7: ä¸Šå‚³è¦†è“‹ç‡å ±å‘Šï¼ˆé¸ç”¨ï¼‰
    - name: Upload coverage to Codecov
      uses: codecov/codecov-action@v3
      with:
        file: ./coverage.xml
        fail_ci_if_error: true
```

### 3.4 å¯¦éš›ä½¿ç”¨æµç¨‹

**æ­¥é©Ÿ 1ï¼šå»ºç«‹ workflow æª”æ¡ˆ**

```bash
# åœ¨å°ˆæ¡ˆæ ¹ç›®éŒ„
mkdir -p .github/workflows
cd .github/workflows

# å»ºç«‹ test.ymlï¼ˆå°‡ Claude ç”Ÿæˆçš„å…§å®¹è²¼ä¸Šï¼‰
vim test.yml
```

**æ­¥é©Ÿ 2ï¼šæäº¤ä¸¦æ¨é€**

```bash
git add .github/workflows/test.yml
git commit -m "ci: add automated testing workflow"
git push origin main
```

**æ­¥é©Ÿ 3ï¼šæŸ¥çœ‹åŸ·è¡Œçµæœ**

å‰å¾€ GitHubï¼š
```
https://github.com/ä½ çš„å¸³è™Ÿ/ä½ çš„å°ˆæ¡ˆ/actions
```

ä½ æœƒçœ‹åˆ°ï¼š
- âœ… åŸ·è¡Œä¸­çš„ workflow
- æ¯å€‹ step çš„åŸ·è¡Œæ—¥èªŒ
- æˆåŠŸæˆ–å¤±æ•—çš„ç‹€æ…‹

**æ­¥é©Ÿ 4ï¼šåœ¨ PR ä¸­çœ‹åˆ°è‡ªå‹•æª¢æŸ¥**

å»ºç«‹ Pull Request æ™‚ï¼Œæœƒè‡ªå‹•åŸ·è¡Œ workflowï¼š

```
Pull Request #123: Add new feature

Checks:
âœ… Test (3m 24s)
  âœ… Checkout code
  âœ… Set up Python
  âœ… Install dependencies
  âœ… Run tests with coverage
  âœ… Check coverage threshold
```

åªæœ‰æ‰€æœ‰æª¢æŸ¥é€šéï¼Œæ‰èƒ½åˆä½µï¼

---

## 4. AI è¼”åŠ© CI/CD é–‹ç™¼

### 4.1 ç”¨ Claude ç”Ÿæˆè¤‡é›œ Workflow

**æƒ…å¢ƒï¼šå‰ç«¯ React å°ˆæ¡ˆ + å¾Œç«¯ FastAPI**

**æç¤ºè©**ï¼š

```
æˆ‘æœ‰ä¸€å€‹ monorepo å°ˆæ¡ˆï¼Œçµæ§‹å¦‚ä¸‹ï¼š
â”œâ”€â”€ frontend/ (React + TypeScript)
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ src/
â””â”€â”€ backend/ (FastAPI)
    â”œâ”€â”€ requirements.txt
    â””â”€â”€ app/

è«‹å¹«æˆ‘å»ºç«‹ä¸€å€‹ GitHub Actions workflowï¼š
1. åµæ¸¬å“ªå€‹ç›®éŒ„æœ‰è®Šæ›´ï¼ˆfrontend æˆ– backendï¼‰
2. åªæ¸¬è©¦æœ‰è®Šæ›´çš„éƒ¨åˆ†ï¼ˆç¯€çœæ™‚é–“ï¼‰
3. frontend è¦åŸ·è¡Œï¼šnpm test, npm run lint, npm run build
4. backend è¦åŸ·è¡Œï¼špytest, flake8, mypy
5. å…©è€…éƒ½è®Šæ›´æ™‚ï¼Œä¸¦è¡ŒåŸ·è¡Œæ¸¬è©¦

è«‹æä¾›å®Œæ•´é…ç½®ã€‚
```

**Claude ç”Ÿæˆçš„æ™ºæ…§ Workflow**ï¼š

```yaml
name: Monorepo CI

on:
  push:
    branches: [main]
  pull_request:
    branches: [main]

jobs:
  detect-changes:
    runs-on: ubuntu-latest
    outputs:
      frontend: ${{ steps.filter.outputs.frontend }}
      backend: ${{ steps.filter.outputs.backend }}
    steps:
      - uses: actions/checkout@v4
      - uses: dorny/paths-filter@v2
        id: filter
        with:
          filters: |
            frontend:
              - 'frontend/**'
            backend:
              - 'backend/**'

  test-frontend:
    needs: detect-changes
    if: needs.detect-changes.outputs.frontend == 'true'
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: actions/setup-node@v3
        with:
          node-version: '18'
      - name: Install dependencies
        run: |
          cd frontend
          npm ci
      - name: Lint
        run: cd frontend && npm run lint
      - name: Test
        run: cd frontend && npm test
      - name: Build
        run: cd frontend && npm run build

  test-backend:
    needs: detect-changes
    if: needs.detect-changes.outputs.backend == 'true'
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: actions/setup-python@v4
        with:
          python-version: '3.11'
      - name: Install dependencies
        run: |
          cd backend
          pip install -r requirements.txt
      - name: Lint
        run: |
          cd backend
          flake8 app
          mypy app
      - name: Test
        run: cd backend && pytest
```

**AI å¹«ä½ åšçš„æ™ºæ…§æ±ºç­–**ï¼š
1. âœ… ä½¿ç”¨ `dorny/paths-filter` åµæ¸¬è®Šæ›´
2. âœ… ç”¨ `needs` å’Œ `if` æ¢ä»¶æ§åˆ¶åŸ·è¡Œ
3. âœ… ä¸¦è¡ŒåŸ·è¡Œä¸åŒçš„æ¸¬è©¦
4. âœ… ç¯€çœæ™‚é–“å’Œè³‡æº

### 4.2 ç”¨ AI å„ªåŒ–ç¾æœ‰ Workflow

**æƒ…å¢ƒï¼šworkflow åŸ·è¡Œå¤ªæ…¢**

**æç¤ºè©**ï¼š

```
æˆ‘çš„ GitHub Actions workflow åŸ·è¡Œå¤ªæ…¢ï¼ˆ15 åˆ†é˜ï¼‰ï¼Œè«‹å¹«æˆ‘å„ªåŒ–ï¼š

[è²¼ä¸Šç¾æœ‰çš„ workflow é…ç½®]

è«‹æä¾›å„ªåŒ–å»ºè­°ï¼Œé‡é»æ˜¯ï¼š
1. æ¸›å°‘åŸ·è¡Œæ™‚é–“
2. å–„ç”¨å¿«å–æ©Ÿåˆ¶
3. ä¸¦è¡ŒåŸ·è¡Œå¯ä¸¦è¡Œçš„ä»»å‹™
```

**Claude çš„å„ªåŒ–å»ºè­°ç¯„ä¾‹**ï¼š

```yaml
# åŸæœ¬çš„é…ç½®ï¼ˆæ…¢ï¼‰
jobs:
  test:
    steps:
      - run: npm install        # æ¯æ¬¡éƒ½é‡æ–°å®‰è£
      - run: npm test
      - run: npm run lint
      - run: npm run build

# å„ªåŒ–å¾Œçš„é…ç½®ï¼ˆå¿«ï¼‰
jobs:
  test:
    steps:
      - uses: actions/checkout@v4

      # å„ªåŒ– 1: å¿«å– node_modules
      - name: Cache node_modules
        uses: actions/cache@v3
        with:
          path: node_modules
          key: ${{ runner.os }}-node-${{ hashFiles('package-lock.json') }}

      - run: npm ci             # ä½¿ç”¨ ci è€Œé installï¼ˆæ›´å¿«ï¼‰

  # å„ªåŒ– 2: å°‡ lintã€testã€build æ‹†æˆä¸¦è¡Œ jobs
  lint:
    steps:
      - uses: actions/checkout@v4
      - uses: actions/cache@v3
        with:
          path: node_modules
          key: ${{ runner.os }}-node-${{ hashFiles('package-lock.json') }}
      - run: npm ci
      - run: npm run lint

  build:
    steps:
      - uses: actions/checkout@v4
      - uses: actions/cache@v3
        with:
          path: node_modules
          key: ${{ runner.os }}-node-${{ hashFiles('package-lock.json') }}
      - run: npm ci
      - run: npm run build
```

**çµæœ**ï¼šåŸ·è¡Œæ™‚é–“å¾ 15 åˆ†é˜é™åˆ° 5 åˆ†é˜ï¼

### 4.3 ç”¨ AI é™¤éŒ¯ Workflow éŒ¯èª¤

**æƒ…å¢ƒï¼šworkflow åŸ·è¡Œå¤±æ•—**

**æç¤ºè©ç¯„æœ¬**ï¼š

```
æˆ‘çš„ GitHub Actions workflow å¤±æ•—äº†ï¼ŒéŒ¯èª¤è¨Šæ¯å¦‚ä¸‹ï¼š

[è²¼ä¸ŠéŒ¯èª¤æ—¥èªŒ]

é€™æ˜¯æˆ‘çš„ workflow é…ç½®ï¼š

[è²¼ä¸Š workflow YAML]

è«‹å¹«æˆ‘æ‰¾å‡ºå•é¡Œä¸¦æä¾›ä¿®å¾©æ–¹æ¡ˆã€‚
```

**å¸¸è¦‹éŒ¯èª¤ç¯„ä¾‹ 1ï¼šæ¬Šé™å•é¡Œ**

```
Error: Error: HttpError: Resource not accessible by integration
```

**Claude çš„è¨ºæ–·**ï¼š
```yaml
# å•é¡Œï¼šç¼ºå°‘ GITHUB_TOKEN æ¬Šé™

# ä¿®å¾©ï¼šåŠ å…¥ permissions
jobs:
  deploy:
    runs-on: ubuntu-latest
    permissions:
      contents: read
      deployments: write
    steps: [...]
```

**å¸¸è¦‹éŒ¯èª¤ç¯„ä¾‹ 2ï¼šç’°å¢ƒè®Šæ•¸æœªè¨­å®š**

```
Error: environment variable DATABASE_URL not found
```

**Claude çš„ä¿®å¾©**ï¼š
```yaml
steps:
  - name: Run tests
    env:
      DATABASE_URL: ${{ secrets.DATABASE_URL }}
    run: pytest
```

---

## 5. ç’°å¢ƒè®Šæ•¸èˆ‡å¯†é‘°ç®¡ç†

### 5.1 ä½¿ç”¨ GitHub Secrets

**è¨­å®š Secret**ï¼š

1. å‰å¾€ GitHub å°ˆæ¡ˆè¨­å®š
2. `Settings` â†’ `Secrets and variables` â†’ `Actions`
3. é»é¸ `New repository secret`
4. è¼¸å…¥åç¨±ï¼ˆå¦‚ `DATABASE_URL`ï¼‰å’Œå€¼

**åœ¨ Workflow ä¸­ä½¿ç”¨**ï¼š

```yaml
jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - name: Deploy to production
        env:
          DATABASE_URL: ${{ secrets.DATABASE_URL }}
          API_KEY: ${{ secrets.API_KEY }}
        run: |
          echo "Deploying with DATABASE_URL: $DATABASE_URL"
          ./deploy.sh
```

**é‡è¦æé†’**ï¼š
- âœ… Secrets ä¸æœƒå‡ºç¾åœ¨æ—¥èªŒä¸­ï¼ˆè‡ªå‹•é®ç½©ï¼‰
- âœ… ç”¨æ–¼æ•æ„Ÿè³‡è¨Šï¼ˆå¯†ç¢¼ã€API keysï¼‰
- âŒ ä¸è¦åœ¨ç¨‹å¼ç¢¼ä¸­ç¡¬ç·¨ç¢¼å¯†é‘°

### 5.2 ç’°å¢ƒè®Šæ•¸çš„å„ªå…ˆé †åº

```yaml
# 1. Workflow å±¤ç´šï¼ˆæ‰€æœ‰ jobs å…±äº«ï¼‰
env:
  NODE_ENV: production

jobs:
  # 2. Job å±¤ç´šï¼ˆæ­¤ job æ‰€æœ‰ steps å…±äº«ï¼‰
  deploy:
    env:
      DEPLOY_ENV: staging
    steps:
      # 3. Step å±¤ç´šï¼ˆåªåœ¨æ­¤ step æœ‰æ•ˆï¼‰
      - name: Run script
        env:
          LOG_LEVEL: debug
        run: ./script.sh
```

**å„ªå…ˆé †åº**ï¼šStep > Job > Workflow

---

## 6. å¯¦æˆ°æƒ…å¢ƒï¼šå®Œæ•´æ¸¬è©¦ç®¡ç·š

### 6.1 æƒ…å¢ƒæè¿°

ç‚ºä¸€å€‹ Python FastAPI å°ˆæ¡ˆå»ºç«‹å®Œæ•´çš„æ¸¬è©¦ç®¡ç·šï¼ŒåŒ…å«ï¼š
1. å–®å…ƒæ¸¬è©¦
2. æ•´åˆæ¸¬è©¦
3. ç¨‹å¼ç¢¼å“è³ªæª¢æŸ¥ï¼ˆlintingï¼‰
4. å‹åˆ¥æª¢æŸ¥ï¼ˆmypyï¼‰
5. å®‰å…¨æƒæï¼ˆbanditï¼‰
6. æ¸¬è©¦è¦†è“‹ç‡æª¢æŸ¥

### 6.2 å®Œæ•´ Workflow é…ç½®

```yaml
name: Complete Test Pipeline

on:
  push:
    branches: [main, develop]
  pull_request:
    branches: [main]

jobs:
  # Job 1: Lintï¼ˆå¿«é€Ÿæª¢æŸ¥ï¼‰
  lint:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4

      - name: Set up Python
        uses: actions/setup-python@v4
        with:
          python-version: '3.11'

      - name: Cache pip
        uses: actions/cache@v3
        with:
          path: ~/.cache/pip
          key: ${{ runner.os }}-pip-${{ hashFiles('requirements.txt') }}

      - name: Install linting tools
        run: |
          pip install flake8 black isort

      - name: Run flake8
        run: flake8 app tests --max-line-length=100

      - name: Check black formatting
        run: black --check app tests

      - name: Check import sorting
        run: isort --check-only app tests

  # Job 2: Type check
  type-check:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4

      - name: Set up Python
        uses: actions/setup-python@v4
        with:
          python-version: '3.11'

      - name: Install dependencies
        run: |
          pip install mypy
          pip install -r requirements.txt

      - name: Run mypy
        run: mypy app

  # Job 3: Security scan
  security:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4

      - name: Set up Python
        uses: actions/setup-python@v4
        with:
          python-version: '3.11'

      - name: Install bandit
        run: pip install bandit

      - name: Run security scan
        run: bandit -r app -f json -o bandit-report.json

      - name: Upload security report
        uses: actions/upload-artifact@v3
        with:
          name: security-report
          path: bandit-report.json

  # Job 4: Testï¼ˆéœ€è¦ç­‰ lint å’Œ type-check é€šéï¼‰
  test:
    needs: [lint, type-check]
    runs-on: ubuntu-latest

    services:
      postgres:
        image: postgres:15
        env:
          POSTGRES_PASSWORD: postgres
          POSTGRES_DB: test_db
        options: >-
          --health-cmd pg_isready
          --health-interval 10s
          --health-timeout 5s
          --health-retries 5
        ports:
          - 5432:5432

    steps:
      - uses: actions/checkout@v4

      - name: Set up Python
        uses: actions/setup-python@v4
        with:
          python-version: '3.11'

      - name: Cache pip
        uses: actions/cache@v3
        with:
          path: ~/.cache/pip
          key: ${{ runner.os }}-pip-${{ hashFiles('requirements.txt') }}

      - name: Install dependencies
        run: |
          pip install -r requirements.txt
          pip install pytest pytest-cov pytest-asyncio

      - name: Run unit tests
        env:
          DATABASE_URL: postgresql://postgres:postgres@localhost:5432/test_db
        run: |
          pytest tests/unit --cov=app --cov-report=term --cov-report=xml

      - name: Run integration tests
        env:
          DATABASE_URL: postgresql://postgres:postgres@localhost:5432/test_db
        run: |
          pytest tests/integration --cov=app --cov-append --cov-report=xml

      - name: Check coverage threshold
        run: |
          coverage report --fail-under=80

      - name: Upload coverage to Codecov
        uses: codecov/codecov-action@v3
        with:
          file: ./coverage.xml
          fail_ci_if_error: true

      - name: Comment coverage on PR
        if: github.event_name == 'pull_request'
        uses: py-cov-action/python-coverage-comment-action@v3
        with:
          GITHUB_TOKEN: ${{ github.token }}

  # Job 5: Buildï¼ˆæ‰€æœ‰æ¸¬è©¦é€šéå¾Œæ‰å»ºç«‹ï¼‰
  build:
    needs: [lint, type-check, security, test]
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4

      - name: Build Docker image
        run: |
          docker build -t myapp:${{ github.sha }} .

      - name: Save Docker image
        run: |
          docker save myapp:${{ github.sha }} | gzip > myapp.tar.gz

      - name: Upload artifact
        uses: actions/upload-artifact@v3
        with:
          name: docker-image
          path: myapp.tar.gz
```

### 6.3 åŸ·è¡Œæµç¨‹åœ–

```
Trigger (push/PR)
        â”‚
        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â†“         â†“         â†“         â†“
      lint    type-check  security  (ä¸¦è¡ŒåŸ·è¡Œ)
        â”‚         â”‚         â”‚
        â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜         â”‚
             â†“              â”‚
           test â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â†“
           build
             â”‚
             â†“
         å®Œæˆ âœ…
```

### 6.4 é—œéµè¨­è¨ˆé»

**1. ä¸¦è¡ŒåŸ·è¡ŒåŠ é€Ÿ**ï¼š
- `lint`, `type-check`, `security` ä¸¦è¡ŒåŸ·è¡Œ
- ç¸½æ™‚é–“ = æœ€æ…¢çš„é‚£å€‹ï¼Œè€Œéç¸½å’Œ

**2. å¿«é€Ÿå¤±æ•—ï¼ˆFail Fastï¼‰**ï¼š
- lint å’Œ type-check å¾ˆå¿«ï¼ˆ< 1 åˆ†é˜ï¼‰
- å¦‚æœå¤±æ•—ï¼Œä¸ç”¨ç­‰æ…¢çš„æ¸¬è©¦åŸ·è¡Œ

**3. è³‡æ–™åº«æœå‹™æ•´åˆ**ï¼š
```yaml
services:
  postgres:
    image: postgres:15
    # æä¾›çœŸå¯¦çš„è³‡æ–™åº«åšæ•´åˆæ¸¬è©¦
```

**4. æ¸¬è©¦åˆ†å±¤**ï¼š
- å–®å…ƒæ¸¬è©¦å…ˆåŸ·è¡Œï¼ˆå¿«é€Ÿï¼‰
- æ•´åˆæ¸¬è©¦å¾ŒåŸ·è¡Œï¼ˆè¼ƒæ…¢ï¼‰
- è¦†è“‹ç‡ç´¯ç©ï¼ˆ`--cov-append`ï¼‰

**5. PR è‡ªå‹•è©•è«–**ï¼š
- æ¸¬è©¦è¦†è“‹ç‡ç›´æ¥é¡¯ç¤ºåœ¨ PR ä¸­
- ä¸ç”¨æ‰‹å‹•æŸ¥çœ‹å ±å‘Š

---

## 7. æœ€ä½³å¯¦è¸èˆ‡å¸¸è¦‹é™·é˜±

### 7.1 æœ€ä½³å¯¦è¸

#### âœ… 1. ä½¿ç”¨å›ºå®šç‰ˆæœ¬çš„ Actions

```yaml
# âŒ ä¸å¥½ï¼šä½¿ç”¨ latest
- uses: actions/checkout@latest

# âœ… å¥½ï¼šä½¿ç”¨å›ºå®šç‰ˆæœ¬
- uses: actions/checkout@v4

# âœ… æ›´å¥½ï¼šä½¿ç”¨ commit SHAï¼ˆæœ€å®‰å…¨ï¼‰
- uses: actions/checkout@8e5e7e5ab8b370d6c329ec480221332ada57f0ab
```

#### âœ… 2. å–„ç”¨å¿«å–

```yaml
# å¿«å– Python ä¾è³´
- uses: actions/cache@v3
  with:
    path: ~/.cache/pip
    key: ${{ runner.os }}-pip-${{ hashFiles('requirements.txt') }}

# å¿«å– Node.js ä¾è³´
- uses: actions/cache@v3
  with:
    path: node_modules
    key: ${{ runner.os }}-node-${{ hashFiles('package-lock.json') }}
```

#### âœ… 3. è¨­å®šè¶…æ™‚æ™‚é–“

```yaml
jobs:
  test:
    runs-on: ubuntu-latest
    timeout-minutes: 10      # é¿å…ç„¡é™ç­‰å¾…
    steps: [...]
```

#### âœ… 4. ä½¿ç”¨ Matrix æ¸¬è©¦å¤šç‰ˆæœ¬

```yaml
jobs:
  test:
    runs-on: ubuntu-latest
    strategy:
      matrix:
        python-version: ['3.9', '3.10', '3.11']
    steps:
      - uses: actions/setup-python@v4
        with:
          python-version: ${{ matrix.python-version }}
      - run: pytest
```

#### âœ… 5. åˆ†é›¢é—œæ³¨é»

```yaml
# å°‡è¤‡é›œé‚è¼¯æ”¾åœ¨ script ä¸­ï¼Œä¸è¦å¯«åœ¨ workflow
- name: Complex deployment
  run: ./scripts/deploy.sh    # è€Œéç›´æ¥å¯«åœ¨é€™è£¡
```

### 7.2 å¸¸è¦‹é™·é˜±

#### âŒ 1. å¿˜è¨˜ checkout ä»£ç¢¼

```yaml
jobs:
  test:
    steps:
      # âŒ å°‘äº†é€™ä¸€æ­¥
      # - uses: actions/checkout@v4

      - run: pytest    # æ‰¾ä¸åˆ°æª”æ¡ˆï¼
```

#### âŒ 2. å¿«å– key è¨­å®šéŒ¯èª¤

```yaml
# âŒ éŒ¯èª¤ï¼škey æ°¸é ä¸€æ¨£ï¼Œå³ä½¿ä¾è³´æ”¹è®Š
- uses: actions/cache@v3
  with:
    path: ~/.cache/pip
    key: pip-cache

# âœ… æ­£ç¢ºï¼šåŒ…å«ä¾è³´æª”æ¡ˆçš„ hash
- uses: actions/cache@v3
  with:
    path: ~/.cache/pip
    key: ${{ runner.os }}-pip-${{ hashFiles('requirements.txt') }}
```

#### âŒ 3. Secret å¤–æ´©

```yaml
# âŒ å±éšªï¼šSecret æœƒå‡ºç¾åœ¨æ—¥èªŒ
- run: echo "API_KEY=${{ secrets.API_KEY }}"

# âœ… å®‰å…¨ï¼šä½¿ç”¨ç’°å¢ƒè®Šæ•¸
- name: Use secret
  env:
    API_KEY: ${{ secrets.API_KEY }}
  run: |
    # Secret ä¸æœƒå‡ºç¾åœ¨æ—¥èªŒ
    ./script.sh
```

#### âŒ 4. éåº¦ä¸¦è¡Œå°è‡´è³‡æºç«¶çˆ­

```yaml
# âŒ å•é¡Œï¼šæ‰€æœ‰æ¸¬è©¦åŒæ™‚å¯«å…¥åŒä¸€å€‹è³‡æ–™åº«
jobs:
  test-1:
    steps:
      - run: pytest tests/test_users.py
  test-2:
    steps:
      - run: pytest tests/test_orders.py
  # å¯èƒ½äº’ç›¸å¹²æ“¾

# âœ… è§£æ±ºï¼šä½¿ç”¨ä¸åŒçš„è³‡æ–™åº«æˆ–åºåˆ—åŸ·è¡Œ
```

---

## 8. Linux å­¸ç¿’é¡æ¯”ï¼šç†è§£ GitHub Actions

### 8.1 æ¦‚å¿µå°æ‡‰

| GitHub Actions | Linux ç­‰åƒ¹æ¦‚å¿µ | èªªæ˜ |
|----------------|---------------|------|
| Workflow | Shell script | å®šç¾©è¦åŸ·è¡Œçš„ä»»å‹™ |
| Trigger (on) | cron / inotify | ä½•æ™‚åŸ·è¡Œ |
| Job | Function | ç¨ç«‹çš„ä»»å‹™å–®å…ƒ |
| Step | Command | å–®ä¸€æŒ‡ä»¤ |
| Action (uses) | Binary/Package | å¯é‡ç”¨çš„å·¥å…· |
| Runner | Machine/Container | åŸ·è¡Œç’°å¢ƒ |
| Artifact | File output | ç”¢å‡ºçš„æª”æ¡ˆ |
| Cache | /tmp or ~/.cache | æš«å­˜ä»¥åŠ é€Ÿ |
| Secret | Environment var | æ•æ„Ÿè³‡è¨Š |

### 8.2 é¡æ¯”ç†è§£

**Workflow â‰ˆ Cron Job + Shell Script**ï¼š

```bash
# crontab -e
0 2 * * * /path/to/backup.sh    # æ¯å¤© 2 é»åŸ·è¡Œå‚™ä»½

# backup.sh
#!/bin/bash
cd /app
git pull
npm test
npm run build
```

**å°æ‡‰çš„ GitHub Actions**ï¼š

```yaml
# .github/workflows/nightly.yml
on:
  schedule:
    - cron: '0 2 * * *'           # æ¯å¤© 2 é»

jobs:
  backup:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4  # git pull
      - run: npm test               # npm test
      - run: npm run build          # npm run build
```

### 8.3 å­¸ç¿’ç­–ç•¥

**åƒå­¸ Linux ä¸€æ¨£å­¸ GitHub Actions**ï¼š

1. **ä¸éœ€è¦è¨˜ä½æ‰€æœ‰åƒæ•¸**
   - é‡é»æ˜¯ç†è§£çµæ§‹ï¼ˆworkflow â†’ jobs â†’ stepsï¼‰
   - ç”¨æ™‚æŸ¥æ–‡ä»¶æˆ–å• AI

2. **å¾ç°¡å–®ç¯„ä¾‹é–‹å§‹**
   - å…ˆè·‘ä¸€å€‹ "Hello World" workflow
   - é€æ­¥åŠ å…¥åŠŸèƒ½

3. **å­¸æœƒè®€éŒ¯èª¤æ—¥èªŒ**
   - GitHub Actions çš„æ—¥èªŒå¾ˆè©³ç´°
   - æ¯å€‹ step éƒ½æœ‰å±•é–‹çš„åŸ·è¡Œéç¨‹

4. **å–„ç”¨ AI å·¥å…·**
   - Claude å¯ä»¥ç”Ÿæˆ 80% çš„é…ç½®
   - ä½ åªéœ€è¦ç†è§£å’Œå¾®èª¿

---

## 9. æœ¬ç« ç¸½çµ

### 9.1 æ ¸å¿ƒæ¦‚å¿µå›é¡§

1. **CI/CD çš„åƒ¹å€¼**ï¼š
   - è‡ªå‹•åŒ–æ¸¬è©¦ï¼Œå¿«é€Ÿç™¼ç¾å•é¡Œ
   - æ¨™æº–åŒ–æµç¨‹ï¼Œæ¸›å°‘äººç‚ºéŒ¯èª¤
   - åœ¨ AI æ™‚ä»£å°¤å…¶é‡è¦ï¼ˆ40% ä»£ç¢¼æœ‰å•é¡Œï¼‰

2. **GitHub Actions çµæ§‹**ï¼š
   ```
   Workflow (on â†’ jobs)
     â”œâ”€ Job 1 (runs-on â†’ steps)
     â”œâ”€ Job 2 (runs-on â†’ steps)
     â””â”€ Job 3 (runs-on â†’ steps)
   ```

3. **æ ¸å¿ƒå…ƒç´ **ï¼š
   - **Trigger**ï¼šä½•æ™‚åŸ·è¡Œï¼ˆpush, PR, scheduleï¼‰
   - **Job**ï¼šç¨ç«‹ä»»å‹™ï¼Œé è¨­ä¸¦è¡Œ
   - **Step**ï¼šå…·é«”æ“ä½œï¼ˆuses æˆ– runï¼‰
   - **Runner**ï¼šåŸ·è¡Œç’°å¢ƒï¼ˆubuntu, macos, windowsï¼‰

4. **AI çš„è§’è‰²**ï¼š
   - ç”Ÿæˆ workflow é…ç½®ï¼ˆç¯€çœ 80% æ™‚é–“ï¼‰
   - å„ªåŒ–ç¾æœ‰é…ç½®ï¼ˆåŠ é€ŸåŸ·è¡Œï¼‰
   - é™¤éŒ¯å¤±æ•—åŸå› ï¼ˆå¿«é€Ÿè¨ºæ–·ï¼‰

### 9.2 å­¸ç¿’æª¢æŸ¥é»

å®Œæˆæœ¬ç« å¾Œï¼Œç¢ºèªä½ èƒ½å¤ ï¼š

- [ ] èªªæ˜ CI/CD è§£æ±ºäº†ä»€éº¼å•é¡Œ
- [ ] ç†è§£ workflowã€jobã€step çš„é—œä¿‚
- [ ] ç”¨ Claude ç”ŸæˆåŸºç¤ workflow é…ç½®
- [ ] ç‚ºå°ˆæ¡ˆå»ºç«‹è‡ªå‹•åŒ–æ¸¬è©¦ç®¡ç·š
- [ ] ä½¿ç”¨ GitHub Secrets ç®¡ç†æ•æ„Ÿè³‡è¨Š
- [ ] é–±è®€ä¸¦ç†è§£ workflow åŸ·è¡Œæ—¥èªŒ
- [ ] è™•ç†å¸¸è¦‹çš„ workflow éŒ¯èª¤

### 9.3 å¯¦è¸å»ºè­°

1. **ç«‹å³å‹•æ‰‹**ï¼š
   - ç‚ºä½ çš„ä¸€å€‹å°ˆæ¡ˆå»ºç«‹æ¸¬è©¦ workflow
   - è§€å¯ŸåŸ·è¡Œéç¨‹ï¼Œç†è§£æ¯å€‹ step

2. **ç”¨ AI åŠ é€Ÿ**ï¼š
   - ä¸è¦å¾é›¶å¯«ï¼Œè®“ Claude ç”Ÿæˆç¯„æœ¬
   - ç†è§£é…ç½®å¾Œå†å®¢è£½åŒ–

3. **è¿­ä»£å„ªåŒ–**ï¼š
   - å…ˆå»ºç«‹ç°¡å–®ç‰ˆæœ¬ï¼ˆåªæ¸¬è©¦ï¼‰
   - é€æ­¥åŠ å…¥åŠŸèƒ½ï¼ˆlintingã€coverageï¼‰
   - æœ€å¾Œå„ªåŒ–æ•ˆèƒ½ï¼ˆå¿«å–ã€ä¸¦è¡Œï¼‰

### 9.4 ä¸‹ä¸€æ­¥

å­¸å®Œ GitHub Actions åŸºç¤å¾Œï¼Œä¸‹ä¸€ç« å°‡æ·±å…¥æ¢è¨ï¼š

**5.2 å®‰å…¨æƒæèˆ‡è‡ªå‹•ä¿®å¾©**ï¼š
- CodeQL éœæ…‹åˆ†æ
- Snyk ä¾è³´æ¼æ´æƒæ
- Trivy å®¹å™¨æƒæ
- AI è¼”åŠ©æ¼æ´ä¿®å¾©

é€™æ˜¯ AI æ™‚ä»£æœ€é—œéµçš„ä¸€ç’°ï¼Œå› ç‚º **40% çš„ AI ä»£ç¢¼åŒ…å«å®‰å…¨å•é¡Œ**ã€‚

---

**æº–å‚™å¥½äº†å—ï¼Ÿ** å‰å¾€ `5.2_å®‰å…¨æƒæèˆ‡è‡ªå‹•ä¿®å¾©.md` â†’
