# S1.7：建立 CLAUDE.md 模板

## 📋 情境資訊

- **難度**：⭐
- **預估時間**：45 分鐘
- **核心學習**：`/memory` 指令、CLAUDE.md 專案記憶機制、專案文檔管理
- **前置知識**：Claude Code 基本操作、Markdown 格式

---

## 🎯 情境背景

你正在為公司建立一套專案管理標準，希望每個新專案都能有完善的 AI 協作文檔。最近你發現 Claude Code 的 CLAUDE.md 功能非常強大，可以為專案建立"記憶檔案"，讓 AI 助手更好地理解專案背景、架構和開發規範。你決定為不同類型的專案建立標準化的 CLAUDE.md 模板。

**任務背景**:
- 公司有不同類型專案：Web 應用、API 服務、資料分析、機器學習
- 希望建立統一的專案文檔標準
- 讓 Claude Code 能快速理解專案背景和規範
- 提高團隊協作效率和新人上手速度
- 建立可複用的專案知識管理系統

**你的目標**:
1. 理解 CLAUDE.md 的作用和最佳實踐
2. 設計通用的 CLAUDE.md 模板結構
3. 為不同專案類型建立專用模板
4. 測試 `/memory` 指令的效果
5. 建立團隊使用指南

---

## 🎓 學習目標

完成本情境後，你將能夠：

- ✅ 理解 CLAUDE.md 檔案的作用和機制
- ✅ 熟練使用 `/memory` 指令管理專案記憶
- ✅ 設計結構完整的專案文檔模板
- ✅ 建立專案類型分類和標準化流程
- ✅ 測試和驗證記憶檔案的效果
- ✅ 建立團隊協作的文檔標準

---

## 📝 任務描述

### 階段 1: CLAUDE.md 機制理解 (10 分鐘)

#### 任務 1.1: 探索 CLAUDE.md 功能

**Linux 類比**: 像建立專案的 README，但 CLAUDE.md 是給 AI 看的專案說明書。

```bash
# 1. 建立測試專案目錄
mkdir -p ~/test-projects/claude-template-demo
cd ~/test-projects/claude-template-demo

# 2. 啟動 Claude Code
claude
```

**探索對話**:
```
我想了解 CLAUDE.md 檔案的功能和最佳實踐。

請幫我說明：
1. CLAUDE.md 檔案的作用是什麼？
2. 它如何幫助 Claude Code 理解專案？
3. 與 README.md 的差異在哪裡？
4. 應該包含哪些關鍵資訊？
5. 如何使用 /memory 指令？

請提供一個基本的 CLAUDE.md 範例。
```

#### 任務 1.2: 測試 /memory 指令

```
讓我們測試 /memory 指令的功能：

/memory

請說明：
1. 目前專案記憶的狀態
2. /memory 指令的不同用法
3. 如何更新和管理專案記憶
4. 記憶資訊如何影響對話
```

#### 任務 1.3: 建立第一個 CLAUDE.md

```
請幫我建立一個示範的 CLAUDE.md 檔案：

專案資訊：
- 專案名稱：「員工管理系統 API」
- 技術棧：Python FastAPI + PostgreSQL
- 團隊規模：3-5 人
- 開發階段：初期開發

請生成一個結構完整的 CLAUDE.md 範例，展示應該包含的所有重要部分。
```

**檢查點 1**:
- [ ] 理解 CLAUDE.md 的作用和機制
- [ ] 熟悉 `/memory` 指令的使用
- [ ] 建立第一個 CLAUDE.md 範例

---

### 階段 2: 通用模板設計 (15 分鐘)

#### 任務 2.1: 分析模板需求

```
請幫我分析不同類型專案的共同需求：

專案類型：
1. Web 應用程式（前端 + 後端）
2. API 服務（純後端）
3. 資料分析專案（Python/R）
4. 機器學習專案（AI/ML）
5. 移動應用程式（iOS/Android）

分析每種專案的：
- 共同資訊需求
- 特殊資訊需求
- 技術架構差異
- 協作方式差異
```

#### 任務 2.2: 設計通用模板結構

```
基於分析結果，請設計一個通用的 CLAUDE.md 模板結構：

應該包含以下主要區塊：
1. 專案基本資訊
2. 技術架構說明
3. 開發環境設定
4. 程式碼結構說明
5. 開發規範和慣例
6. 部署和維運資訊
7. 團隊協作規範
8. 常見問題和解決方案

請為每個區塊設計詳細的內容大綱和範例。
```

#### 任務 2.3: 建立動態內容機制

```
請設計模板中的動態內容部分：

1. **變數替換機制**：用 {{變數名}} 標記需要替換的內容
2. **條件區塊**：根據專案類型顯示不同內容
3. **可選區塊**：標記哪些部分是可選的
4. **範例內容**：提供具體的填寫範例

請生成一個包含這些機制的模板框架。
```

**檢查點 2**:
- [ ] 完成專案類型需求分析
- [ ] 設計出通用模板結構
- [ ] 建立動態內容機制

---

### 階段 3: 專項模板建立 (15 分鐘)

#### 任務 3.1: Web 應用專案模板

```
請為 Web 應用專案建立專用的 CLAUDE.md 模板：

特殊考量：
- 前後端分離架構
- API 接口文檔
- 資料庫設計
- 用戶認證系統
- 部署流程

技術棧範例：
- 前端：React + TypeScript
- 後端：Node.js + Express
- 資料庫：PostgreSQL
- 部署：Docker + AWS

請生成完整的模板檔案。
```

#### 任務 3.2: 資料分析專案模板

```
請為資料分析專案建立專用模板：

特殊考量：
- 資料來源和格式
- 分析流程和方法
- 視覺化需求
- 模型和演算法
- 結果報告格式

技術棧範例：
- Python + Pandas + Jupyter
- 視覺化：Matplotlib + Plotly
- 機器學習：Scikit-learn
- 部署：Streamlit

請生成專用的 CLAUDE.md 模板。
```

#### 任務 3.3: API 服務專案模板

```
請為純 API 服務專案建立模板：

特殊考量：
- RESTful API 設計
- 資料庫架構
- 認證和授權
- API 文檔
- 監控和日誌
- 性能優化

技術棧範例：
- Python FastAPI
- PostgreSQL + Redis
- Docker + Kubernetes
- Swagger 文檔

請生成 API 專案專用模板。
```

**檢查點 3**:
- [ ] 完成 Web 應用專案模板
- [ ] 完成資料分析專案模板
- [ ] 完成 API 服務專案模板

---

### 階段 4: 測試和優化 (5 分鐘)

#### 任務 4.1: 模板效果測試

```
讓我們測試剛建立的模板：

1. 建立一個測試專案目錄
2. 使用 Web 應用模板建立 CLAUDE.md
3. 測試 /memory 指令的效果

/bash mkdir -p test-webapp
/bash cd test-webapp

然後建立基於模板的 CLAUDE.md，測試：
- Claude 是否能正確理解專案結構
- 回答是否更符合專案背景
- 建議是否更具體和實用
```

#### 任務 4.2: 建立使用指南

```
請為團隊建立 CLAUDE.md 模板使用指南：

內容包括：
1. **選擇模板**：如何根據專案類型選擇合適模板
2. **填寫指引**：每個區塊的填寫要點和注意事項
3. **維護更新**：專案進展時如何更新 CLAUDE.md
4. **最佳實踐**：提高 AI 協作效果的技巧
5. **常見錯誤**：避免的陷阱和問題

格式化為清楚的操作手冊。
```

**最終檢查點**:
- [ ] 成功測試模板效果
- [ ] 建立完整使用指南
- [ ] 確認模板實用性和可操作性

---

## ✅ 檢查點

### 基礎檢查點 (必須完成)

- [ ] **機制理解**: 掌握 CLAUDE.md 的作用和 `/memory` 指令
- [ ] **模板設計**: 建立通用和專項模板結構
- [ ] **內容完整**: 模板涵蓋專案的關鍵資訊
- [ ] **可用性**: 模板易於理解和填寫
- [ ] **效果驗證**: 測試確認模板提升 AI 協作效果

### 進階檢查點 (建議完成)

- [ ] **標準化**: 建立團隊統一的文檔標準
- [ ] **自動化**: 設計模板生成和更新的自動化流程
- [ ] **維護性**: 考慮長期維護和版本管理
- [ ] **擴展性**: 模板可以適應不同規模和複雜度專案
- [ ] **培訓**: 建立團隊培訓和推廣計劃

---

## 🎯 自然學到的指令

通過本情境，你應該自然學會以下指令和概念：

### 記憶管理指令

| 指令 | 用途 | 何時使用 |
|------|------|----------|
| `/memory` | 查看當前專案記憶 | 確認專案背景資訊 |
| `/memory update` | 更新專案記憶 | 專案資訊變更時 |
| `/memory clear` | 清除專案記憶 | 切換到新專案時 |
| `/memory export` | 匯出記憶內容 | 備份或分享專案資訊 |

### CLAUDE.md 最佳實踐

| 區塊 | 重要性 | 包含內容 |
|------|--------|----------|
| **專案概覽** | ⭐⭐⭐ | 名稱、目標、技術棧 |
| **架構說明** | ⭐⭐⭐ | 系統設計、模組關係 |
| **開發規範** | ⭐⭐⭐ | 編碼標準、工作流程 |
| **部署資訊** | ⭐⭐ | 環境設定、部署步驟 |
| **團隊資訊** | ⭐⭐ | 成員角色、協作方式 |

### 模板設計原則

**原則 1: 結構化資訊**
```markdown
# 使用清晰的標題層次
## 主要區塊
### 子區塊
- 條列重點
```

**原則 2: 動態內容**
```markdown
專案名稱：{{PROJECT_NAME}}
技術棧：{{TECH_STACK}}
團隊規模：{{TEAM_SIZE}}
```

**原則 3: 實用導向**
```markdown
# 包含 Claude 需要的具體資訊
- 程式碼風格偏好
- 常用框架和函式庫
- 專案特定的術語和概念
```

---

## ❓ 常見問題

### Q1: CLAUDE.md 應該包含多少細節？

**平衡原則**: 包含影響開發決策的關鍵資訊

**建議內容**:
```markdown
# 包含的資訊
- 技術選擇的原因
- 架構設計理念
- 編碼風格偏好
- 專案特定約束

# 避免的資訊
- 過於詳細的實作細節
- 經常變動的暫時性資訊
- 敏感的安全資訊
```

---

### Q2: 如何維護 CLAUDE.md 的時效性？

**維護策略**: 建立定期更新機制

**解決方法**:
```
請建議 CLAUDE.md 的維護最佳實踐：

1. 何時需要更新 CLAUDE.md？
2. 如何確保資訊的準確性？
3. 團隊成員的更新責任分工
4. 版本控制和變更追蹤方法
5. 自動化檢查和提醒機制
```

---

### Q3: 不同團隊成員對專案理解不同怎麼辦？

**統一認知**: 建立協作編輯流程

**解決方法**:
```
請設計 CLAUDE.md 的協作編輯流程：

1. 初始版本建立者和審核者
2. 修改建議和討論機制
3. 衝突解決和共識達成方法
4. 定期檢視和更新會議
5. 新成員的引導和培訓流程
```

---

### Q4: 如何評估 CLAUDE.md 的效果？

**效果測量**: 定義具體的評估指標

**評估方法**:
```
請建議評估 CLAUDE.md 效果的方法：

量化指標：
1. Claude 回答的準確度提升
2. 開發問題解決速度
3. 新人上手時間減少
4. 程式碼一致性改善

定性評估：
1. 團隊滿意度調查
2. AI 協作體驗回饋
3. 專案知識傳承效果
4. 決策品質改善
```

---

## 🚀 延伸挑戰

### 挑戰 1: 動態模板生成系統

**任務**: 建立根據專案特徵自動生成 CLAUDE.md 的系統

**技術實現**:
- 專案掃描和特徵識別
- 模板智能選擇和組合
- 內容自動填充和建議

**實作範例**:
```python
def generate_claude_md(project_path):
    """自動生成 CLAUDE.md"""
    # 掃描專案結構
    structure = scan_project_structure(project_path)

    # 識別技術棧
    tech_stack = detect_tech_stack(structure)

    # 選擇合適模板
    template = select_template(tech_stack)

    # 填充內容
    content = fill_template(template, project_info)

    return content
```

---

### 挑戰 2: CLAUDE.md 智能助手

**任務**: 建立專門協助維護 CLAUDE.md 的 AI 助手

**功能特色**:
- 自動檢測過時資訊
- 建議更新內容
- 檢查一致性和完整性
- 生成改善建議

**對話範例**:
```
Assistant: 我注意到你的 CLAUDE.md 中提到使用 Python 3.8，
但專案的 pyproject.toml 顯示已升級到 3.11。
需要我幫你更新嗎？

User: 是的，請更新並檢查其他可能過時的資訊。