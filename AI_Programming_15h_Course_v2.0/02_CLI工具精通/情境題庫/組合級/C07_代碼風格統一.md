# C07ï¼šä»£ç¢¼é¢¨æ ¼çµ±ä¸€ï¼ˆçµ„åˆç´šï¼‰

## æƒ…å¢ƒè³‡è¨Š

**ç·¨è™Ÿ**ï¼šC07
**é›£åº¦**ï¼šâ­â­â­â˜†â˜†ï¼ˆçµ„åˆç´šï¼‰
**é è¨ˆæ™‚é–“**ï¼š1.5 å°æ™‚
**å­¸ç¿’ç›®æ¨™**ï¼š
- æŒæ¡ä½¿ç”¨ /grep æ‰¹é‡æŸ¥æ‰¾ä»£ç¢¼æ¨¡å¼
- å­¸æœƒç³»çµ±åŒ–åˆ†æé¢¨æ ¼ä¸ä¸€è‡´å•é¡Œ
- ç·´ç¿’å®‰å…¨çš„æ‰¹é‡é‡æ§‹æŠ€å·§
- å»ºç«‹ä»£ç¢¼é¢¨æ ¼æª¢æŸ¥æ¸…å–®

**é©ç”¨å°è±¡**ï¼š
- å®Œæˆæ¨¡çµ„ 2 åŸºç¤ç†è«–
- ç†Ÿæ‚‰ Python å‘½åè¦ç¯„ï¼ˆPEP 8ï¼‰
- éœ€è¦çµ±ä¸€åœ˜éšŠä»£ç¢¼é¢¨æ ¼

---

## æƒ…å¢ƒæè¿°

### èƒŒæ™¯

ä½ åœ¨ä¸€å®¶å¿«é€Ÿæˆé•·çš„ SaaS å…¬å¸æ“”ä»»æŠ€è¡“è² è²¬äººã€‚éå» 2 å¹´ï¼Œå…¬å¸å¾ 3 äººæˆé•·åˆ° 15 äººï¼Œæ¯å€‹é–‹ç™¼è€…éƒ½æœ‰è‡ªå·±çš„ç·¨ç¢¼ç¿’æ…£ã€‚ç¾åœ¨ä»£ç¢¼åº«å……æ–¥è‘—å„ç¨®é¢¨æ ¼ï¼š

- **å‘½åé¢¨æ ¼æ··äº‚**ï¼šé§å³°ã€è›‡å½¢ã€å¤§å°å¯«æ··ç”¨
- **éŒ¯èª¤è™•ç†ä¸ä¸€è‡´**ï¼šæœ‰çš„è¿”å› Noneï¼Œæœ‰çš„æ‹‹ç•°å¸¸ï¼Œæœ‰çš„è¿”å›éŒ¯èª¤ç¢¼
- **æ ¼å¼ä¸çµ±ä¸€**ï¼šæœ‰çš„å–®å¼•è™Ÿï¼Œæœ‰çš„é›™å¼•è™Ÿï¼Œç¸®æ’æ··äº‚
- **è¨»é‡‹é¢¨æ ¼å„ç•°**ï¼šæœ‰çš„è©³ç´°ï¼Œæœ‰çš„å®Œå…¨æ²’æœ‰

é€™å°è‡´æ–°äººä¸Šæ‰‹å›°é›£ï¼Œä»£ç¢¼å¯©æŸ¥è€—æ™‚ï¼Œbug å¢åŠ ã€‚å…¬å¸æ±ºå®šçµ±ä¸€ä»£ç¢¼é¢¨æ ¼ï¼Œä½ éœ€è¦åœ¨ä¸ç ´å£åŠŸèƒ½çš„å‰æä¸‹ï¼Œç³»çµ±åŒ–åœ°é‡æ§‹æ•´å€‹ä»£ç¢¼åº«ã€‚

### ç¾æœ‰å•é¡Œç¤ºä¾‹

```python
# src/api/user_service.py - é–‹ç™¼è€… A çš„é¢¨æ ¼

class UserService:
    def GetUserById(self, userId):  # é§å³° + è›‡å½¢æ··ç”¨
        """æŸ¥è©¢ç”¨æˆ¶"""
        try:
            user = self.db.query(User).filter_by(id=userId).first()
            if user == None:  # ä½¿ç”¨ == None
                return None
            return user
        except:  # è£¸ except
            return None

    def createUser(self, data):  # å°é§å³°
        userName = data.get('username')  # é§å³°å‘½å
        passWord = data.get('password')
        # å–®å¼•è™Ÿ
        if not userName or not passWord:
            return {'error': 'Invalid input'}  # è¿”å›å­—å…¸éŒ¯èª¤
        # ...

# src/api/order_service.py - é–‹ç™¼è€… B çš„é¢¨æ ¼

class OrderService:
    def get_order_by_id(self, order_id):  # è›‡å½¢å‘½åï¼ˆæ­£ç¢ºï¼‰
        """
        æ ¹æ“šè¨‚å–®IDæŸ¥è©¢è¨‚å–®

        Args:
            order_id: è¨‚å–®ID

        Returns:
            Order object or None
        """  # è©³ç´° docstring
        order = self.db.query(Order).filter_by(id=order_id).first()
        if order is None:  # ä½¿ç”¨ is Noneï¼ˆæ­£ç¢ºï¼‰
            raise OrderNotFoundError(f"Order {order_id} not found")  # æ‹‹ç•°å¸¸
        return order

    def create_order(self, data):
        user_id = data.get("user_id")  # é›™å¼•è™Ÿ
        items = data.get("items")

        if not user_id:
            raise ValidationError("Missing user_id")  # æ‹‹ç•°å¸¸

        if not items or len(items) == 0:  # å†—é¤˜æª¢æŸ¥
            raise ValidationError("Order must have at least one item")
        # ...

# src/api/product_service.py - é–‹ç™¼è€… C çš„é¢¨æ ¼

class ProductService:
    def Get_Product(self, ID):  # å¤§å°å¯«æ··äº‚
        result = self.db.query(Product).filter_by(id=ID).first()
        if not result:
            return -1  # è¿”å›éŒ¯èª¤ç¢¼ï¼ˆä¸ä¸€è‡´ï¼‰
        return result

    def UpdateProduct(self, id, data):  # å¤§é§å³°
        p = self.db.query(Product).filter_by(id=id).first()  # æ¨¡ç³Šå‘½å
        if p == None:
            return -1
        p.name = data['name']
        p.price = data['price']
        self.db.commit()
        return 0  # è¿”å›æˆåŠŸç¢¼

# src/utils/helpers.py - å„ç¨®è¼”åŠ©å‡½æ•¸

def check_email(email):  # è›‡å½¢
    """æª¢æŸ¥éƒµç®±æ ¼å¼"""
    import re
    pattern = r'^[\w\.-]+@[\w\.-]+\.\w+$'
    return re.match(pattern, email) is not None

def ValidatePhoneNumber(phone):  # å¤§é§å³°
    # æ²’æœ‰ docstring
    import re
    return re.match(r'^\d{11}$', phone) != None  # ä½¿ç”¨ != None

def format_date(d):  # æ¨¡ç³Šå‘½å
    """æ ¼å¼åŒ–æ—¥æœŸ"""
    return d.strftime('%Y-%m-%d')

def FormatDateTime(dt):  # é‡è¤‡åŠŸèƒ½ï¼Œä¸åŒå‘½å
    """æ ¼å¼åŒ–æ—¥æœŸæ™‚é–“"""
    return dt.strftime("%Y-%m-%d %H:%M:%S")
```

### ä½ çš„ä»»å‹™

ç³»çµ±åŒ–åœ°çµ±ä¸€ä»£ç¢¼é¢¨æ ¼ï¼ŒåŒ…æ‹¬ï¼š

1. **å‘½åè¦ç¯„çµ±ä¸€**ï¼š
   - é¡åï¼šå¤§é§å³°ï¼ˆPascalCaseï¼‰
   - å‡½æ•¸/æ–¹æ³•ï¼šè›‡å½¢ï¼ˆsnake_caseï¼‰
   - è®Šæ•¸ï¼šè›‡å½¢ï¼ˆsnake_caseï¼‰
   - å¸¸æ•¸ï¼šå¤§å¯«è›‡å½¢ï¼ˆUPPER_SNAKE_CASEï¼‰

2. **éŒ¯èª¤è™•ç†çµ±ä¸€**ï¼š
   - çµ±ä¸€ä½¿ç”¨ç•°å¸¸è™•ç†
   - å®šç¾©æ¨™æº–çš„ç•°å¸¸é¡
   - ç§»é™¤éŒ¯èª¤ç¢¼è¿”å›

3. **ä»£ç¢¼æ ¼å¼çµ±ä¸€**ï¼š
   - çµ±ä¸€ä½¿ç”¨é›™å¼•è™Ÿ
   - çµ±ä¸€ None åˆ¤æ–·æ–¹å¼ï¼ˆä½¿ç”¨ is/is notï¼‰
   - ç§»é™¤å†—é¤˜ä»£ç¢¼

4. **æ–‡æª”é¢¨æ ¼çµ±ä¸€**ï¼š
   - æ‰€æœ‰å…¬é–‹æ–¹æ³•å¿…é ˆæœ‰ docstring
   - ä½¿ç”¨çµ±ä¸€çš„ docstring æ ¼å¼ï¼ˆGoogle Styleï¼‰

---

## å­¸ç¿’é‡é»

### ç›®æ¨™ 1ï¼šæ¨¡å¼è­˜åˆ¥èˆ‡æ‰¹é‡æŸ¥æ‰¾

å­¸æœƒä½¿ç”¨ /grep æ‰¾å‡ºæ‰€æœ‰é¢¨æ ¼å•é¡Œï¼š
- æ­£å‰‡è¡¨é”å¼ç²¾æº–åŒ¹é…
- ä¸Šä¸‹æ–‡æŸ¥çœ‹ï¼ˆ-C åƒæ•¸ï¼‰
- å¤šç¨®æ¨¡å¼çµ„åˆæœå°‹
- çµæœåˆ†é¡èˆ‡å„ªå…ˆç´šæ’åº

### ç›®æ¨™ 2ï¼šå®‰å…¨çš„æ‰¹é‡é‡æ§‹

æŒæ¡ä¸ç ´å£åŠŸèƒ½çš„é‡æ§‹æŠ€å·§ï¼š
- å°æ­¥ä¿®æ”¹ï¼Œé »ç¹æ¸¬è©¦
- ä½¿ç”¨ IDE é‡æ§‹åŠŸèƒ½ï¼ˆé‡å‘½åï¼‰
- Git æäº¤ç­–ç•¥ï¼ˆæ¯é¡ä¿®æ”¹ä¸€å€‹ commitï¼‰
- è‡ªå‹•åŒ–å·¥å…·è¼”åŠ©ï¼ˆblack, isortï¼‰

### ç›®æ¨™ 3ï¼šå»ºç«‹ä»£ç¢¼é¢¨æ ¼æŒ‡å—

ä½¿ç”¨ CLAUDE.md è¨˜éŒ„åœ˜éšŠæ¨™æº–ï¼š
- å‘½åè¦ç¯„
- éŒ¯èª¤è™•ç†æ¨™æº–
- æ ¼å¼è¦æ±‚
- è‡ªå‹•åŒ–æª¢æŸ¥ï¼ˆpre-commit hooksï¼‰

### ç›®æ¨™ 4ï¼šæ¼¸é€²å¼æ”¹é€²ç­–ç•¥

å­¸æœƒè™•ç†å¤§è¦æ¨¡é‡æ§‹ï¼š
- å„ªå…ˆç´šæ’åºï¼ˆé«˜å½±éŸ¿ vs ä½é¢¨éšªï¼‰
- åˆ†æ‰¹æ¬¡åŸ·è¡Œ
- æ–°èˆŠä»£ç¢¼å…±å­˜ç­–ç•¥
- åœ˜éšŠæºé€šèˆ‡åŸ¹è¨“

---

## å»ºè­°è§£æ±ºæµç¨‹

### éšæ®µä¸€ï¼šå…¨é¢æƒæèˆ‡åˆ†é¡ï¼ˆ20 åˆ†é˜ï¼‰

**ç›®æ¨™**ï¼šè­˜åˆ¥æ‰€æœ‰é¢¨æ ¼å•é¡Œï¼ŒæŒ‰åš´é‡ç¨‹åº¦åˆ†é¡

#### æ­¥é©Ÿ 1ï¼šæƒæå‘½åå•é¡Œ

```bash
/grep "def [A-Z]" --type py

æç¤ºè©ï¼š
è«‹æ‰¾å‡ºæ‰€æœ‰ä¸ç¬¦åˆ PEP 8 å‘½åè¦ç¯„çš„å‡½æ•¸å’Œæ–¹æ³•ï¼š

1. å¤§é§å³°å‘½åçš„å‡½æ•¸ï¼ˆæ‡‰è©²ç”¨è›‡å½¢ï¼‰
2. å¤§å°å¯«æ··ç”¨çš„å‡½æ•¸
3. å–®å­—æ¯æˆ–æ¨¡ç³Šçš„è®Šæ•¸å

å°æ¯é¡å•é¡Œçµ±è¨ˆæ•¸é‡ï¼Œä¸¦åˆ—å‡ºå‰ 10 å€‹æœ€éœ€è¦ä¿®æ”¹çš„ã€‚
```

**é æœŸ Claude è¼¸å‡º**ï¼š

```markdown
## å‘½åå•é¡Œæƒæå ±å‘Š

### å‡½æ•¸å‘½åå•é¡Œ

#### 1. å¤§é§å³°å‘½åå‡½æ•¸ï¼ˆ28 è™•ï¼‰

æ‡‰è©²ä½¿ç”¨ snake_caseï¼Œä½†ä½¿ç”¨äº† PascalCaseï¼š

src/api/user_service.py:15
    def GetUserById(self, userId):

src/api/user_service.py:25
    def createUser(self, data):

src/api/product_service.py:42
    def UpdateProduct(self, id, data):

src/utils/helpers.py:67
    def ValidatePhoneNumber(phone):

src/utils/helpers.py:78
    def FormatDateTime(dt):

... (å…± 28 è™•)

#### 2. å¤§å°å¯«æ··ç”¨ï¼ˆ12 è™•ï¼‰

å®Œå…¨ä¸è¦ç¯„çš„å‘½åï¼š

src/api/product_service.py:8
    def Get_Product(self, ID):

src/utils/validators.py:23
    def Check_Email(email_addr):

... (å…± 12 è™•)

#### 3. åƒæ•¸å‘½åå•é¡Œï¼ˆ45 è™•ï¼‰

é§å³°å‘½åçš„åƒæ•¸ï¼ˆæ‡‰è©²ç”¨ snake_caseï¼‰ï¼š

src/api/user_service.py:15
    def GetUserById(self, userId):  # æ‡‰è©²æ˜¯ user_id

src/api/order_service.py:89
    def update_order(self, orderId, orderData):  # å…©å€‹éƒ½è¦æ”¹

... (å…± 45 è™•)

### è®Šæ•¸å‘½åå•é¡Œ

#### 4. æ¨¡ç³Šå‘½åï¼ˆ67 è™•ï¼‰

src/api/product_service.py:45
    p = self.db.query(Product)...  # p â†’ product

src/utils/helpers.py:12
    d = datetime.now()  # d â†’ current_date

src/api/order_service.py:234
    data = ...  # éæ–¼é€šç”¨

... (å…± 67 è™•)

### é¡å‘½åå•é¡Œ

#### 5. å°é§å³°æˆ–è›‡å½¢å‘½åçš„é¡ï¼ˆ3 è™•ï¼‰

src/models/userProfile.py:5
    class userProfile:  # æ‡‰è©²æ˜¯ UserProfile

src/utils/helpers.py:123
    class date_formatter:  # æ‡‰è©²æ˜¯ DateFormatter

### å„ªå…ˆç´šå»ºè­°

ğŸ”´ **é«˜å„ªå…ˆï¼ˆå½±éŸ¿ API æ¥å£ï¼‰**ï¼š
- å…¬é–‹ API æ–¹æ³•å‘½åï¼ˆ12 è™•ï¼‰
- æ•¸æ“šæ¨¡å‹é¡å‘½åï¼ˆ3 è™•ï¼‰

ğŸŸ¡ **ä¸­å„ªå…ˆï¼ˆå…§éƒ¨ä½¿ç”¨ï¼‰**ï¼š
- ç§æœ‰æ–¹æ³•å‘½åï¼ˆ35 è™•ï¼‰
- è¼”åŠ©å‡½æ•¸å‘½åï¼ˆ20 è™•ï¼‰

ğŸŸ¢ **ä½å„ªå…ˆï¼ˆå±€éƒ¨è®Šæ•¸ï¼‰**ï¼š
- å±€éƒ¨è®Šæ•¸å‘½åï¼ˆ67 è™•ï¼‰
- å¯ä»¥é€æ­¥æ”¹é€²
```

**æª¢æŸ¥é»**ï¼š
- [ ] æ‰¾å‡ºæ‰€æœ‰å‘½åå•é¡Œ
- [ ] æŒ‰é¡å‹åˆ†é¡
- [ ] è©•ä¼°äº†å½±éŸ¿ç¯„åœ
- [ ] ç¢ºå®šäº†å„ªå…ˆç´š

---

#### æ­¥é©Ÿ 2ï¼šæƒæéŒ¯èª¤è™•ç†ä¸ä¸€è‡´

```bash
/grep "return None" --type py -C 2
/grep "return -1" --type py -C 2
/grep "return \{.*error" --type py -C 2

æç¤ºè©ï¼š
è«‹åˆ†æé …ç›®ä¸­çš„éŒ¯èª¤è™•ç†æ¨¡å¼ï¼Œæ‰¾å‡ºä¸ä¸€è‡´ä¹‹è™•ï¼š

1. è¿”å› None è¡¨ç¤ºéŒ¯èª¤ï¼ˆå¤šå°‘è™•ï¼Ÿï¼‰
2. è¿”å›éŒ¯èª¤ç¢¼ï¼ˆ-1, 0, 1 ç­‰ï¼‰
3. è¿”å›éŒ¯èª¤å­—å…¸ {"error": ...}
4. æ‹‹å‡ºç•°å¸¸

çµ±è¨ˆæ¯ç¨®æ¨¡å¼çš„ä½¿ç”¨é »ç‡ï¼Œä¸¦å»ºè­°çµ±ä¸€æ–¹æ¡ˆã€‚
```

**é æœŸè¼¸å‡º**ï¼š

```markdown
## éŒ¯èª¤è™•ç†æ¨¡å¼åˆ†æ

### ç¾ç‹€çµ±è¨ˆ

| æ¨¡å¼ | æ•¸é‡ | æª”æ¡ˆæ•¸ | ç¤ºä¾‹ |
|------|------|--------|------|
| è¿”å› None | 34 | 12 | `return None` |
| è¿”å›éŒ¯èª¤ç¢¼ | 18 | 5 | `return -1`, `return 0` |
| è¿”å›éŒ¯èª¤å­—å…¸ | 12 | 4 | `return {"error": "msg"}` |
| æ‹‹å‡ºç•°å¸¸ | 45 | 8 | `raise XxxError(...)` |

### å•é¡Œç¤ºä¾‹

#### æ¨¡å¼ 1: è¿”å› Noneï¼ˆä¸æ¨è–¦ï¼‰

src/api/user_service.py:18
```python
def GetUserById(self, userId):
    user = self.db.query(User).filter_by(id=userId).first()
    if user == None:
        return None  # å‘¼å«æ–¹éœ€è¦æª¢æŸ¥ None
    return user
```

**å•é¡Œ**ï¼š
- å‘¼å«æ–¹å®¹æ˜“å¿˜è¨˜æª¢æŸ¥
- None å¯èƒ½æ˜¯åˆæ³•è¿”å›å€¼ï¼ˆæ­§ç¾©ï¼‰
- ä¸çŸ¥é“å¤±æ•—åŸå› 

#### æ¨¡å¼ 2: è¿”å›éŒ¯èª¤ç¢¼ï¼ˆä¸æ¨è–¦ï¼‰

src/api/product_service.py:48
```python
def UpdateProduct(self, id, data):
    p = self.db.query(Product).filter_by(id=id).first()
    if p == None:
        return -1  # é­”è¡“æ•¸å­—
    # ...
    return 0  # æˆåŠŸï¼Ÿ
```

**å•é¡Œ**ï¼š
- é­”è¡“æ•¸å­—ï¼Œä¸æ˜“ç†è§£
- éœ€è¦æ–‡æª”èªªæ˜éŒ¯èª¤ç¢¼å«ç¾©
- C èªè¨€é¢¨æ ¼ï¼Œä¸ Pythonic

#### æ¨¡å¼ 3: è¿”å›éŒ¯èª¤å­—å…¸ï¼ˆä¸ä¸€è‡´ï¼‰

src/api/user_service.py:28
```python
def createUser(self, data):
    if not userName:
        return {'error': 'Invalid input'}
    # ...
    return user_object  # é¡å‹ä¸ä¸€è‡´ï¼
```

**å•é¡Œ**ï¼š
- è¿”å›é¡å‹ä¸ä¸€è‡´ï¼ˆå­—å…¸ vs å°è±¡ï¼‰
- å‘¼å«æ–¹éœ€è¦åˆ¤æ–·é¡å‹
- ä¸ç¬¦åˆ Python æ…£ä¾‹

#### æ¨¡å¼ 4: æ‹‹å‡ºç•°å¸¸ï¼ˆæ¨è–¦âœ…ï¼‰

src/api/order_service.py:23
```python
def get_order_by_id(self, order_id):
    order = self.db.query(Order).filter_by(id=order_id).first()
    if order is None:
        raise OrderNotFoundError(f"Order {order_id} not found")
    return order
```

**å„ªé»**ï¼š
- æ¸…æ™°æ˜ç¢º
- å¼·åˆ¶å‘¼å«æ–¹è™•ç†
- å¯ä»¥å‚³éè©³ç´°éŒ¯èª¤ä¿¡æ¯
- ç¬¦åˆ Python æœ€ä½³å¯¦è¸

### å»ºè­°çš„çµ±ä¸€æ–¹æ¡ˆ

#### æ–¹æ¡ˆï¼šçµ±ä¸€ä½¿ç”¨ç•°å¸¸è™•ç†

1. **å®šç¾©ç•°å¸¸å±¤ç´š**ï¼š

```python
# src/exceptions.py

class AppException(Exception):
    """æ‡‰ç”¨ç•°å¸¸åŸºé¡"""
    pass

class NotFoundError(AppException):
    """è³‡æºæœªæ‰¾åˆ°"""
    pass

class ValidationError(AppException):
    """é©—è­‰éŒ¯èª¤"""
    pass

class DatabaseError(AppException):
    """æ•¸æ“šåº«éŒ¯èª¤"""
    pass
```

2. **é·ç§»ç­–ç•¥**ï¼š

Phase 1: æ·»åŠ ç•°å¸¸é¡ï¼ˆä¸ç ´å£ç¾æœ‰ä»£ç¢¼ï¼‰
Phase 2: é€æ­¥é·ç§»é«˜å„ªå…ˆ API
Phase 3: é·ç§»å…§éƒ¨æ–¹æ³•
Phase 4: ç§»é™¤èˆŠæ¨¡å¼

### é·ç§»å·¥ä½œé‡è©•ä¼°

- éœ€è¦ä¿®æ”¹æ–¹æ³•æ•¸ï¼š64 å€‹
- é è¨ˆæ™‚é–“ï¼š2-3 å¤©
- é¢¨éšªï¼šä¸­ï¼ˆéœ€è¦æ›´æ–°æ‰€æœ‰å‘¼å«æ–¹ï¼‰
```

**æª¢æŸ¥é»**ï¼š
- [ ] è­˜åˆ¥äº†æ‰€æœ‰éŒ¯èª¤è™•ç†æ¨¡å¼
- [ ] çµ±è¨ˆäº†ä½¿ç”¨é »ç‡
- [ ] æå‡ºäº†çµ±ä¸€æ–¹æ¡ˆ
- [ ] è©•ä¼°äº†é·ç§»å·¥ä½œé‡

---

#### æ­¥é©Ÿ 3ï¼šæƒæä»£ç¢¼æ ¼å¼å•é¡Œ

```bash
/grep "== None" --type py
/grep "!= None" --type py
/grep "if not.*or len\(" --type py

æç¤ºè©ï¼š
è«‹æ‰¾å‡ºä»¥ä¸‹ä»£ç¢¼æ ¼å¼å•é¡Œï¼š

1. ä½¿ç”¨ == None è€Œé is None
2. ä½¿ç”¨ != None è€Œé is not None
3. å†—é¤˜çš„é•·åº¦æª¢æŸ¥ï¼ˆif not x or len(x) == 0ï¼‰
4. è£¸ except å­å¥
5. å–®å¼•è™Ÿ vs é›™å¼•è™Ÿæ··ç”¨

å°æ¯å€‹å•é¡Œæä¾›æ­£ç¢ºçš„æ›¿ä»£æ–¹æ¡ˆã€‚
```

**é æœŸè¼¸å‡º**ï¼š

```markdown
## ä»£ç¢¼æ ¼å¼å•é¡Œæ¸…å–®

### 1. None åˆ¤æ–·æ–¹å¼éŒ¯èª¤ï¼ˆ67 è™•ï¼‰

âŒ **éŒ¯èª¤**ï¼š
```python
if user == None:
if data != None:
```

âœ… **æ­£ç¢º**ï¼š
```python
if user is None:
if data is not None:
```

**åŸå› **ï¼š
- `==` æ˜¯å€¼æ¯”è¼ƒï¼Œ`is` æ˜¯èº«ä»½æ¯”è¼ƒ
- None æ˜¯å–®ä¾‹ï¼Œæ‡‰è©²ç”¨ is
- PEP 8 æ˜ç¢ºè¦æ±‚

**ä½ç½®**ï¼š
- src/api/user_service.py: 5 è™•
- src/api/product_service.py: 8 è™•
- src/api/order_service.py: 12 è™•
- ... (å…± 67 è™•)

### 2. å†—é¤˜çš„é›†åˆæª¢æŸ¥ï¼ˆ23 è™•ï¼‰

âŒ **éŒ¯èª¤**ï¼š
```python
if not items or len(items) == 0:
    # ...
```

âœ… **æ­£ç¢º**ï¼š
```python
if not items:
    # ç©ºé›†åˆ/åˆ—è¡¨æœ¬èº«å°±æ˜¯ False
    # ...
```

**åŸå› **ï¼š
- Python ä¸­ç©ºé›†åˆå³ False
- len() èª¿ç”¨æ˜¯å¤šé¤˜çš„

### 3. è£¸ except å­å¥ï¼ˆ15 è™•ï¼‰

âŒ **éŒ¯èª¤**ï¼š
```python
try:
    # ...
except:  # æ•ç²æ‰€æœ‰ç•°å¸¸ï¼ŒåŒ…æ‹¬ KeyboardInterrupt
    return None
```

âœ… **æ­£ç¢º**ï¼š
```python
try:
    # ...
except Exception as e:  # åªæ•ç² Exception å­é¡
    logger.error(f"Error: {e}")
    raise
```

### 4. å°å…¥ä½ç½®ä¸è¦ç¯„ï¼ˆ34 è™•ï¼‰

âŒ **éŒ¯èª¤**ï¼š
```python
def check_email(email):
    import re  # å‡½æ•¸å…§å°å…¥
    return re.match(pattern, email)
```

âœ… **æ­£ç¢º**ï¼š
```python
import re  # æ–‡ä»¶é ‚éƒ¨å°å…¥

def check_email(email):
    return re.match(pattern, email)
```

### ä¿®å¾©å„ªå…ˆç´š

ğŸ”´ **Criticalï¼ˆå¿…é ˆä¿®å¾©ï¼‰**ï¼š
- è£¸ exceptï¼ˆ15 è™•ï¼‰- å¯èƒ½éš±è—åš´é‡ bug
- None åˆ¤æ–·éŒ¯èª¤ï¼ˆ67 è™•ï¼‰- æ½›åœ¨é‚è¼¯å•é¡Œ

ğŸŸ¡ **Importantï¼ˆå»ºè­°ä¿®å¾©ï¼‰**ï¼š
- å†—é¤˜æª¢æŸ¥ï¼ˆ23 è™•ï¼‰- å½±éŸ¿å¯è®€æ€§
- å°å…¥ä½ç½®ï¼ˆ34 è™•ï¼‰- å½±éŸ¿æ€§èƒ½

ğŸŸ¢ **Nice to have**ï¼š
- å–®é›™å¼•è™Ÿçµ±ä¸€ - è‡ªå‹•åŒ–å·¥å…·è™•ç†ï¼ˆblackï¼‰
```

**æª¢æŸ¥é»**ï¼š
- [ ] æ‰¾å‡ºæ‰€æœ‰æ ¼å¼å•é¡Œ
- [ ] ç†è§£äº†éŒ¯èª¤åŸå› 
- [ ] çŸ¥é“æ­£ç¢ºå¯«æ³•
- [ ] è©•ä¼°äº†ä¿®å¾©å„ªå…ˆç´š

---

### éšæ®µäºŒï¼šåˆ¶å®šé‡æ§‹è¨ˆåŠƒï¼ˆ15 åˆ†é˜ï¼‰

**ç›®æ¨™**ï¼šåˆ¶å®šå®‰å…¨ã€å¯åŸ·è¡Œçš„é‡æ§‹è¨ˆåŠƒ

```bash
æç¤ºè©ï¼š
åŸºæ–¼ä»¥ä¸Šåˆ†æï¼Œè«‹åˆ¶å®šè©³ç´°çš„é‡æ§‹è¨ˆåŠƒï¼š

1. æŒ‰å½±éŸ¿ç¯„åœåˆ†çµ„ï¼ˆAPIã€å…§éƒ¨æ–¹æ³•ã€å·¥å…·å‡½æ•¸ï¼‰
2. æ¯çµ„å…§æŒ‰é¢¨éšªæ’åºï¼ˆé«˜é¢¨éšªå…ˆæ¸¬è©¦ï¼Œä½é¢¨éšªå¯æ‰¹é‡ï¼‰
3. æ¯æ­¥çš„æ¸¬è©¦ç­–ç•¥
4. Git æäº¤ç­–ç•¥ï¼ˆä»€éº¼æ™‚å€™ commitï¼‰

è¦æ±‚ï¼šå¯åŸ·è¡Œã€å¯è¿½è¹¤ã€å¯å›æ»¾
```

**é æœŸè¨ˆåŠƒ**ï¼š

```markdown
## é‡æ§‹åŸ·è¡Œè¨ˆåŠƒ

### Phase 1: æº–å‚™å·¥ä½œï¼ˆ10 åˆ†é˜ï¼‰

#### 1.1 å»ºç«‹å®‰å…¨ç¶²
- [ ] ç¢ºä¿æ‰€æœ‰æ¸¬è©¦é€šé
- [ ] å‰µå»ºé‡æ§‹åˆ†æ”¯ï¼š`git checkout -b refactor/code-style-unification`
- [ ] å‚™ä»½é—œéµé…ç½®

#### 1.2 å»ºç«‹é¢¨æ ¼æŒ‡å—
- [ ] æ›´æ–° CLAUDE.md æ·»åŠ åœ˜éšŠè¦ç¯„
- [ ] å®šç¾©ç•°å¸¸é¡é«”ç³»
- [ ] æº–å‚™è‡ªå‹•åŒ–å·¥å…·é…ç½®ï¼ˆ.flake8, pyproject.tomlï¼‰

### Phase 2: Critical ä¿®å¾©ï¼ˆ20 åˆ†é˜ï¼‰

#### 2.1 ä¿®å¾©è£¸ exceptï¼ˆ15 è™•ï¼‰

**åŸ·è¡Œ**ï¼š
```bash
/grep "except:" --type py -C 3
# é€å€‹ä¿®æ”¹ç‚º except Exception as e
```

**æ¸¬è©¦**ï¼šæ¯ä¿®æ”¹ 5 å€‹ï¼Œé‹è¡Œä¸€æ¬¡æ¸¬è©¦
**æäº¤**ï¼š`git commit -m "fix: replace bare except with explicit Exception handling"`

#### 2.2 ä¿®å¾© None åˆ¤æ–·ï¼ˆ67 è™•ï¼‰

**åŸ·è¡Œ**ï¼š
```bash
# å¯ä»¥ä½¿ç”¨ sed æ‰¹é‡æ›¿æ›
find . -name "*.py" -exec sed -i 's/== None/is None/g' {} \;
find . -name "*.py" -exec sed -i 's/!= None/is not None/g' {} \;
```

**æ¸¬è©¦**ï¼šé‹è¡Œå®Œæ•´æ¸¬è©¦å¥—ä»¶
**æäº¤**ï¼š`git commit -m "style: use 'is None' instead of '== None'"`

### Phase 3: API å±¤é‡æ§‹ï¼ˆ30 åˆ†é˜ï¼‰

#### 3.1 çµ±ä¸€å…¬é–‹ API å‘½åï¼ˆ12 è™•ï¼Œé«˜å„ªå…ˆï¼‰

**é‡é»æ–¹æ³•**ï¼š
1. UserService.GetUserById â†’ get_user_by_id
2. UserService.createUser â†’ create_user
3. ProductService.Get_Product â†’ get_product
4. ProductService.UpdateProduct â†’ update_product

**åŸ·è¡Œç­–ç•¥**ï¼š
- ä½¿ç”¨ IDE é‡æ§‹åŠŸèƒ½ï¼ˆè‡ªå‹•æ›´æ–°æ‰€æœ‰å¼•ç”¨ï¼‰
- æ¯å€‹é¡é‡æ§‹å¾Œé‹è¡Œæ¸¬è©¦
- ä¸€å€‹é¡ä¸€å€‹ commit

**æ¸¬è©¦**ï¼š
```bash
# æ¯å€‹æœå‹™é‡æ§‹å¾Œ
pytest tests/test_user_service.py -v
pytest tests/test_product_service.py -v
```

**æäº¤**ï¼š
```bash
git commit -m "refactor(user-service): rename methods to follow snake_case convention"
git commit -m "refactor(product-service): rename methods to follow snake_case convention"
```

#### 3.2 çµ±ä¸€éŒ¯èª¤è™•ç†ï¼ˆAPI å±¤å„ªå…ˆï¼Œ28 è™•ï¼‰

**ç­–ç•¥**ï¼š
- å…ˆæ·»åŠ ç•°å¸¸é¡ï¼ˆä¸ç ´å£ç¾æœ‰ä»£ç¢¼ï¼‰
- å‰µå»ºé©é…å±¤ï¼ˆåŒæ™‚æ”¯æŒèˆŠ/æ–°æ–¹å¼ï¼‰
- é€æ­¥é·ç§»
- ç§»é™¤èˆŠä»£ç¢¼

**ç¤ºä¾‹é·ç§»**ï¼š

```python
# Step 1: æ·»åŠ æ–°æ–¹æ³•ï¼ˆä¸åˆªé™¤èˆŠæ–¹æ³•ï¼‰
def get_user_by_id(self, user_id):
    """æ–°æ–¹æ³•ï¼šæ‹‹å‡ºç•°å¸¸"""
    user = self.db.query(User).filter_by(id=user_id).first()
    if user is None:
        raise NotFoundError(f"User {user_id} not found")
    return user

def GetUserById(self, userId):
    """èˆŠæ–¹æ³•ï¼šæ¨™è¨˜ç‚ºå»¢æ£„ï¼Œå…§éƒ¨èª¿ç”¨æ–°æ–¹æ³•"""
    import warnings
    warnings.warn("GetUserById is deprecated, use get_user_by_id", DeprecationWarning)
    try:
        return self.get_user_by_id(userId)
    except NotFoundError:
        return None  # ä¿æŒèˆŠè¡Œç‚º

# Step 2: æ›´æ–°å‘¼å«æ–¹ä½¿ç”¨æ–°æ–¹æ³•

# Step 3: ç§»é™¤èˆŠæ–¹æ³•
```

**æäº¤**ï¼šæ¯å€‹æœå‹™ä¸€å€‹ commit

### Phase 4: å…§éƒ¨æ–¹æ³•èˆ‡å·¥å…·å‡½æ•¸ï¼ˆ20 åˆ†é˜ï¼‰

#### 4.1 é‡å‘½åè¼”åŠ©å‡½æ•¸ï¼ˆ20 è™•ï¼‰

**æ‰¹é‡è™•ç†**ï¼š
- ValidatePhoneNumber â†’ validate_phone_number
- FormatDateTime â†’ format_datetime
- Check_Email â†’ check_email

**å·¥å…·**ï¼šä½¿ç”¨ IDE æ‰¹é‡é‡æ§‹æˆ–ç·¨å¯«è…³æœ¬

#### 4.2 æ¶ˆé™¤æ¨¡ç³Šå‘½åï¼ˆ67 è™•ï¼‰

**åˆ†æ‰¹è™•ç†**ï¼š
- p â†’ product
- d â†’ date / dataï¼ˆæ ¹æ“šä¸Šä¸‹æ–‡ï¼‰
- u â†’ user
- i â†’ item / indexï¼ˆæ ¹æ“šä¸Šä¸‹æ–‡ï¼‰

**ç­–ç•¥**ï¼šå„ªå…ˆä¿®æ”¹é«˜é »ä½¿ç”¨çš„è®Šæ•¸

### Phase 5: è‡ªå‹•åŒ–æ ¼å¼åŒ–ï¼ˆ5 åˆ†é˜ï¼‰

#### 5.1 ä½¿ç”¨ black çµ±ä¸€æ ¼å¼

```bash
# å®‰è£
pip install black isort

# æ ¼å¼åŒ–æ‰€æœ‰æ–‡ä»¶
black src/ tests/

# æ’åº import
isort src/ tests/
```

#### 5.2 æäº¤æ ¼å¼åŒ–è®Šæ›´

```bash
git commit -m "style: apply black formatting to entire codebase"
git commit -m "style: sort imports with isort"
```

### Phase 6: æ–‡æª”èˆ‡é…ç½®ï¼ˆ10 åˆ†é˜ï¼‰

#### 6.1 æ›´æ–° CLAUDE.md

æ·»åŠ åœ˜éšŠä»£ç¢¼è¦ç¯„ï¼š
- å‘½åè¦ç¯„
- éŒ¯èª¤è™•ç†æ¨™æº–
- æ ¼å¼è¦æ±‚

#### 6.2 é…ç½® pre-commit hooks

```yaml
# .pre-commit-config.yaml
repos:
  - repo: https://github.com/psf/black
    rev: 23.0.0
    hooks:
      - id: black
  - repo: https://github.com/pycqa/isort
    rev: 5.12.0
    hooks:
      - id: isort
  - repo: https://github.com/pycqa/flake8
    rev: 6.0.0
    hooks:
      - id: flake8
```

### é©—è­‰æ¸…å–®

æ¯å€‹ Phase å®Œæˆå¾Œæª¢æŸ¥ï¼š

- [ ] æ‰€æœ‰æ¸¬è©¦é€šé
- [ ] ä»£ç¢¼å¯ä»¥æ­£å¸¸é‹è¡Œ
- [ ] Git commit ä¿¡æ¯æ¸…æ™°
- [ ] æ²’æœ‰éºæ¼çš„å•é¡Œ

### å›æ»¾è¨ˆåŠƒ

å¦‚æœå‡ºç¾å•é¡Œï¼š

```bash
# å›æ»¾åˆ°ç‰¹å®š commit
git reset --hard <commit-hash>

# æˆ–æ’¤éŠ·æœ€å¾Œä¸€æ¬¡ commit
git reset --soft HEAD~1
```

### æ™‚é–“ä¼°ç®—

| Phase | æ™‚é–“ | é¢¨éšª |
|-------|------|------|
| Phase 1 | 10 min | ä½ |
| Phase 2 | 20 min | ä½ï¼ˆç´”æ ¼å¼ï¼‰ |
| Phase 3 | 30 min | ä¸­ï¼ˆå½±éŸ¿ APIï¼‰ |
| Phase 4 | 20 min | ä½ |
| Phase 5 | 5 min | æ¥µä½ï¼ˆè‡ªå‹•åŒ–ï¼‰ |
| Phase 6 | 10 min | ä½ |
| **ç¸½è¨ˆ** | **95 min** | - |
```

**æª¢æŸ¥é»**ï¼š
- [ ] åˆ¶å®šäº†è©³ç´°çš„åŸ·è¡Œè¨ˆåŠƒ
- [ ] è©•ä¼°äº†é¢¨éšª
- [ ] ç¢ºå®šäº†æ¸¬è©¦ç­–ç•¥
- [ ] è¦åŠƒäº† Git æäº¤

---

### éšæ®µä¸‰ï¼šåŸ·è¡Œé‡æ§‹ï¼ˆ50 åˆ†é˜ï¼‰

**ç›®æ¨™**ï¼šæŒ‰è¨ˆåŠƒå®‰å…¨åœ°åŸ·è¡Œé‡æ§‹

#### åŸ·è¡Œè¦é»

1. **å°æ­¥å‰é€²**ï¼šæ¯æ¬¡åªæ”¹ä¸€é¡å•é¡Œ
2. **é »ç¹æ¸¬è©¦**ï¼šæ¯ 5-10 å€‹ä¿®æ”¹é‹è¡Œä¸€æ¬¡æ¸¬è©¦
3. **åŠæ™‚æäº¤**ï¼šæ¯å®Œæˆä¸€å€‹é‚è¼¯å–®å…ƒå°± commit
4. **ä¿æŒå°ˆæ³¨**ï¼šä¸è¦é †æ‰‹ä¿®æ”¹è¨ˆåŠƒå¤–çš„å•é¡Œ

#### ä½¿ç”¨ Claude è¼”åŠ©åŸ·è¡Œ

```bash
# ç¤ºä¾‹ï¼šæ‰¹é‡ä¿®æ”¹ None åˆ¤æ–·

æç¤ºè©ï¼š
è«‹å¹«æˆ‘ä¿®æ”¹ä»¥ä¸‹æ–‡ä»¶ä¸­çš„ None åˆ¤æ–·æ–¹å¼ï¼š
- src/api/user_service.py
- src/api/product_service.py

è¦æ±‚ï¼š
1. å°‡æ‰€æœ‰ == None æ”¹ç‚º is None
2. å°‡æ‰€æœ‰ != None æ”¹ç‚º is not None
3. ä¿æŒå…¶ä»–ä»£ç¢¼ä¸è®Š
4. æ¯å€‹æ–‡ä»¶åˆ†åˆ¥è¼¸å‡ºä¿®æ”¹å¾Œçš„å®Œæ•´ä»£ç¢¼
```

```bash
# ç¤ºä¾‹ï¼šé‡å‘½åæ–¹æ³•

æç¤ºè©ï¼š
è«‹é‡æ§‹ UserService é¡ï¼š

1. GetUserById â†’ get_user_by_id
2. createUser â†’ create_user
3. åŒæ™‚æ›´æ–° docstring
4. æ·»åŠ é¡å‹æç¤º

è¼¸å‡ºé‡æ§‹å¾Œçš„å®Œæ•´ä»£ç¢¼ï¼Œæˆ‘æœƒç”¨ /write å¯«å…¥æ–‡ä»¶ã€‚
```

**æª¢æŸ¥é»**ï¼š
- [ ] æŒ‰è¨ˆåŠƒåŸ·è¡Œæ¯å€‹ Phase
- [ ] æ¯æ­¥éƒ½é‹è¡Œäº†æ¸¬è©¦
- [ ] Git æ­·å²æ¸…æ™°å¯è¿½æº¯
- [ ] æ²’æœ‰ç ´å£ç¾æœ‰åŠŸèƒ½

---

### éšæ®µå››ï¼šé©—è­‰èˆ‡æ–‡æª”åŒ–ï¼ˆ5 åˆ†é˜ï¼‰

**ç›®æ¨™**ï¼šç¢ºä¿é‡æ§‹æˆåŠŸï¼Œæ²‰æ¾±ç¶“é©—

#### æ­¥é©Ÿ 1ï¼šæœ€çµ‚é©—è­‰

```bash
# é‹è¡Œå®Œæ•´æ¸¬è©¦å¥—ä»¶
pytest tests/ -v

# æª¢æŸ¥ä»£ç¢¼é¢¨æ ¼
flake8 src/ tests/

# æª¢æŸ¥è¦†è“‹ç‡ï¼ˆç¢ºä¿æ²’æœ‰ä¸‹é™ï¼‰
pytest --cov=src --cov-report=term-missing
```

#### æ­¥é©Ÿ 2ï¼šç”Ÿæˆé‡æ§‹å ±å‘Š

```bash
æç¤ºè©ï¼š
è«‹ç”Ÿæˆä¸€ä»½é‡æ§‹å ±å‘Šï¼ŒåŒ…å«ï¼š

1. ä¿®æ”¹çµ±è¨ˆï¼ˆå¤šå°‘å€‹æ–‡ä»¶ã€å¤šå°‘è™•ä¿®æ”¹ï¼‰
2. ä¿®æ”¹å‰å¾Œå°æ¯”ç¤ºä¾‹
3. æ”¹é€²æ•ˆæœï¼ˆå¯è®€æ€§ã€ä¸€è‡´æ€§ï¼‰
4. éºç•™å•é¡Œï¼ˆå¦‚æœæœ‰ï¼‰
5. å¾ŒçºŒå»ºè­°

ä½¿ç”¨è¡¨æ ¼å’Œä»£ç¢¼å¡Šå±•ç¤ºã€‚
```

#### æ­¥é©Ÿ 3ï¼šæ²‰æ¾±åˆ°è¨˜æ†¶åº«

```bash
/memory save

ä¸»é¡Œï¼šä»£ç¢¼é¢¨æ ¼çµ±ä¸€é‡æ§‹æœ€ä½³å¯¦è¸

æ ¸å¿ƒæµç¨‹ï¼š
1. æƒæèˆ‡åˆ†é¡ï¼ˆ/grep æ‰¹é‡æŸ¥æ‰¾ï¼‰
   - å‘½åå•é¡Œï¼šdef [A-Z], class [a-z]
   - æ ¼å¼å•é¡Œï¼š== None, != None, è£¸ except
   - éŒ¯èª¤è™•ç†ï¼šreturn None, return -1
   - æŒ‰å½±éŸ¿ç¯„åœå’Œé¢¨éšªåˆ†é¡

2. åˆ¶å®šè¨ˆåŠƒ
   - æŒ‰å„ªå…ˆç´šï¼šCritical â†’ API â†’ å…§éƒ¨ â†’ å·¥å…·
   - æŒ‰é¢¨éšªï¼šé«˜é¢¨éšªå°æ­¥æ¸¬è©¦ï¼Œä½é¢¨éšªå¯æ‰¹é‡
   - Git ç­–ç•¥ï¼šæ¯é¡ä¿®æ”¹ä¸€å€‹ commit
   - å›æ»¾é æ¡ˆ

3. å®‰å…¨åŸ·è¡Œ
   - å°æ­¥å‰é€²ï¼šä¸€æ¬¡åªæ”¹ä¸€é¡å•é¡Œ
   - é »ç¹æ¸¬è©¦ï¼šæ¯ 5-10 è™•ä¿®æ”¹æ¸¬è©¦ä¸€æ¬¡
   - IDE é‡æ§‹ï¼šåˆ©ç”¨è‡ªå‹•é‡å‘½ååŠŸèƒ½
   - ä¿æŒå°ˆæ³¨ï¼šä¸é †æ‰‹æ”¹å…¶ä»–å•é¡Œ

4. è‡ªå‹•åŒ–å·¥å…·
   - blackï¼šä»£ç¢¼æ ¼å¼åŒ–
   - isortï¼šimport æ’åº
   - flake8ï¼šé¢¨æ ¼æª¢æŸ¥
   - pre-commitï¼šæäº¤å‰è‡ªå‹•æª¢æŸ¥

5. é é˜²æ©Ÿåˆ¶
   - æ›´æ–° CLAUDE.md è¨˜éŒ„è¦ç¯„
   - é…ç½® pre-commit hooks
   - ä»£ç¢¼å¯©æŸ¥æª¢æŸ¥æ¸…å–®
   - æ–°äººåŸ¹è¨“æ–‡æª”

æ‰¹é‡æŸ¥æ‰¾æ¨¡å¼ï¼š
- å‡½æ•¸å‘½åï¼š/grep "def [A-Z]" --type py
- é¡å‘½åï¼š/grep "class [a-z]" --type py
- None åˆ¤æ–·ï¼š/grep "== None\|!= None" --type py
- è£¸ exceptï¼š/grep "except:" --type py -C 2
- éŒ¯èª¤è¿”å›ï¼š/grep "return None\|return -1" --type py

å¸¸è¦‹éŒ¯èª¤æ¨¡å¼ï¼š
- å‘½åï¼šé§å³°/è›‡å½¢æ··ç”¨ï¼Œæ¨¡ç³Šå‘½åï¼ˆp, d, dataï¼‰
- æ ¼å¼ï¼š== None, != None, è£¸ except
- éŒ¯èª¤è™•ç†ï¼šè¿”å› None/éŒ¯èª¤ç¢¼/éŒ¯èª¤å­—å…¸ä¸ä¸€è‡´
- å°å…¥ï¼šå‡½æ•¸å…§å°å…¥ï¼Œé †åºæ··äº‚

é‡æ§‹é¢¨éšªè©•ä¼°ï¼š
- ä½é¢¨éšªï¼šæ ¼å¼åŒ–ï¼ˆNone åˆ¤æ–·ã€å¼•è™Ÿçµ±ä¸€ï¼‰â†’ å¯æ‰¹é‡
- ä¸­é¢¨éšªï¼šå…§éƒ¨æ–¹æ³•é‡å‘½å â†’ å°æ­¥æ¸¬è©¦
- é«˜é¢¨éšªï¼šå…¬é–‹ API é‡å‘½å â†’ è¬¹æ…ï¼Œè€ƒæ…®ç›¸å®¹æœŸ

ç›¸é—œå·¥å…·ï¼šblack, isort, flake8, pre-commit
ç›¸é—œæŒ‡ä»¤ï¼š/grepï¼ˆæ‰¹é‡æŸ¥æ‰¾ï¼‰ï¼Œ/readï¼ˆç†è§£ä¸Šä¸‹æ–‡ï¼‰
```

**æª¢æŸ¥é»**ï¼š
- [ ] æ‰€æœ‰æ¸¬è©¦é€šé
- [ ] ä»£ç¢¼é¢¨æ ¼ä¸€è‡´
- [ ] ç”Ÿæˆäº†é‡æ§‹å ±å‘Š
- [ ] æ²‰æ¾±äº†ç¶“é©—åˆ° /memory

---

## é©—è­‰æ¨™æº–

### å¿…é ˆé”æˆ âœ…

- [ ] æˆåŠŸçµ±ä¸€æ‰€æœ‰å‘½åè¦ç¯„ï¼ˆå‡½æ•¸ã€æ–¹æ³•ã€è®Šæ•¸ï¼‰
- [ ] çµ±ä¸€äº†éŒ¯èª¤è™•ç†æ–¹å¼ï¼ˆä½¿ç”¨ç•°å¸¸ï¼‰
- [ ] ä¿®å¾©äº†æ‰€æœ‰æ ¼å¼å•é¡Œï¼ˆNone åˆ¤æ–·ã€è£¸ exceptï¼‰
- [ ] æ‰€æœ‰æ¸¬è©¦é€šéï¼ŒåŠŸèƒ½æœªç ´å£
- [ ] æ›´æ–°äº† CLAUDE.md è¨˜éŒ„åœ˜éšŠè¦ç¯„
- [ ] ä½¿ç”¨ /memory æ²‰æ¾±äº†é‡æ§‹ç¶“é©—

### é¡å¤–æˆå°± ğŸŒŸ

- [ ] é…ç½®äº† pre-commit hooks è‡ªå‹•æª¢æŸ¥
- [ ] ä½¿ç”¨è‡ªå‹•åŒ–å·¥å…·ï¼ˆblack, isortï¼‰
- [ ] ç·¨å¯«äº†åœ˜éšŠä»£ç¢¼é¢¨æ ¼åŸ¹è¨“æ–‡æª”
- [ ] å»ºç«‹äº†æŒçºŒæ”¹é€²æ©Ÿåˆ¶ï¼ˆå®šæœŸæƒæï¼‰
- [ ] Git æ­·å²æ¸…æ™°ï¼Œæ¯å€‹ commit éƒ½å¯ç¨ç«‹å¯©æŸ¥

---

## å­¸ç¿’åæ€

### åæ€å•é¡Œ

1. **æ¨¡å¼è­˜åˆ¥**ï¼š
   - /grep å¦‚ä½•å¹«åŠ©ä½ å¿«é€Ÿæ‰¾åˆ°æ‰€æœ‰å•é¡Œï¼Ÿ
   - æ­£å‰‡è¡¨é”å¼åœ¨æ‰¹é‡æŸ¥æ‰¾ä¸­çš„ä½œç”¨ï¼Ÿ
   - å¦‚ä½•ç¢ºä¿æ²’æœ‰éºæ¼ï¼Ÿ

2. **é‡æ§‹ç­–ç•¥**ï¼š
   - ç‚ºä»€éº¼è¦æŒ‰å„ªå…ˆç´šå’Œé¢¨éšªåˆ†éšæ®µåŸ·è¡Œï¼Ÿ
   - å°æ­¥å‰é€² vs å¤§è¦æ¨¡ä¿®æ”¹ï¼Œå„æœ‰ä»€éº¼åˆ©å¼Šï¼Ÿ
   - å¦‚ä½•å¹³è¡¡é‡æ§‹é€Ÿåº¦èˆ‡å®‰å…¨æ€§ï¼Ÿ

3. **è‡ªå‹•åŒ–åƒ¹å€¼**ï¼š
   - å“ªäº›å·¥ä½œé©åˆè‡ªå‹•åŒ–å·¥å…·ï¼Ÿå“ªäº›éœ€è¦äººå·¥åˆ¤æ–·ï¼Ÿ
   - pre-commit hooks å¦‚ä½•é é˜²æœªä¾†çš„é¢¨æ ¼å•é¡Œï¼Ÿ
   - è‡ªå‹•åŒ–æª¢æŸ¥çš„å±€é™æ€§æ˜¯ä»€éº¼ï¼Ÿ

4. **åœ˜éšŠå”ä½œ**ï¼š
   - å¦‚ä½•è®“åœ˜éšŠæ¥å—æ–°çš„ä»£ç¢¼è¦ç¯„ï¼Ÿ
   - å¦‚ä½•è™•ç†æ­£åœ¨é€²è¡Œçš„åŠŸèƒ½é–‹ç™¼èˆ‡é‡æ§‹çš„è¡çªï¼Ÿ
   - ä»£ç¢¼å¯©æŸ¥æ¸…å–®å¦‚ä½•å¹«åŠ©ç¶­æŒè³ªé‡ï¼Ÿ

### å»¶ä¼¸ç·´ç¿’

1. **è‡ªå‹•åŒ–é‡æ§‹è…³æœ¬**ï¼š
   - ç·¨å¯« Python è…³æœ¬è‡ªå‹•åŸ·è¡Œå¸¸è¦‹é‡æ§‹
   - ä½¿ç”¨ ASTï¼ˆæŠ½è±¡èªæ³•æ¨¹ï¼‰åˆ†æå’Œä¿®æ”¹ä»£ç¢¼
   - é›†æˆåˆ° CI/CD æµç¨‹

2. **å»ºç«‹é¢¨æ ¼æª¢æŸ¥å„€è¡¨æ¿**ï¼š
   - çµ±è¨ˆå„é¡é¢¨æ ¼å•é¡Œçš„è¶¨å‹¢
   - å¯è¦–åŒ–ä»£ç¢¼è³ªé‡æ”¹é€²
   - è¨­ç½®è³ªé‡é–€æª»ï¼ˆquality gatesï¼‰

3. **è™•ç†æ›´è¤‡é›œçš„é‡æ§‹**ï¼š
   - çµ±ä¸€è³‡æ–™åº«æŸ¥è©¢æ¨¡å¼
   - çµ±ä¸€æ—¥èªŒè¨˜éŒ„æ–¹å¼
   - çµ±ä¸€é…ç½®ç®¡ç†

---

## ç›¸é—œè³‡æº

### ä¸‹ä¸€æ­¥å­¸ç¿’

- **C08**ï¼šä¾è³´é …å‡ç´š - è™•ç† breaking changes
- **C09**ï¼šæ€§èƒ½ç“¶é ¸å„ªåŒ– - ä½¿ç”¨ /grep æ‰¾æ…¢æŸ¥è©¢
- **C10**ï¼šéŒ¯èª¤è™•ç†å¢å¼· - ç³»çµ±åŒ–æ”¹é€²ç•°å¸¸è™•ç†

### å·¥å…·åƒè€ƒ

- **black**ï¼šPython ä»£ç¢¼æ ¼å¼åŒ–å·¥å…·
- **isort**ï¼šImport èªå¥æ’åºå·¥å…·
- **flake8**ï¼šä»£ç¢¼é¢¨æ ¼æª¢æŸ¥
- **pylint**ï¼šæ›´åš´æ ¼çš„ä»£ç¢¼è³ªé‡å·¥å…·
- **pre-commit**ï¼šGit hooks æ¡†æ¶
- **rope**ï¼šPython é‡æ§‹åº«

### å­¸ç¿’è³‡æº

- **PEP 8**ï¼šPython å®˜æ–¹é¢¨æ ¼æŒ‡å—
- **ã€ŠRefactoringã€‹**ï¼ˆMartin Fowlerï¼‰
- **ã€ŠClean Codeã€‹**ï¼ˆRobert C. Martinï¼‰
- **AST æ–‡æª”**ï¼šæŠ½è±¡èªæ³•æ¨¹æ“ä½œ

---

**å»ºè­°å®Œæˆæ™‚é–“**ï¼š1.5-2 å°æ™‚
**é›£åº¦è©•ä¼°**ï¼š3/5
**é‡è¦åº¦**ï¼š4/5ï¼ˆä»£ç¢¼ä¸€è‡´æ€§å°åœ˜éšŠå”ä½œå¾ˆé‡è¦ï¼‰
**å¯è¤‡ç”¨æ€§**ï¼š5/5ï¼ˆæ–¹æ³•å¯æ‡‰ç”¨åˆ°ä»»ä½•ä»£ç¢¼åº«ï¼‰
