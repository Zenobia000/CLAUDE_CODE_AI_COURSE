# B04：混合流程設計（基礎級）

## 情境資訊

**編號**：B04
**難度**：⭐⭐☆☆☆（基礎級）
**預計時間**：30 分鐘
**學習目標**：
- 學會設計 2-3 步驟的混合工具流程
- 理解工具之間的協作關係
- 掌握工具切換的最佳時機
- 建立高效的工作流程思維

**適用對象**：
- 想提升工作效率的開發者
- 需要設計團隊工作流程的 lead
- 希望最大化工具價值的使用者

---

## 核心概念：混合使用的價值

### 為什麼要混合使用？

```
單一工具 vs 混合使用：

只用 Copilot：
├─ 優點：簡單、一致
└─ 缺點：複雜任務效率低、無法深度分析

只用 Claude Code：
├─ 優點：功能全面、深度分析
└─ 缺點：即時編碼較慢、成本高

只用 Gemini CLI：
├─ 優點：全局理解
└─ 缺點：無法執行、不適合日常開發

混合使用：
├─ 優點：各取所長、效率最大化
└─ 挑戰：需要學會切換時機
```

### 混合使用的基本原則

1. **順序性**：按任務階段使用不同工具
2. **互補性**：一個工具的弱點用另一個補強
3. **效率性**：在最合適的時間點切換工具
4. **成本性**：考慮切換的時間成本

---

## 練習 1：基礎流程設計（15 分鐘）

為以下 5 個場景設計 2-3 步驟的混合工具流程：

### 場景 1.1：開發新功能
**任務**：開發一個「使用者註冊」功能
**包含**：API 端點、資料驗證、資料庫操作、測試、文檔

**你的流程設計**：
```
步驟 1：______________________
工具：_____ 時間：___ 分鐘
目標：_______________________

步驟 2：______________________
工具：_____ 時間：___ 分鐘
目標：_______________________

步驟 3：______________________
工具：_____ 時間：___ 分鐘
目標：_______________________

總時間：____ 分鐘
```

### 場景 1.2：Bug 修復
**任務**：修復「訂單狀態不正確」的問題
**涉及**：定位問題、分析程式碼、修改邏輯、測試驗證

**你的流程設計**：
```
步驟 1：______________________
工具：_____ 時間：___ 分鐘
目標：_______________________

步驟 2：______________________
工具：_____ 時間：___ 分鐘
目標：_______________________

步驟 3：______________________（可選）
工具：_____ 時間：___ 分鐘
目標：_______________________

總時間：____ 分鐘
```

### 場景 1.3：程式碼審查
**任務**：審查同事的 Pull Request（10 個檔案）
**要求**：檢查邏輯、安全性、效能、程式碼品質

**你的流程設計**：
```
步驟 1：______________________
工具：_____ 時間：___ 分鐘
目標：_______________________

步驟 2：______________________
工具：_____ 時間：___ 分鐘
目標：_______________________

步驟 3：______________________（可選）
工具：_____ 時間：___ 分鐘
目標：_______________________

總時間：____ 分鐘
```

### 場景 1.4：重構遺留程式碼
**任務**：重構一個 20 檔案的模組，提升可維護性
**包含**：理解現有邏輯、設計新架構、逐步重構、測試

**你的流程設計**：
```
步驟 1：______________________
工具：_____ 時間：___ 分鐘
目標：_______________________

步驟 2：______________________
工具：_____ 時間：___ 分鐘
目標：_______________________

步驟 3：______________________
工具：_____ 時間：___ 分鐘
目標：_______________________

總時間：____ 分鐘
```

### 場景 1.5：技術調研
**任務**：調研新的前端框架，產出技術選型報告
**包含**：了解框架特性、分析優缺點、提供建議

**你的流程設計**：
```
步驟 1：______________________
工具：_____ 時間：___ 分鐘
目標：_______________________

步驟 2：______________________
工具：_____ 時間：___ 分鐘
目標：_______________________

步驟 3：______________________
工具：_____ 時間：___ 分鐘
目標：_______________________

總時間：____ 分鐘
```

---

## 練習 2：進階流程優化（10 分鐘）

以下是一些次優的工作流程，請分析問題並提出改進方案：

### 案例 2.1：效率低下的流程
**原始流程**：開發一個 REST API
```
1. 用 Claude Code 討論 API 設計（30 分鐘）
2. 用 Claude Code 逐行寫程式碼（60 分鐘）
3. 用 Claude Code 生成測試（20 分鐘）
4. 用 Claude Code 生成文檔（10 分鐘）
總時間：120 分鐘
```

**問題分析**：
- _________________________________
- _________________________________

**改進方案**：
```
1. ______________________________
2. ______________________________
3. ______________________________
總時間：____ 分鐘（節省 ____ 分鐘）
```

### 案例 2.2：工具使用不當
**原始流程**：理解一個大型專案
```
1. 用 Claude Code 分析主要模組（45 分鐘）
2. 用 Claude Code 分析資料庫結構（30 分鐘）
3. 用 Claude Code 分析 API 路由（45 分鐘）
總時間：120 分鐘，但理解仍不完整
```

**問題分析**：
- _________________________________
- _________________________________

**改進方案**：
```
1. ______________________________
2. ______________________________
3. ______________________________
總時間：____ 分鐘（提升理解深度）
```

### 案例 2.3：頻繁切換成本
**原始流程**：日常開發任務
```
1. 用 Copilot 寫 5 行程式碼（2 分鐘）
2. 切換到 Claude Code 審查（5 分鐘）
3. 回到 Copilot 繼續寫 5 行（2 分鐘）
4. 再切換到 Claude Code 討論（5 分鐘）
重複 10 次，總時間：140 分鐘
```

**問題分析**：
- _________________________________
- _________________________________

**改進方案**：
```
1. ______________________________
2. ______________________________
3. ______________________________
總時間：____ 分鐘（減少切換次數）
```

---

## 練習 3：團隊流程設計（5 分鐘）

設計適合不同團隊角色的混合工作流程：

### 場景 3.1：初級工程師
**特點**：經驗較少，需要學習和指導
**主要任務**：實作功能、寫測試、學習最佳實踐

**推薦流程**：
```
日常開發：
1. ______________________________
2. ______________________________
3. ______________________________

學習新技術：
1. ______________________________
2. ______________________________
```

### 場景 3.2：資深工程師
**特點**：經驗豐富，效率要求高
**主要任務**：複雜功能開發、架構設計、問題解決

**推薦流程**：
```
複雜功能開發：
1. ______________________________
2. ______________________________
3. ______________________________

問題排查：
1. ______________________________
2. ______________________________
```

### 場景 3.3：Tech Lead
**特點**：需要指導團隊，關注品質和架構
**主要任務**：程式碼審查、架構設計、技術決策

**推薦流程**：
```
程式碼審查：
1. ______________________________
2. ______________________________

架構設計：
1. ______________________________
2. ______________________________
3. ______________________________
```

---

## 📊 參考答案與最佳實踐

### 練習 1：基礎流程設計

**場景 1.1：開發新功能**
```
步驟 1：快速實作核心邏輯
工具：Copilot，時間：30 分鐘
目標：API 端點、資料模型、基本邏輯

步驟 2：安全性和品質審查
工具：Claude Code，時間：10 分鐘
目標：檢查安全漏洞、邏輯錯誤、最佳實踐

步驟 3：測試和文檔生成
工具：Copilot（測試）+ Claude Code（文檔），時間：15 分鐘
目標：完整的測試覆蓋和 API 文檔

總時間：55 分鐘
```

**場景 1.2：Bug 修復**
```
步驟 1：快速定位和理解問題
工具：Claude Code，時間：10 分鐘
目標：分析問題原因和影響範圍

步驟 2：修復實作
工具：Copilot，時間：15 分鐘
目標：快速修改程式碼

步驟 3：驗證和測試
工具：Claude Code，時間：10 分鐘
目標：確保修復正確且無副作用

總時間：35 分鐘
```

**場景 1.3：程式碼審查**
```
步驟 1：自動化安全和品質檢查
工具：Claude Code（/agents:security-auditor + code-reviewer），時間：15 分鐘
目標：識別明顯問題和安全漏洞

步驟 2：邏輯和架構審查
工具：Claude Code，時間：15 分鐘
目標：檢查業務邏輯正確性和設計合理性

步驟 3：生成審查報告
工具：Claude Code，時間：10 分鐘
目標：結構化的反饋和改進建議

總時間：40 分鐘
```

**場景 1.4：重構遺留程式碼**
```
步驟 1：理解現有架構和依賴
工具：Claude Code，時間：45 分鐘
目標：全面理解現有程式碼結構和問題

步驟 2：設計重構計畫
工具：Claude Code，時間：30 分鐘
目標：制定分階段的重構策略

步驟 3：執行重構
工具：Claude Code（大規模修改）+ Copilot（細節實作），時間：120 分鐘
目標：逐步完成重構並保持功能正確

總時間：195 分鐘（分多次完成）
```

**場景 1.5：技術調研**
```
步驟 1：收集和分析資料
工具：Claude Code + 網路資源，時間：60 分鐘
目標：了解技術特性、生態系統、案例

步驟 2：實作概念驗證
工具：Copilot，時間：45 分鐘
目標：實際體驗技術的開發流程

步驟 3：撰寫技術報告
工具：Claude Code，時間：30 分鐘
目標：結構化的技術選型建議

總時間：135 分鐘
```

### 練習 2：進階流程優化

**案例 2.1：效率低下的流程**

**問題分析**：
- 過度使用 Claude Code，忽略了 Copilot 在編碼上的效率優勢
- 沒有根據任務特性選擇最適合的工具

**改進方案**：
```
1. Claude Code 討論 API 設計（15 分鐘）
2. Copilot 快速實作程式碼（30 分鐘）
3. Claude Code 安全審查 + 生成文檔（15 分鐘）
總時間：60 分鐘（節省 60 分鐘）
```

**案例 2.2：工具使用不當**

**問題分析**：
- 用 Claude Code 分析大型專案效率低下
- 應該優先使用 Gemini CLI 建立全局理解

**改進方案**：
```
1. Gemini CLI 全局分析（20 分鐘）
2. Claude Code 深入核心模組（30 分鐘）
3. 實際操作驗證理解（15 分鐘）
總時間：65 分鐘（提升理解深度且節省時間）
```

**案例 2.3：頻繁切換成本**

**問題分析**：
- 工具切換太頻繁，每次切換都有認知成本
- 應該批次處理相同類型的任務

**改進方案**：
```
1. Copilot 連續編碼階段（45 分鐘）
2. Claude Code 整體審查和優化（20 分鐘）
3. Copilot 根據建議修改（15 分鐘）
總時間：80 分鐘（減少 60 分鐘切換成本）
```

### 練習 3：團隊流程設計

**初級工程師**：
```
日常開發：
1. Copilot 為主（學習業界寫法）
2. Claude Code 定期審查（學習最佳實踐）
3. 記錄學習心得（積累經驗）

學習新技術：
1. Copilot 快速體驗（建立感覺）
2. Claude Code 深入討論（理解原理）
```

**資深工程師**：
```
複雜功能開發：
1. Claude Code 設計架構
2. Copilot 快速實作
3. Claude Code 品質保證

問題排查：
1. Claude Code 快速分析
2. Copilot 修復實作
```

**Tech Lead**：
```
程式碼審查：
1. Claude Code 自動化檢查
2. 人工重點審查和指導

架構設計：
1. Gemini CLI 全局分析（如需要）
2. Claude Code 設計討論
3. 團隊討論和決策
```

---

## 🎯 設計原則總結

### 高效混合流程的特徵

1. **明確的階段劃分**
   ```
   分析階段 → 實作階段 → 驗證階段
   每個階段使用最適合的工具
   ```

2. **減少無意義的切換**
   ```
   批次處理同類任務
   避免頻繁在工具間跳轉
   ```

3. **工具特性匹配**
   ```
   快速編碼 → Copilot
   深度分析 → Claude Code / Gemini CLI
   品質保證 → Claude Code
   ```

4. **時間成本考量**
   ```
   工具啟動時間
   上下文切換成本
   學習和適應成本
   ```

### 常見的設計錯誤

❌ **過度工程化**：為簡單任務設計複雜流程
❌ **工具錯配**：用複雜工具處理簡單任務
❌ **忽略切換成本**：頻繁切換工具
❌ **一刀切**：所有任務都用同一套流程

### 優化技巧

✅ **預設流程**：為常見任務建立標準流程
✅ **靈活調整**：根據具體情況調整工具選擇
✅ **定期檢視**：每月評估流程效率
✅ **團隊同步**：確保團隊成員理解最佳實踐

---

## 🚀 實戰應用

### 第一週：建立個人標準流程
1. 為你最常見的 5 種任務設計混合流程
2. 記錄實際使用時間和效果
3. 每天調整和優化

### 第二週：團隊流程推廣
1. 與團隊分享你的最佳實踐
2. 收集團隊反饋和建議
3. 制定團隊標準流程

### 長期優化
1. **每月檢視**：哪些流程效果好，哪些需要改進
2. **新工具評估**：新工具如何融入現有流程
3. **知識分享**：與社群分享你的最佳實踐

---

## 📈 成效評估

### 流程效率指標
- **時間節省**：完成同樣任務需要的時間
- **品質提升**：bug 率、程式碼品質分數
- **學習效果**：新技術掌握速度
- **團隊協作**：溝通成本、知識分享效果

### 自我檢查問題
1. 我的工作流程中最大的時間浪費在哪裡？
2. 我是否充分發揮了每個工具的優勢？
3. 團隊成員能否理解和執行我設計的流程？
4. 新人能否快速學會這套流程？

---

**情境版本**：v1.0
**最後更新**：2025-01-30
**建議完成時間**：30 分鐘
**難度評估**：2/5
**重要度**：4/5（工作流程設計是提升效率的關鍵）