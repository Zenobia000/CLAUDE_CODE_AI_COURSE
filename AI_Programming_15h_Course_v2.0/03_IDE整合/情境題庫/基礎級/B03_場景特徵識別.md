# B03：場景特徵識別（基礎級）

## 情境資訊

**編號**：B03
**難度**：⭐⭐☆☆☆（基礎級）
**預計時間**：30 分鐘
**學習目標**：
- 訓練快速識別場景特徵的能力
- 掌握「三個問題法」的實際應用
- 建立場景 → 工具的直覺映射
- 提升決策速度和準確性

**適用對象**：
- 想建立快速判斷能力的開發者
- 經常需要在工具間切換的工程師
- 希望優化工具選擇流程的團隊成員

---

## 核心方法：三個問題法

在每個場景中，快速問自己三個關鍵問題：

### 問題 1：任務的「廣度」？
```
單一檔案        → Copilot 優勢
幾個檔案（<10） → Copilot + Claude Code
一個模組（<30） → Claude Code 主力
整個專案（>50） → Gemini CLI 全局分析
```

### 問題 2：需要「執行」還是「分析」？
```
只需要分析、理解 → Gemini CLI（僅分析）
需要修改程式碼   → Claude Code（可執行）
需要即時補全     → Copilot（即時）
```

### 問題 3：「頻率」多高？
```
持續使用（每分鐘） → Copilot（不干擾工作流程）
偶爾使用（每小時） → Claude Code（對話式）
極少使用（每週）   → Gemini CLI（一次性分析）
```

---

## 練習 1：快速特徵識別（10 分鐘）

對以下 15 個場景，快速回答三個問題並選擇工具。**限時 20 秒/題**。

### 場景 1.1
需要為一個函數寫 JSDoc 註解。

**你的答案**：
- 廣度：______ 檔案
- 執行 or 分析：______
- 頻率：______
- **選擇工具**：______

### 場景 1.2
分析一個 200 檔案的 React 專案，找出所有使用了過時 API 的地方。

**你的答案**：
- 廣度：______ 檔案
- 執行 or 分析：______
- 頻率：______
- **選擇工具**：______

### 場景 1.3
寫一個 Python 爬蟲腳本，約 50 行程式碼。

**你的答案**：
- 廣度：______ 檔案
- 執行 or 分析：______
- 頻率：______
- **選擇工具**：______

### 場景 1.4
重構一個微服務的錯誤處理機制，涉及 15 個檔案。

**你的答案**：
- 廣度：______ 檔案
- 執行 or 分析：______
- 頻率：______
- **選擇工具**：______

### 場景 1.5
理解一個新接手的專案（300 檔案）的架構。

**你的答案**：
- 廣度：______ 檔案
- 執行 or 分析：______
- 頻率：______
- **選擇工具**：______

### 場景 1.6
批量建立 10 個相似的 React 元件。

**你的答案**：
- 廣度：______ 檔案
- 執行 or 分析：______
- 頻率：______
- **選擇工具**：______

### 場景 1.7
為整個專案生成 API 文檔。

**你的答案**：
- 廣度：______ 檔案
- 執行 or 分析：______
- 頻率：______
- **選擇工具**：______

### 場景 1.8
寫一個複雜的演算法函數（動態規劃）。

**你的答案**：
- 廣度：______ 檔案
- 執行 or 分析：______
- 頻率：______
- **選擇工具**：______

### 場景 1.9
審查一個 Pull Request 的安全性（8 個檔案）。

**你的答案**：
- 廣度：______ 檔案
- 執行 or 分析：______
- 頻率：______
- **選擇工具**：______

### 場景 1.10
分析競爭對手的開源專案（500+ 檔案）。

**你的答案**：
- 廣度：______ 檔案
- 執行 or 分析：______
- 頻率：______
- **選擇工具**：______

### 場景 1.11
為一個函數快速生成單元測試。

**你的答案**：
- 廣度：______ 檔案
- 執行 or 分析：______
- 頻率：______
- **選擇工具**：______

### 場景 1.12
規劃將 Monolith 拆分為微服務的策略。

**你的答案**：
- 廣度：______ 檔案
- 執行 or 分析：______
- 頻率：______
- **選擇工具**：______

### 場景 1.13
建立一個 Express API，包含 CRUD 操作。

**你的答案**：
- 廣度：______ 檔案
- 執行 or 分析：______
- 頻率：______
- **選擇工具**：______

### 場景 1.14
找出專案中所有的 TODO 註解並分類整理。

**你的答案**：
- 廣度：______ 檔案
- 執行 or 分析：______
- 頻率：______
- **選擇工具**：______

### 場景 1.15
實作一個支付閘道整合（涉及加密、API 呼叫、錯誤處理）。

**你的答案**：
- 廣度：______ 檔案
- 執行 or 分析：______
- 頻率：______
- **選擇工具**：______

---

## 練習 2：進階特徵分析（15 分鐘）

以下場景包含更多複雜因素，需要綜合考慮多個特徵：

### 場景 2.1：緊急 Bug 修復
**背景**：
- 生產環境出現嚴重 bug
- 需要在 30 分鐘內修復
- Bug 可能在 3-5 個相關檔案中
- 團隊壓力很大，需要快速定位問題

**額外考慮因素**：
- ⏱️ **時間壓力**：30 分鐘內必須完成
- 🎯 **精準度要求**：不能引入新 bug
- 👥 **協作需求**：可能需要向其他人快速解釋

**你的分析**：
- 主要特徵：廣度 ___、執行 ___、頻率 ___
- 額外考量：___________________________
- **工具選擇**：_______________________
- **理由**：_____________________________

### 場景 2.2：學習新技術棧
**背景**：
- 第一次接觸 Go 語言
- 需要寫一個微服務 demo
- 約 20 個檔案，包含 API、資料庫、測試
- 希望學習最佳實踐

**額外考慮因素**：
- 📚 **學習導向**：想了解語言慣用法
- 🏗️ **模式學習**：需要理解架構模式
- ⚡ **快速上手**：希望盡快看到成果

**你的分析**：
- 主要特徵：廣度 ___、執行 ___、頻率 ___
- 額外考量：___________________________
- **工具選擇**：_______________________
- **理由**：_____________________________

### 場景 2.3：技術負債清理
**背景**：
- 專案積累了大量技術債
- 需要重構 100+ 個檔案
- 包含：移除過時依賴、統一程式碼風格、優化性能
- 是長期項目，預計 2 個月

**額外考慮因素**：
- 📊 **一致性要求**：所有修改需要統一標準
- 🔄 **可逆性**：需要能夠回滾修改
- 📈 **進度追蹤**：需要清楚的進展報告

**你的分析**：
- 主要特徵：廣度 ___、執行 ___、頻率 ___
- 額外考量：___________________________
- **工具選擇**：_______________________
- **理由**：_____________________________

### 場景 2.4：程式碼審查與指導
**背景**：
- 你是 tech lead，需要審查初級工程師的程式碼
- 20 個檔案的功能實作
- 需要提供詳細的改進建議
- 希望這成為學習機會

**額外考慮因素**：
- 👨‍🏫 **教育性質**：需要解釋為什麼要這樣改
- 📝 **文檔化**：建議需要能記錄下來
- 🎯 **建設性**：既要指出問題，也要提供解決方案

**你的分析**：
- 主要特徵：廣度 ___、執行 ___、頻率 ___
- 額外考量：___________________________
- **工具選擇**：_______________________
- **理由**：_____________________________

### 場景 2.5：競品技術分析
**背景**：
- 需要分析競爭對手的開源專案
- 目標：理解其技術架構和創新點
- 專案規模：500+ 檔案，複雜的微服務架構
- 需要產出分析報告

**額外考慮因素**：
- 🔍 **深度分析**：不只是概覽，需要找出關鍵技術
- 📊 **對比分析**：與自己的技術棧對比
- 💡 **創新發現**：識別可以借鑑的技術

**你的分析**：
- 主要特徵：廣度 ___、執行 ___、頻率 ___
- 額外考量：___________________________
- **工具選擇**：_______________________
- **理由**：_____________________________

---

## 練習 3：邊界情況判斷（5 分鐘）

以下是一些模糊的邊界情況，需要更細緻的判斷：

### 邊界情況 1
**場景**：重構一個 25 檔案的模組
- 剛好在 Claude Code（<30 檔案）和 Gemini CLI（>20 檔案）的邊界
- **你的選擇和理由**：___________________________

### 邊界情況 2
**場景**：需要修改程式碼，但也需要先理解大量的背景程式碼（100+ 檔案）
- 同時涉及「分析」和「執行」
- **你的選擇和理由**：___________________________

### 邊界情況 3
**場景**：日常工作中偶爾遇到的任務（每週 1-2 次），但每次都很複雜
- 頻率不高，但複雜度高
- **你的選擇和理由**：___________________________

### 邊界情況 4
**場景**：團隊中有人專門負責某類分析，但你偶爾也需要做
- 有專業人士，但你也要有基本能力
- **你的選擇和理由**：___________________________

### 邊界情況 5
**場景**：預算有限，只能選一個工具處理所有場景
- 資源受限的情況
- **你的選擇和理由**：___________________________

---

## 📊 參考答案

### 練習 1：快速特徵識別

| 場景 | 廣度 | 執行/分析 | 頻率 | 工具選擇 | 關鍵理由 |
|------|------|-----------|------|----------|-----------|
| 1.1 函數註解 | 1檔案 | 執行 | 持續 | **Copilot** | 單檔案編碼任務 |
| 1.2 過時API分析 | 200檔案 | 分析 | 極少 | **Gemini CLI** | 大規模分析任務 |
| 1.3 爬蟲腳本 | 1檔案 | 執行 | 偶爾 | **Copilot** | 單檔案新建 |
| 1.4 錯誤處理重構 | 15檔案 | 執行 | 偶爾 | **Claude Code** | 跨檔案重構 |
| 1.5 架構理解 | 300檔案 | 分析 | 極少 | **Gemini CLI** | 大規模理解 |
| 1.6 批量元件 | 10檔案 | 執行 | 偶爾 | **Copilot** | 重複模式生成 |
| 1.7 API文檔 | 多檔案 | 執行 | 偶爾 | **Claude Code** | 格式化輸出需求 |
| 1.8 演算法函數 | 1檔案 | 執行 | 偶爾 | **Claude Code** | 複雜邏輯需要討論 |
| 1.9 安全審查 | 8檔案 | 分析 | 偶爾 | **Claude Code** | 專業安全分析 |
| 1.10 競品分析 | 500檔案 | 分析 | 極少 | **Gemini CLI** | 超大規模分析 |
| 1.11 單元測試 | 1檔案 | 執行 | 持續 | **Copilot** | 測試模式生成 |
| 1.12 微服務規劃 | 多檔案 | 分析 | 極少 | **Gemini CLI** | 全局架構分析 |
| 1.13 Express API | 5檔案 | 執行 | 偶爾 | **Copilot** | 標準模式實作 |
| 1.14 TODO整理 | 多檔案 | 分析 | 偶爾 | **Claude Code** | 跨檔案搜索整理 |
| 1.15 支付整合 | 3檔案 | 執行 | 偶爾 | **Claude Code** | 安全性要求高 |

### 練習 2：進階特徵分析

**場景 2.1：緊急 Bug 修復**
- **工具選擇**：Claude Code
- **理由**：時間壓力下需要快速而準確的分析，Claude Code 的 /agents:debugger 可以快速定位問題並提供可靠修復方案

**場景 2.2：學習新技術棧**
- **工具選擇**：Copilot（主要）+ Claude Code（討論）
- **理由**：Copilot 能教學語言慣用法，Claude Code 可討論架構模式

**場景 2.3：技術負債清理**
- **工具選擇**：Claude Code
- **理由**：大規模、長期的重構項目需要工作流程編排和一致性保證

**場景 2.4：程式碼審查與指導**
- **工具選擇**：Claude Code（/agents:code-reviewer）
- **理由**：需要生成教育性的、詳細的反饋報告

**場景 2.5：競品技術分析**
- **工具選擇**：Gemini CLI
- **理由**：500+ 檔案的深度分析，需要巨量上下文理解

### 練習 3：邊界情況判斷

1. **25 檔案重構**：選 Claude Code
   - 雖然接近邊界，但重構需要執行能力

2. **100+ 檔案背景理解 + 修改**：Gemini CLI（分析）→ Claude Code（執行）
   - 混合使用，先理解再執行

3. **每週複雜任務**：Claude Code
   - 複雜度比頻率更重要

4. **偶爾需要專業分析**：基本 Claude Code + 按需 Gemini CLI
   - 平衡專業需求和成本

5. **預算受限選一個**：Claude Code
   - 最全面的工具，70% 場景都能處理

---

## 🎯 能力評估

### 速度測試
- **15 題 < 5 分鐘**：⭐⭐⭐⭐⭐ 專家級直覺
- **15 題 5-8 分鐘**：⭐⭐⭐⭐ 熟練
- **15 題 8-12 分鐘**：⭐⭐⭐ 合格
- **15 題 > 12 分鐘**：⭐⭐ 需要更多練習

### 準確率測試
- **正確率 > 90%**：⭐⭐⭐⭐⭐ 專家級判斷
- **正確率 80-90%**：⭐⭐⭐⭐ 優秀
- **正確率 70-80%**：⭐⭐⭐ 合格
- **正確率 < 70%**：⭐⭐ 需要重新學習理論

---

## 💡 提升技巧

### 如果速度慢
1. **練習「三個問題」口訣**：廣度→執行→頻率
2. **建立場景模板**：常見場景→固定選擇
3. **避免過度分析**：第一直覺往往是對的

### 如果準確率低
1. **重新學習理論**：回到 3.1-3.3 章節複習
2. **分析錯誤原因**：是哪個因素判斷錯了？
3. **實際使用驗證**：在工作中測試你的選擇

### 如果邊界情況困難
1. **考慮混合使用**：不一定要選單一工具
2. **考慮成本因素**：便宜的方案 vs 最優方案
3. **考慮學習成本**：團隊熟悉度也是因素

---

## 🚀 下一步行動

### 如果表現優秀（速度快+準確率高）
- 挑戰 B04：混合流程設計
- 嘗試組合級情境（C01-C05）
- 開始為團隊制定工具選擇標準

### 如果需要改進
- 每天練習 5 個快速判斷場景
- 在實際工作中有意識地應用三個問題法
- 一週後重做本練習

### 建立持續練習
1. **每日練習**：遇到新任務時，先問三個問題
2. **記錄決策**：追蹤你的選擇和實際效果
3. **定期回顧**：每月檢視決策準確性

---

**情境版本**：v1.0
**最後更新**：2025-01-30
**建議完成時間**：30 分鐘
**難度評估**：2/5
**重要度**：5/5（快速判斷是核心技能）